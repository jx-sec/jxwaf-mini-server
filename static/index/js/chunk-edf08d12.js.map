{"version":3,"sources":["webpack:///./src/components/report-flow.vue?1d17","webpack:///./src/components/report-flow.vue","webpack:///./src/components/report-flow.vue?9ada"],"names":["class","id","span","type","justify","domain","placeholder","onChangeDomain","size","domainList","item","key","label","value","timeZone","onChangeTime","timeList","shadow","header","requestCountTotle","loading","requestIpTotle","requestCountTrend","ipCountTrend","attTypeTop","attIpTop","attUriTop","attIpCountryTop","loadingPage","mixins","data","logSource","computed","rules","public_key","required","message","trigger","mounted","this","getdomainListData","getData","methods","t","response","unshift","log_source","$message","duration","showClose","dangerouslyUseHTMLString","getRequestCountTotle","getRequestIpTotle","getRequestCountTrend","getIpCountTrend","getAttTypeTop","getAttIpTop","getAttUriTop","getAttIpCountryTop","postUrl","time_zone","_data","AnalysisResults","Data","Value","count","initLineChart","initBarChart","obj","find","text","x","y","title","col","ColNames","i","length","dataItem","j","Key","push","slsdata","m","time","option","color","tooltip","xAxis","yAxis","series","buildChart","axisPointer","grid","left","right","bottom","containLabel","document","querySelector","_option","myChart","echart","init","getElementById","setOption","render"],"mappings":"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","file":"static/index/js/chunk-edf08d12.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./report-flow.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./report-flow.vue?vue&type=style&index=0&lang=css\"","<template>\r\n  <el-row class=\"echart-container\" v-loading.fullscreen.lock=\"loadingPage\">\r\n    <el-col :span=\"24\">\r\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n        <el-col :span=\"12\">\r\n            <h3>流量安全报表</h3>\r\n            \r\n        </el-col>\r\n        <el-col :span=\"12\" class=\"text-align-right\">\r\n          <div class=\"echart-select\">\r\n            <el-select\r\n              v-model=\"domain\"\r\n              placeholder=\"请选择\"\r\n              @change=\"onChangeDomain\"\r\n              size=\"small\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in domainList\"\r\n                :key=\"item.domain\"\r\n                :label=\"item.domain\"\r\n                :value=\"item.domain\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n\r\n            <el-select\r\n              v-model=\"timeZone\"\r\n              placeholder=\"请选择\"\r\n              @change=\"onChangeTime\"\r\n              size=\"small\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in timeList\"\r\n                :key=\"item.key\"\r\n                :label=\"item.value\"\r\n                :value=\"item.key\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          \r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-divider />\r\n      <div class=\"margin-4x\"></div>\r\n      <el-row>\r\n        <el-col :span=\"12\">\r\n          <el-card\r\n            class=\"box-card\"\r\n            shadow=\"never\"\r\n            v-loading=\"loading.requestCountTotle\"\r\n          >\r\n            <template #header>\r\n              <div class=\"card-header\">\r\n                <span>攻击总数</span>\r\n              </div>\r\n            </template>\r\n            <div class=\"card-text\">\r\n              <span>{{ requestCountTotle }}</span>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-card\r\n            class=\"box-card\"\r\n            shadow=\"never\"\r\n            v-loading=\"loading.requestIpTotle\"\r\n          >\r\n            <template #header>\r\n              <div class=\"card-header\">\r\n                <span>攻击IP总数</span>\r\n              </div>\r\n            </template>\r\n            <div class=\"card-text\">\r\n              <span>{{ requestIpTotle }}</span>\r\n            </div>\r\n          </el-card>\r\n          <div class=\"margin-4x\"></div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span = \"12\" v-loading=\"loading.requestCountTrend\">\r\n          <div id=\"request-count-trend\"></div>\r\n        </el-col>\r\n        <el-col :span = \"12\" v-loading=\"loading.ipCountTrend\">\r\n          <div id=\"ip-count-trend\"></div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span = \"12\" v-loading=\"loading.attTypeTop\">\r\n          <div id=\"att-type-top\"></div>\r\n        </el-col>\r\n        <el-col :span = \"12\" v-loading=\"loading.attIpTop\">\r\n          <div id=\"att-ip-top\"></div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span = \"12\" v-loading=\"loading.attUriTop\">\r\n          <div id=\"att-uri-top\"></div>\r\n        </el-col>\r\n        <el-col :span = \"12\" v-loading=\"loading.attIpCountryTop\">\r\n          <div id=\"att-ip-country-top\"></div>\r\n        </el-col>\r\n      </el-row>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport echarts  from \"../assets/scripts/echart\";\r\nimport { mixin, JXAjax } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loadingPage: false,\r\n      logSource: \"\",\r\n      domainList: [],\r\n      domain: \"\",\r\n      timeZone: \"7day\",\r\n      timeList: [\r\n        { key: \"7day\", value: \"7天\" },\r\n        { key: \"24hour\", value:\"24小时\"  },\r\n        { key: \"1hour\", value: \"1小时\" },\r\n      ],\r\n      loading: {\r\n        requestCountTotle: true,\r\n        requestIpTotle: true,\r\n        requestCountTrend: true,\r\n        ipCountTrend: true,\r\n        attTypeTop: true,\r\n        attIpTop: true,\r\n        attUriTop: true,\r\n        attIpCountryTop: true,\r\n\r\n      },\r\n      requestCountTotle: \"0\",\r\n      requestIpTotle:\"0\",\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {      \r\n        public_key: [\r\n          { required: true, message: '请输入公钥', trigger: \"blur\" },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    \r\n    this.getdomainListData();\r\n    this.getData();\r\n  },\r\n  methods: { \r\n    getdomainListData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_domain_list\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.domainList = response.data.message;\r\n          t.domainList.unshift({ domain: \"All\" });\r\n          t.domain = t.domainList[0].domain;\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \r\n      );\r\n    },\r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_sys_report_conf\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.logSource = response.data.message.log_source;\r\n          if (t.logSource == \"\") {\r\n            t.$message({\r\n              duration: 0,\r\n              showClose: true,\r\n              message: \"报表配置未设置日志数据来源，\" + \"<a href='/#/sys-report-conf' class='error-message-btn'>\" + \"请前往配置\" + \"</a>\",\r\n              type: \"warning\",\r\n              dangerouslyUseHTMLString: true,\r\n            });\r\n          } else { \r\n            t.getRequestCountTotle();\r\n            t.getRequestIpTotle();\r\n            t.getRequestCountTrend();\r\n            t.getIpCountTrend();\r\n            t.getAttTypeTop();\r\n            t.getAttIpTop();\r\n            t.getAttUriTop();\r\n            t.getAttIpCountryTop();\r\n          }\r\n          \r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        }\r\n      );\r\n    },\r\n    \r\n    getRequestCountTotle() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_request_count_totle\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_request_count_totle\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {  \r\n          if (t.logSource == \"cls\") {\r\n            var _data = response.data.message.AnalysisResults;\r\n            t.requestCountTotle = _data[0].Data[0].Value;\r\n          } else if (t.logSource == \"sls\") { \r\n            t.requestCountTotle = response.data.message[0].count;\r\n          }\r\n          \r\n          t.loading.requestCountTotle = false;\r\n          \r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getRequestIpTotle() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_request_ip_totle\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_request_ip_totle\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          if (t.logSource == \"cls\") {\r\n            var _data = response.data.message.AnalysisResults;\r\n            t.requestIpTotle = _data[0].Data[0].Value;\r\n          } else if (t.logSource == \"sls\") { \r\n            t.requestIpTotle = response.data.message[0].count;\r\n          }\r\n          \r\n          t.loading.requestIpTotle = false;\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getRequestCountTrend() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_request_count_trend\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_request_count_trend\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.requestCountTrend = response.data.message;\r\n          t.loading.requestCountTrend = false;\r\n          t.initLineChart(t.requestCountTrend, \"request-count-trend\", \"攻击流量趋势图\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getIpCountTrend() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_ip_count_trend\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_ip_count_trend\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.loading.ipCountTrend = false;\r\n          t.ipCountTrend = response.data.message;\r\n          t.initLineChart(t.ipCountTrend, \"ip-count-trend\", \"攻击IP数量趋势图\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    \r\n    getAttTypeTop() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_att_type_top10\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_att_type_top10\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.loading.attTypeTop = false;\r\n          t.attTypeTop = response.data.message;\r\n          t.initBarChart(t.attTypeTop, \"att-type-top\", \"命中防护-TOP10\", \"waf_policy\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getAttIpTop() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_att_ip_top10\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_att_ip_top10\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.loading.attIpTop = false;\r\n          t.attIpTop = response.data.message;\r\n          t.initBarChart(t.attIpTop, \"att-ip-top\", \"攻击IP-TOP10\", \"src_ip\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getAttUriTop() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_att_uri_top10\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_att_uri_top10\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.loading.attUriTop = false;\r\n          t.attUriTop = response.data.message;\r\n          t.initBarChart(t.attUriTop, \"att-uri-top\", \"攻击URL-TOP10\", \"src_ip\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    getAttIpCountryTop() {\r\n      var t = this;\r\n      var postUrl = \"/report/cls_flow_att_ip_country_top10\";\r\n      if (t.logSource == \"sls\") { \r\n        postUrl = \"/report/sls_flow_att_ip_country_top10\";\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        {time_zone: t.timeZone},\r\n        function (response) {\r\n          t.loading.attIpCountryTop = false;\r\n          t.attIpCountryTop = response.data.message;\r\n          t.initBarChart(t.attIpCountryTop, \"att-ip-country-top\", \"攻击来源地区-TOP10\", \"src_ip\");\r\n        },\r\n        function () {\r\n          \r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onChangeDomain(value) {\r\n      var obj = {};\r\n      obj = this.domainList.find((item) => {\r\n        return item.domain === value;\r\n      });\r\n      this.domain = obj.domain;\r\n      this.getData();\r\n    },\r\n    onChangeTime(value) {\r\n      var obj = {};\r\n      obj = this.timeList.find((item) => {\r\n        return item.key === value;\r\n      });\r\n      this.timeZone = obj.key;\r\n      this.getData();\r\n    },\r\n    initLineChart(message, id, text) {\r\n      var x = [];\r\n      var y = [];\r\n      var title = text || \"\";\r\n\r\n      if (this.logSource == \"cls\") { \r\n        var data = message.AnalysisResults;\r\n        var col =  message.ColNames;\r\n\r\n        for (var i = 0; i < data.length; i++) {\r\n          var dataItem = data[i].Data;\r\n          for (var j = 0; j < dataItem.length; j++) { \r\n            if (dataItem[j].Key == col[0]) { \r\n              x.push(dataItem[j].Value);\r\n            }\r\n            if (dataItem[j].Key == col[1]) { \r\n              y.push(dataItem[j].Value);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.logSource == \"sls\") { \r\n        var slsdata = message;\r\n        for (var m = 0; m < slsdata.length; m++) {\r\n          x.push(slsdata[m].time)\r\n          y.push(slsdata[m].count)\r\n        }\r\n      }\r\n      \r\n      var option = {\r\n        title: {\r\n          text: title\r\n        },\r\n        // 全局调色盘。\r\n        color: [\r\n          '#c23531',\r\n        ],\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          // formatter: \"{c}\",\r\n        },\r\n\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: x,\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n        },\r\n        series: [\r\n          {\r\n            data: y,\r\n            type: \"line\",\r\n          },\r\n        ],\r\n      };\r\n      this.buildChart(id, option);\r\n    },\r\n    initBarChart(message, id, text, key) {\r\n      var x = [];\r\n      var y = [];\r\n      var title = text || \"\";\r\n\r\n      if (this.logSource == \"cls\") {\r\n        var data = message.AnalysisResults;\r\n        var col = message.ColNames;\r\n\r\n        for (var i = 0; i < data.length; i++) {\r\n          var dataItem = data[i].Data;\r\n          for (var j = 0; j < dataItem.length; j++) {\r\n            if (dataItem[j].Key == col[0]) {\r\n              y.push(dataItem[j].Value);\r\n            }\r\n            if (dataItem[j].Key == col[1]) {\r\n              x.push(dataItem[j].Value);\r\n            }\r\n          }\r\n        }\r\n      } else if (this.logSource == \"sls\") { \r\n        var slsdata = message;\r\n        for (var m = 0; m < slsdata.length; m++) {\r\n          y.push(slsdata[m][key])\r\n          x.push(slsdata[m].count)\r\n        }\r\n      }\r\n      \r\n\r\n      var option = {\r\n        title: {\r\n          text: title\r\n        },\r\n        // 全局调色盘。\r\n        color: [\r\n          '#c23531',\r\n          '#2f4554',\r\n          '#61a0a8',\r\n          '#d48265',\r\n          '#91c7ae',\r\n          '#749f83',\r\n          '#ca8622',\r\n          '#bda29a',\r\n          '#6e7074',\r\n          '#546570',\r\n          '#c4ccd3'\r\n        ],\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        \r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        yAxis: {\r\n          type: \"category\",\r\n          data: y,\r\n        },\r\n        xAxis: {\r\n          type: \"value\",\r\n          \r\n        },\r\n        series: [\r\n          {\r\n            data: x,\r\n            type: \"bar\",\r\n          },\r\n        ],\r\n      };\r\n      this.buildChart(id, option);\r\n    },\r\n    buildChart(id, option) {\r\n      //var theme = theme || \"macarons\";\r\n      if (document.querySelector(\"#\" + id)) {\r\n        var _option = option || [];\r\n        var myChart = echarts.init(document.getElementById(id));\r\n        if (_option && typeof _option === \"object\") {\r\n          myChart.setOption(_option, true);\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n#request-count-trend,\r\n#ip-count-trend,\r\n#att-type-top,\r\n#att-ip-top,\r\n#att-uri-top,\r\n#att-ip-country-top\r\n{\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n.echart-container .echart-select .el-select{\r\n  margin-left: 10px;\r\n}\r\n.echart-container .el-card__header {\r\n  border-bottom: none;\r\n}\r\n.echart-container .el-card__body {\r\n  padding: 0px;\r\n}\r\n.echart-container .card-text {\r\n  height: 160px;\r\n  font-weight: bold;\r\n  color: #f56c6c;\r\n  text-align: center;\r\n  font-size: 50px;\r\n  line-height: 160px;\r\n}\r\n.echart-container .el-col-12 {\r\n  padding: 0 10px;\r\n}\r\n</style>\r\n","import { render } from \"./report-flow.vue?vue&type=template&id=15d91e3c\"\nimport script from \"./report-flow.vue?vue&type=script&lang=js\"\nexport * from \"./report-flow.vue?vue&type=script&lang=js\"\n\nimport \"./report-flow.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}