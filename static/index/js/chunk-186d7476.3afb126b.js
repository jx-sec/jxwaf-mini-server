(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-186d7476"],{"1c7e":function(e,t,a){"use strict";a("967a")},"2e34":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c=Object(o["createVNode"])("h3",null,"节点管理",-1),l=Object(o["createVNode"])("div",{class:"margin-4x"},null,-1),d={class:"ssl-search-input"},n={class:"demo-block"},i=Object(o["createTextVNode"])(" 节点IP地址： "),r=Object(o["createTextVNode"])(" 节点主机名称： "),b=Object(o["createTextVNode"])("  WAF配置更新： "),u=Object(o["createTextVNode"])("  名单数据更新： "),s=Object(o["createTextVNode"])(" WAF配置更新时间： "),j=Object(o["createTextVNode"])(" 名单数据更新时间： "),O={key:0},p=Object(o["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),_=Object(o["createTextVNode"])("正常 "),V={key:1},w=Object(o["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),f=Object(o["createTextVNode"])("异常 "),h=Object(o["createVNode"])("p",null,"确定删除吗？",-1),N={style:{"text-align":"right",margin:"0"}},m=Object(o["createTextVNode"])("取消"),g=Object(o["createTextVNode"])("确定 "),v=Object(o["createTextVNode"])("删除");function C(e,t,a,C,x,k){const D=Object(o["resolveComponent"])("el-col"),y=Object(o["resolveComponent"])("el-row"),S=Object(o["resolveComponent"])("el-input"),U=Object(o["resolveComponent"])("el-table-column"),P=Object(o["resolveComponent"])("el-switch"),T=Object(o["resolveComponent"])("el-button"),B=Object(o["resolveComponent"])("el-popover"),z=Object(o["resolveComponent"])("el-table"),A=Object(o["resolveDirective"])("loading");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{span:24},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{span:12},{default:Object(o["withCtx"])(()=>[c]),_:1}),Object(o["createVNode"])(D,{span:12,class:"text-align-right"})]),_:1}),l,Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{span:24},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,{class:"text-align-right"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])("div",d,[Object(o["createVNode"])(S,{placeholder:"请输入名称进行搜索","prefix-icon":"el-icon-search",modelValue:x.dataSearch,"onUpdate:modelValue":t[1]||(t[1]=e=>x.dataSearch=e)},null,8,["modelValue"])])]),_:1}),Object(o["createVNode"])("div",n,[Object(o["createVNode"])(z,{data:x.tableData.filter(e=>!x.dataSearch||e.ssl.toLowerCase().includes(x.dataSearch.toLowerCase())),style:{width:"100%"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(U,{prop:"node_uuid",label:"节点UUID"}),Object(o["createVNode"])(U,{label:"节点描述"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])("div",null,[i,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.row.node_ip),1)]),Object(o["createVNode"])("div",null,[r,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.row.node_hostname),1)])]),_:1}),Object(o["createVNode"])(U,{label:"配置更新状态"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])("p",null,[b,Object(o["createVNode"])(P,{modelValue:e.row.node_waf_conf_update,"onUpdate:modelValue":t=>e.row.node_waf_conf_update=t,onChange:t=>k.onChanageSetUpdate(e.row),"active-value":"true","inactive-value":"false"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),Object(o["createVNode"])("p",null,[u,Object(o["createVNode"])(P,{modelValue:e.row.node_name_list_data_update,"onUpdate:modelValue":t=>e.row.node_name_list_data_update=t,onChange:t=>k.onChanageSetUpdate(e.row),"active-value":"true","inactive-value":"false"},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),_:1}),Object(o["createVNode"])(U,{prop:"name",label:"配置更新时间"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])("div",null,[s,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.row.node_waf_conf_update_time),1)]),Object(o["createVNode"])("div",null,[j,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.row.node_name_list_data_update_time),1)])]),_:1}),Object(o["createVNode"])(U,{prop:"node_status",label:"节点健康状态"},{default:Object(o["withCtx"])(e=>["true"==e.row.node_status?(Object(o["openBlock"])(),Object(o["createBlock"])("div",O,[p,_])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",V,[w,f]))]),_:1}),Object(o["createVNode"])(U,{prop:"node_status_update_time",label:"最新心跳时间"}),Object(o["createVNode"])(U,{label:"操作",align:"right"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])(B,{placement:"top",width:"160",modelValue:e.row.isVisiblePopover,"onUpdate:modelValue":t=>e.row.isVisiblePopover=t},{reference:Object(o["withCtx"])(()=>[Object(o["createVNode"])(T,{type:"text",size:"mini",onClick:t=>e.row.isVisiblePopover=!0},{default:Object(o["withCtx"])(()=>[v]),_:2},1032,["onClick"])]),default:Object(o["withCtx"])(()=>[h,Object(o["createVNode"])("div",N,[Object(o["createVNode"])(T,{size:"mini",type:"text",onClick:t=>e.row.isVisiblePopover=!1},{default:Object(o["withCtx"])(()=>[m]),_:2},1032,["onClick"]),Object(o["createVNode"])(T,{type:"primary",size:"mini",onClick:t=>k.handleDelete(e.row),loading:x.loading},{default:Object(o["withCtx"])(()=>[g]),_:2},1032,["onClick","loading"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])])]),_:1})]),_:1})]),_:1})]),_:1},512)),[[A,x.loadingPage,void 0,{fullscreen:!0,lock:!0}]])}var x=a("362c"),k={mixins:[x["b"]],data(){return{dataSearch:"",loadingPage:!1,loading:!1,tableData:[]}},computed:{rules(){return{conf:[{required:!0,message:"请输入",trigger:"blur"}]}}},mounted(){this.getData()},methods:{getData(){var e=this;Object(x["a"])("get","/waf/waf_get_node_monitor_list",{},(function(t){e.loadingPage=!1,e.tableData=t.data.message,e.tableData.forEach(e=>{e.isVisiblePopover=!1})}),(function(){e.loadingPage=!1}))},onChanageSetUpdate(e){var t=this;Object(x["a"])("post","/waf/waf_edit_node_conf_status",{node_uuid:e.node_uuid,node_waf_conf_update:e.node_waf_conf_update,node_name_list_data_update:e.node_name_list_data_update},(function(e){t.getData()}),(function(){t.getData()}))},handleDelete(e){var t=this;t.loading=!0,Object(x["a"])("post","/waf/waf_del_node_monitor",{node_uuid:e.node_uuid},(function(a){e.isVisiblePopover=!1,t.loading=!1,t.getData()}),(function(){t.loading=!1}))}}},D=(a("1c7e"),a("d959")),y=a.n(D);const S=y()(k,[["render",C]]);t["default"]=S},"967a":function(e,t,a){}}]);
//# sourceMappingURL=chunk-186d7476.3afb126b.js.map