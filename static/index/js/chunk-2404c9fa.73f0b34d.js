(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2404c9fa"],{"1dde":function(e,t,a){var o=a("d039"),c=a("b622"),n=a("2d00"),r=c("species");e.exports=function(e){return n>=51||!o((function(){var t=[],a=t.constructor={};return a[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,a){"use strict";var o=a("23e7"),c=a("5a34"),n=a("1d80"),r=a("577e"),i=a("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~r(n(this)).indexOf(r(c(e)),arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,a){"use strict";var o=a("d784"),c=a("825a"),n=a("50c4"),r=a("577e"),i=a("1d80"),l=a("8aa5"),d=a("14c3");o("match",(function(e,t,a){return[function(t){var a=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,a):new RegExp(t)[e](r(a))},function(e){var o=c(this),i=r(e),u=a(t,o,i);if(u.done)return u.value;if(!o.global)return d(o,i);var s=o.unicode;o.lastIndex=0;var b,m=[],f=0;while(null!==(b=d(o,i))){var p=r(b[0]);m[f]=p,""===p&&(o.lastIndex=l(i,n(o.lastIndex),s)),f++}return 0===f?null:m}]}))},"4de4":function(e,t,a){"use strict";var o=a("23e7"),c=a("b727").filter,n=a("1dde"),r=n("filter");o({target:"Array",proto:!0,forced:!r},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,a){var o=a("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},7604:function(e,t,a){"use strict";a.r(t);a("4de4"),a("caad"),a("2532"),a("b0c0"),a("ac1f"),a("466d");var o=a("7a23"),c=Object(o["createVNode"])("h3",null,"请求替换配置",-1),n={class:"domain-search-input"},r=Object(o["createTextVNode"])("新增"),i={class:"demo-block"},l={key:0},d=Object(o["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),u=Object(o["createTextVNode"])("已开启 "),s={key:1},b=Object(o["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),m=Object(o["createTextVNode"])("已关闭 "),f={key:0},p=Object(o["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),O=Object(o["createTextVNode"])("已开启 "),j={key:1},h=Object(o["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),V=Object(o["createTextVNode"])("已关闭 "),_={key:0},y=Object(o["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),g=Object(o["createTextVNode"])("已开启 "),C={key:1},v=Object(o["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),N=Object(o["createTextVNode"])("已关闭 "),k=Object(o["createTextVNode"])("编辑"),w=Object(o["createVNode"])("p",null,"确定删除吗？",-1),x={style:{"text-align":"right",margin:"0"}},F=Object(o["createTextVNode"])("取消"),T=Object(o["createTextVNode"])("确定 "),B=Object(o["createTextVNode"])("删除"),U={key:0},M={key:1},I=Object(o["createVNode"])("div",{class:"match-title"},[Object(o["createVNode"])("p",null,"Header头"),Object(o["createVNode"])("p",null,"正则匹配"),Object(o["createVNode"])("p",null,"替换内容")],-1),D={class:"match-key-item"},E={class:"match-key-item"},P={class:"match-key-item"},S=Object(o["createTextVNode"])("删除"),q=Object(o["createTextVNode"])("新增"),z={key:2},G=Object(o["createTextVNode"])("取消"),H=Object(o["createTextVNode"])("确定");function A(e,t){var a=Object(o["resolveComponent"])("el-col"),A=Object(o["resolveComponent"])("el-row"),J=Object(o["resolveComponent"])("el-divider"),L=Object(o["resolveComponent"])("el-input"),$=Object(o["resolveComponent"])("el-button"),R=Object(o["resolveComponent"])("el-table-column"),K=Object(o["resolveComponent"])("el-popover"),Q=Object(o["resolveComponent"])("el-table"),W=Object(o["resolveComponent"])("el-form-item"),X=Object(o["resolveComponent"])("el-switch"),Y=Object(o["resolveComponent"])("el-form"),Z=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(A,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{span:24},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(A,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{span:24},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(A,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{span:12},{default:Object(o["withCtx"])((function(){return[c]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(J),Object(o["createVNode"])(A,{class:"text-align-right"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",n,[Object(o["createVNode"])(L,{placeholder:"请输入名称进行搜索","prefix-icon":"el-icon-search",modelValue:e.domainSearch,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.domainSearch=t})},null,8,["modelValue"])]),Object(o["createVNode"])($,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.onClickCreateIdentity()})},{default:Object(o["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(o["createVNode"])("div",i,[Object(o["createVNode"])(Q,{data:e.tableData.filter((function(t){return!e.domainSearch||t.name.toLowerCase().includes(e.domainSearch.toLowerCase())})),style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(R,{prop:"name",label:"名称"}),Object(o["createVNode"])(R,{prop:"detail",label:"详情"}),Object(o["createVNode"])(R,{prop:"status",label:"GET请求内容替换"},{default:Object(o["withCtx"])((function(e){return["true"==e.row.get_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",l,[d,u])):Object(o["createCommentVNode"])("",!0),"false"==e.row.get_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",s,[b,m])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(R,{prop:"status",label:"Header请求内容替换"},{default:Object(o["withCtx"])((function(e){return["true"==e.row.header_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",f,[p,O])):Object(o["createCommentVNode"])("",!0),"false"==e.row.header_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",j,[h,V])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(R,{prop:"status",label:"Post请求内容替换"},{default:Object(o["withCtx"])((function(e){return["true"==e.row.post_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",_,[y,g])):Object(o["createCommentVNode"])("",!0),"false"==e.row.post_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",C,[v,N])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(R,{label:"操作",align:"right"},{default:Object(o["withCtx"])((function(t){return[Object(o["createVNode"])($,{size:"mini",onClick:function(a){return e.handleEdit(t.row)},class:"button-block",type:"text",loading:t.row.loading},{default:Object(o["withCtx"])((function(){return[k]})),_:2},1032,["onClick","loading"]),Object(o["createVNode"])(K,{placement:"top",width:"160",visible:t.row.isVisiblePopover,"onUpdate:visible":function(e){return t.row.isVisiblePopover=e}},{reference:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{type:"text",size:"mini",onClick:function(e){return t.row.isVisiblePopover=!0}},{default:Object(o["withCtx"])((function(){return[B]})),_:2},1032,["onClick"])]})),default:Object(o["withCtx"])((function(){return[w,Object(o["createVNode"])("div",x,[Object(o["createVNode"])($,{size:"mini",type:"text",onClick:function(e){return t.row.isVisiblePopover=!1}},{default:Object(o["withCtx"])((function(){return[F]})),_:2},1032,["onClick"]),Object(o["createVNode"])($,{type:"primary",size:"mini",onClick:function(a){return e.handleDelete(t.row)},loading:e.loading},{default:Object(o["withCtx"])((function(){return[T]})),_:2},1032,["onClick","loading"])])]})),_:2},1032,["visible","onUpdate:visible"])]})),_:1})]})),_:1},8,["data"])])]})),_:1}),Object(o["createVNode"])(Z,{title:e.domainTitle,modelValue:e.dialogIdentityFormVisible,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.dialogIdentityFormVisible=t}),width:"820px","close-on-click-modal":!1,onClosed:e.dialogClose},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{onClick:t[14]||(t[14]=function(t){return e.dialogIdentityFormVisible=!1})},{default:Object(o["withCtx"])((function(){return[G]})),_:1}),Object(o["createVNode"])($,{type:"primary",onClick:t[15]||(t[15]=function(t){return e.onClickIdentitySubmit("identityForm")}),loading:e.loading},{default:Object(o["withCtx"])((function(){return[H]})),_:1},8,["loading"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Y,{class:"form-tag-dialog identity-edit-form ",model:e.identityForm,size:"mini","label-position":"left","label-width":"130px",rules:e.rules,ref:"identityForm"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(W,{label:"名称",prop:"name",key:"1"},{default:Object(o["withCtx"])((function(){return["new"==e.domainType?(Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:0,modelValue:e.identityForm.name,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.identityForm.name=t}),placeholder:"请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”"},null,8,["modelValue"])):Object(o["createCommentVNode"])("",!0),"edit"==e.domainType?(Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:1,modelValue:e.identityForm.name,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.identityForm.name=t}),disabled:"disabled"},null,8,["modelValue"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(W,{label:"详情",key:"2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{modelValue:e.identityForm.detail,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.identityForm.detail=t}),placeholder:"请输入详情"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(W,{label:"GET请求内容替换",key:"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(X,{modelValue:e.identityForm.get_status,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.identityForm.get_status=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]})),_:1}),"true"==e.identityForm.get_status?(Object(o["openBlock"])(),Object(o["createBlock"])("div",U,[Object(o["createVNode"])(W,{label:"GET内容匹配正则",key:"4"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{modelValue:e.identityForm.get_replace_match,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.identityForm.get_replace_match=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(W,{label:"GET替换内容",key:"5"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{modelValue:e.identityForm.get_replace_data,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.identityForm.get_replace_data=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1})])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(W,{label:"Header内容替换",key:"9"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(X,{modelValue:e.identityForm.header_status,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.identityForm.header_status=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]})),_:1}),"true"==e.identityForm.header_status?(Object(o["openBlock"])(),Object(o["createBlock"])("div",M,[Object(o["createVNode"])(W,{label:"Header替换配置",key:"10"},{default:Object(o["withCtx"])((function(){return[I,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.ruleConfigMatchs,(function(t,a){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"match-box",key:"matchs"+a},[Object(o["createVNode"])("div",D,[Object(o["createVNode"])(L,{modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(o["createVNode"])("div",E,[Object(o["createVNode"])(L,{modelValue:t.match,"onUpdate:modelValue":function(e){return t.match=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(o["createVNode"])("div",P,[Object(o["createVNode"])(L,{modelValue:t.data,"onUpdate:modelValue":function(e){return t.data=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(o["createVNode"])($,{onClick:Object(o["withModifiers"])((function(a){return e.removeConfigMatchs(t,e.bigIndex)}),["prevent"])},{default:Object(o["withCtx"])((function(){return[S]})),_:2},1032,["onClick"])])})),128)),Object(o["createVNode"])($,{onClick:t[10]||(t[10]=function(t){return e.addConfigMatchs(e.bigIndex)}),plain:"",type:"primary",class:"button-new"},{default:Object(o["withCtx"])((function(){return[q]})),_:1})]})),_:1})])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(W,{label:"Post请求内容替换",key:"6"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(X,{modelValue:e.identityForm.post_status,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.identityForm.post_status=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]})),_:1}),"true"==e.identityForm.post_status?(Object(o["openBlock"])(),Object(o["createBlock"])("div",z,[Object(o["createVNode"])(W,{label:"Post内容匹配正则",key:"7"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{modelValue:e.identityForm.post_replace_match,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.identityForm.post_replace_match=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(W,{label:"Post替换内容",key:"8"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(L,{modelValue:e.identityForm.post_replace_data,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.identityForm.post_replace_data=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1})])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue","onClosed"])]})),_:1})}a("159b"),a("a434");var J=a("362c"),L={mixins:[J["b"]],data:function(){return{domainTitle:"新增",domainType:"new",domainSearch:"",dialogIdentityFormVisible:!1,loading:!1,identityForm:{name:"",detail:"",get_status:"false",get_replace_match:"",get_replace_data:"",header_status:"false",header_replace_data:"",post_status:"false",post_replace_match:"",post_replace_data:""},tableData:[],ruleConfigMatchs:[{key:"",match:"",data:""}]}},computed:{rules:function(){return{name:[{required:!0,message:"请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”",trigger:["blur","change"]},{validator:J["h"],trigger:["blur","change"]}]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;Object(J["a"])("get","/waf/waf_get_sys_request_replace_list",{},(function(t){e.tableData=t.data.message,e.tableData.forEach((function(e){e.isVisiblePopover=!1}))}),(function(){}))},dialogClose:function(){this.identityForm={name:"",detail:"",get_status:"false",get_replace_match:"",get_replace_data:"",header_status:"false",header_replace_data:"",post_status:"false",post_replace_match:"",post_replace_data:""},this.ruleConfigMatchs=[{key:"",match:"",data:""}],this.$refs["identityForm"].resetFields()},onClickIdentitySubmit:function(e){var t=this,a="/waf/waf_create_sys_request_replace";"edit"==t.domainType&&(a="/waf/waf_edit_sys_request_replace");var o="";if("true"==t.identityForm.get_status){if(0==t.ruleConfigMatchs.length)return t.$message({message:"请对自定义header头进行配置",type:"error"}),!1;for(var c in t.ruleConfigMatchs){var n=t.ruleConfigMatchs[c];o=0==c?o+'"'+n.key+'":{"replace_match":"'+n.match+'","replace_data":"'+n.data+'"}':o+',"'+n.key+'":{"replace_match":"'+n.match+'","replace_data":"'+n.data+'"}'}o="{"+o+"}"}t.identityForm.header_replace_data=o,this.$refs[e].validate((function(e){e&&(t.loading=!0,Object(J["a"])("post",a,t.identityForm,(function(e){t.loading=!1,t.dialogIdentityFormVisible=!1,t.getData()}),(function(){t.loading=!1})))}))},onClickCreateIdentity:function(){var e=this;e.domainTitle="新增",e.domainType="new",e.dialogIdentityFormVisible=!0},handleEdit:function(e){var t=this;e.loading=!0,Object(J["a"])("post","/waf/waf_get_sys_request_replace",{name:e.name},(function(a){e.loading=!1;var o=a.data.message;if(t.identityForm.name=o.name,t.identityForm.detail=o.detail,t.identityForm.get_status=o.get_status,t.identityForm.get_replace_match=o.get_replace_match,t.identityForm.get_replace_data=o.get_replace_data,t.identityForm.header_status=o.header_status,t.identityForm.header_replace_data=o.header_replace_data,t.identityForm.post_status=o.post_status,t.identityForm.post_replace_match=o.post_replace_match,t.identityForm.post_replace_data=o.post_replace_data,"true"==t.identityForm.header_status){var c=JSON.parse(t.identityForm.header_replace_data),n=[];for(var r in c){var i=c[r].replace_match,l=c[r].replace_data;n.push({key:r,match:i,data:l})}t.ruleConfigMatchs=n}t.domainTitle="编辑",t.domainType="edit",t.dialogIdentityFormVisible=!0}),(function(){e.loading=!1}),"no-message")},handleDelete:function(e){var t=this;t.loading=!0,Object(J["a"])("post","/waf/waf_del_sys_request_replace",{name:e.name},(function(a){e.isVisiblePopover=!1,t.loading=!1,t.getData()}),(function(){t.loading=!1}))},removeConfigMatchs:function(e){var t=this.ruleConfigMatchs.indexOf(e);t>0&&this.ruleConfigMatchs.splice(t,1)},addConfigMatchs:function(){this.ruleConfigMatchs.push({key:"",match:"",data:""})}}};a("d637");L.render=A;t["default"]=L},8418:function(e,t,a){"use strict";var o=a("a04b"),c=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var r=o(t);r in e?c.f(e,r,n(0,a)):e[r]=a}},a434:function(e,t,a){"use strict";var o=a("23e7"),c=a("23cb"),n=a("a691"),r=a("50c4"),i=a("7b0b"),l=a("65f0"),d=a("8418"),u=a("1dde"),s=u("splice"),b=Math.max,m=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!s},{splice:function(e,t){var a,o,u,s,O,j,h=i(this),V=r(h.length),_=c(e,V),y=arguments.length;if(0===y?a=o=0:1===y?(a=0,o=V-_):(a=y-2,o=m(b(n(t),0),V-_)),V+a-o>f)throw TypeError(p);for(u=l(h,o),s=0;s<o;s++)O=_+s,O in h&&d(u,s,h[O]);if(u.length=o,a<o){for(s=_;s<V-o;s++)O=s+o,j=s+a,O in h?h[j]=h[O]:delete h[j];for(s=V;s>V-o+a;s--)delete h[s-1]}else if(a>o)for(s=V-o;s>_;s--)O=s+o-1,j=s+a-1,O in h?h[j]=h[O]:delete h[j];for(s=0;s<a;s++)h[s+_]=arguments[s+2];return h.length=V-o+a,u}})},ab13:function(e,t,a){var o=a("b622"),c=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[c]=!1,"/./"[e](t)}catch(o){}}return!1}},b13b:function(e,t,a){},caad:function(e,t,a){"use strict";var o=a("23e7"),c=a("4d64").includes,n=a("44d2");o({target:"Array",proto:!0},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d637:function(e,t,a){"use strict";a("b13b")}}]);
//# sourceMappingURL=chunk-2404c9fa.73f0b34d.js.map