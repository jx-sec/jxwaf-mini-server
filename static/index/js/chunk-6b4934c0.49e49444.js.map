{"version":3,"sources":["webpack:///./src/components/flow-engine-protection.vue","webpack:///./src/components/flow-engine-protection.vue?782b","webpack:///./src/components/flow-engine-protection.vue?e93c"],"names":["class","_createVNode","_createBlock","_hoisted_1","_component_el_row","type","justify","_component_el_col","span","_hoisted_2","$data","ruleType","href","domain","_hoisted_3","_component_el_form","model","flowEngineForm","rules","$options","ref","label-width","_component_el_divider","_hoisted_4","_hoisted_5","_hoisted_6","_component_el_switch","onChange","_cache","$event","onChangeProtection","high_freq_cc_check","active-text","inactive-text","active-value","inactive-value","_hoisted_7","_component_el_card","header","_withCtx","_hoisted_8","_component_el_form_item","label","prop","_component_el_input","req_rate","placeholder","_component_el_select","req_rate_block_mode","_Fragment","_renderList","ruleAction","item","_component_el_option","key","value","req_rate_block_mode_extra_parameter","optionsBotCheck","_hoisted_9","_hoisted_10","_hoisted_11","req_count","req_count_stat_time_period","req_count_block_mode","req_count_block_mode_extra_parameter","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","slow_cc_check","_hoisted_16","_hoisted_17","ip_count","ip_count_stat_time_period","ip_count_block_mode","ip_count_block_mode_extra_parameter","_hoisted_18","_hoisted_19","_hoisted_20","domain_rate","slow_cc_block_mode","slow_cc_block_mode_extra_parameter","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","emergency_mode_check","_hoisted_25","_hoisted_26","emergency_mode_block_mode","emergency_mode_block_mode_extra_parameter","_hoisted_27","_hoisted_28","_component_el_button","onClick","onClickFlowEngineSubmit","loading","loadingPage","mixins","mixin","data","computed","eq_rate","required","message","trigger","validator","validatePositiveInt","mounted","route","useRoute","this","params","getData","methods","t","getUrl","oData","group_id","JXAjax","response","event","postUrl","$refs","validate","valid","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-6b4934c0.49e49444.js","sourcesContent":["<template>\r\n  <div class=\"flow-engine-wrap\">\r\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n      <el-col :span=\"24\">\r\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n          <el-col :span=\"12\">\r\n            <h3>流量防护引擎配置</h3>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"text-align-right\">\r\n            <a class=\"el-button el-button--primary is-plain\" v-if=\"ruleType == 'single_rule'\"\r\n              :href=\"'/#/protection/' + domain + '/' + ruleType\">返回</a>\r\n            <a class=\"el-button el-button--primary is-plain\" v-if=\"ruleType == 'group_rule'\"\r\n              :href=\"'/#/group-protection/' + domain \">返回</a>\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"margin-4x\"></div>\r\n    <el-row v-loading.fullscreen.lock=\"loadingPage\">\r\n      <el-col :span=\"24\">\r\n        <el-form :model=\"flowEngineForm\" :rules=\"rules\" ref=\"flowEngineForm\" label-width=\"200px\">\r\n          <el-divider class=\"first-divider\" />\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">高频CC攻击防护</div>\r\n              <el-switch @change=\"onChangeProtection($event)\" v-model=\"flowEngineForm.high_freq_cc_check\"\r\n                active-text=\"开启\" inactive-text=\"关闭\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.high_freq_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求频率检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求频率限制\" prop=\"req_rate\">\r\n                    <el-input v-model=\"flowEngineForm.req_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.req_rate_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求次数检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求次数限制\" prop=\"req_rate\">\r\n                    <el-input v-model=\"flowEngineForm.req_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"统计时间（秒）\" prop=\"req_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.req_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.req_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <!-- <div class=\"flow-engine-btn\">\r\n                <el-button type=\"primary\" @click=\"onClickFlowEngineSubmit('flowEngineForm')\" :loading=\"loading\">保存\r\n                </el-button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <el-divider />\r\n\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">慢速CC攻击防护</div>\r\n              <el-switch @change=\"onChangeProtection($event)\" v-model=\"flowEngineForm.slow_cc_check\" active-text=\"开启\"\r\n                inactive-text=\"关闭\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.slow_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>请求IP数量检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求IP数量限制\" prop=\"ip_count\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"统计时间（秒）\" prop=\"ip_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.ip_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>回源保护机制</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"网站请求频率限制\" prop=\"domain_rate\">\r\n                    <el-input v-model=\"flowEngineForm.domain_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.slow_cc_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <!-- <div class=\"flow-engine-btn\">\r\n                <el-button type=\"primary\" @click=\"onClickFlowEngineSubmit('flowEngineForm')\" :loading=\"loading\">保存\r\n                </el-button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <el-divider />\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">无差别紧急防护</div>\r\n              <el-switch @change=\"onChangeProtection($event)\" v-model=\"flowEngineForm.emergency_mode_check\"\r\n                active-text=\"开启\" inactive-text=\"关闭\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.emergency_mode_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>请求IP数量检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.emergency_mode_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"flow-engine-btn\">\r\n            <el-button type=\"primary\" @click=\"onClickFlowEngineSubmit('flowEngineForm')\" :loading=\"loading\">保存\r\n            </el-button>\r\n          </div>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mixin, JXAjax, validatePositiveInt } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loadingPage: false,\r\n      domain: \"\",\r\n      ruleType: \"\",\r\n      flowEngineForm: {\r\n      },\r\n      ruleAction: [\r\n        { value: \"block\", label: \"阻断请求\" },\r\n        { value: \"reject_response\", label: \"拒绝响应\" },\r\n        { value: \"bot_check\", label: \"人机识别\" },\r\n        { value: \"watch\", label: \"观察模式\" },\r\n        \r\n      ],\r\n      optionsBotCheck: [\r\n        { value: \"standard\", label: \"标准\" },\r\n        { value: \"slipper\", label: \"滑块\" },\r\n        { value: \"image\", label: \"图片验证码\" },\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        eq_rate: [\r\n          {required: true,message: '请输入',trigger: [\"blur\", \"change\"],},\r\n          {validator: validatePositiveInt,trigger: [\"blur\", \"change\"],},\r\n        ],\r\n        req_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        domain_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const route = useRoute()\r\n    this.ruleType = route.params.ruleType;\r\n    this.domain = route.params.domain;\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      var getUrl = \"/waf/waf_get_flow_engine_protection\";\r\n      var oData = { domain: t.domain };\r\n      if (t.ruleType == \"group_rule\") {\r\n        getUrl = \"/waf/waf_get_group_flow_engine_protection\";\r\n        oData = { group_id: t.domain }\r\n      }\r\n      JXAjax(\r\n        \"post\",\r\n        getUrl,\r\n        oData,\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.flowEngineForm = response.data.message;\r\n          t.flowEngineForm.domain = t.domain;\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onChangeProtection(event) { \r\n      \r\n    },\r\n    onClickFlowEngineSubmit(flowEngineForm) { \r\n      var t = this;\r\n      var postUrl = \"/waf/waf_edit_flow_engine_protection\";\r\n      if (t.ruleType == \"group_rule\") {\r\n        postUrl = \"/waf/waf_edit_group_flow_engine_protection\";\r\n        this.flowEngineForm.group_id = t.domain;\r\n      } else {\r\n        this.flowEngineForm.domain = t.domain;\r\n      }\r\n      \r\n      this.$refs[flowEngineForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.flowEngineForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n\r\n\r\n\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.flow-engine-wrap .protection-block {\r\n  display: block;\r\n  margin: 10px 10px 10px 10px;\r\n  font-size: 14px;\r\n}\r\n.protection-item-right {\r\n  display: flex;\r\n}\r\n.protection-item-label {\r\n  width: 200px;\r\n  line-height: 20px;\r\n  text-align: left;\r\n  padding: 0 12px 0 0;\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 0 auto;\r\n  flex: 0 0 auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n\r\n.flow-engine-wrap {\r\n  max-width: 800px;\r\n  min-width: 400px;\r\n}\r\n.flow-engine-wrap .first-divider{\r\n  margin-top: 0px;\r\n}\r\n.flow-engine-form {\r\n  margin: 25px 0;\r\n}\r\n.flow-engine-btn {\r\n  text-align: right;\r\n  padding: 25px 20px;\r\n}\r\n</style>\r\n","import { render } from \"./flow-engine-protection.vue?vue&type=template&id=551a7f98\"\nimport script from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\nexport * from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\n\nimport \"./flow-engine-protection.vue?vue&type=style&index=0&id=551a7f98&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-mini\\\\jxwaf-mini-index\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./flow-engine-protection.vue?vue&type=style&index=0&id=551a7f98&lang=css\""],"sourceRoot":""}