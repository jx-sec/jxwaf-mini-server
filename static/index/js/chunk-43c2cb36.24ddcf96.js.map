{"version":3,"sources":["webpack:///./src/components/ssl-manage.vue?56a9","webpack:///./src/components/ssl-manage.vue","webpack:///./src/components/ssl-manage.vue?cc72"],"names":["class","_createVNode","style","_createBlock","_component_el_row","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_component_el_col","span","_hoisted_3","_component_el_input","placeholder","prefix-icon","$data","dataSearch","$event","_component_el_button","icon","onClick","$options","onChangeSearch","type","_cache","onClickCreateSSL","_hoisted_5","_component_el_table","data","tableData","filter","ssl_domain","toLowerCase","includes","_component_el_table_column","prop","label","default","_withCtx","scope","row","status","_hoisted_6","_hoisted_7","align","size","handleEdit","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_9","_hoisted_10","handleDelete","loading","loadingPage","_component_el_dialog","title","sslTitle","dialogSslFormVisible","close-on-click-modal","onClose","dialogClose","footer","onClicksslSubmit","_component_el_form","model","sslForm","label-position","label-width","rules","ref","_component_el_form_item","key","sslType","disabled","detail","public_key","rows","_component_el_upload","action","limit","auto-upload","on-exceed","handleExceedCrt","on-change","changeCrt","trigger","plain","private_key","handleExceedKey","changeKey","mixins","mixin","computed","required","message","mounted","this","getData","methods","t","JXAjax","response","forEach","item","setTimeout","$refs","resetFields","postUrl","validate","valid","oData","files","fileList","file","uploadCrt","clearFiles","handleStart","reader","FileReader","readAsText","raw","onload","e","fileString","target","result","uploadKey","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-43c2cb36.24ddcf96.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ssl-manage.vue?vue&type=style&index=0&id=bc0a88f8&lang=css\"","<template>\r\n  <div>\r\n    <el-row class=\"breadcrumb-style\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/ssl-manage' }\">系统配置</el-breadcrumb-item>\r\n        <el-breadcrumb-item>SSL证书管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <el-row class=\"container-style\">\r\n      <el-col :span=\"24\" v-loading.fullscreen.lock=\"loadingPage\">\r\n        <el-row class=\"text-align-right\">\r\n          <div class=\"data-search-input\">\r\n            <el-input placeholder=\"请输入证书域名进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"dataSearch\">\r\n            </el-input>\r\n            <el-button icon=\"el-icon-search\" @click=\"onChangeSearch\" class=\"search-icon-btn\" />\r\n          </div>\r\n          <el-button type=\"primary\" @click=\"onClickCreateSSL()\">添加SSL证书</el-button>\r\n        </el-row>\r\n        <div class=\"demo-block\">\r\n          <el-table\r\n            :data=\"tableData.filter((data) =>!dataSearch ||data.ssl_domain.toLowerCase().includes(dataSearch.toLowerCase()))\"\r\n            style=\"width: 100%\">\r\n            <el-table-column prop=\"ssl_domain\" label=\"SSL证书域名\"></el-table-column>\r\n            <el-table-column prop=\"detail\" label=\"描述\"></el-table-column>\r\n            <el-table-column label=\"状态\">\r\n              <template #default=\"scope\">\r\n                <p v-if=\"scope.row.status == 'true'\">已加载</p>\r\n                <p v-if=\"scope.row.status == 'false'\">未加载</p>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"update_time\" label=\"更新时间\"></el-table-column>\r\n            <el-table-column label=\"操作\" align=\"right\">\r\n              <template #default=\"scope\">\r\n                <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\">编辑</el-button>\r\n                <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                  <p>确定删除吗？</p>\r\n                  <div style=\"text-align: right; margin: 0\">\r\n                    <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                    </el-button>\r\n                  </div>\r\n                  <template #reference>\r\n                    <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                  </template>\r\n                </el-popover>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog :title=\"sslTitle\" v-model=\"dialogSslFormVisible\" width=\"520px\" :close-on-click-modal=\"false\"\r\n      @close=\"dialogClose\">\r\n      <el-form class=\"form-tag-dialog\" :model=\"sslForm\" size=\"mini\" label-position=\"left\" label-width=\"130px\"\r\n        :rules=\"rules\" ref=\"sslForm\">\r\n        <el-form-item label=\"SSL证书域名\" prop=\"ssl_domain\" key=\"1\">\r\n          <el-input v-model=\"sslForm.ssl_domain\" v-if=\"sslType == 'new'\" placeholder=\"支持通配符，且为小写，例如 www.jxwaf.com\">\r\n          </el-input>\r\n          <el-input v-model=\"sslForm.ssl_domain\" v-if=\"sslType == 'edit'\" disabled=\"disabled\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\" key=\"2\">\r\n          <el-input v-model=\"sslForm.detail\" placeholder=\"SSL证书详情描述\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"公钥\" prop=\"public_key\" key=\"3\">\r\n          <el-input v-model=\"sslForm.public_key\" placeholder=\"需包含证书链\" type=\"textarea\" :rows=\"4\"></el-input>\r\n          <el-upload ref=\"uploadCrt\" action=\"\" class=\"upload-ssl\" :limit=\"1\" :auto-upload=\"false\"\r\n            :on-exceed=\"handleExceedCrt\" :on-change=\"changeCrt\">\r\n            <template #trigger>\r\n              <el-button type=\"primary\" plain>点击上传公钥文件</el-button>\r\n            </template>\r\n            <el-button class=\"ml-3\" type=\"success\" style=\"display: none;\"></el-button>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"私钥\" prop=\"private_key\" key=\"4\">\r\n          <el-input v-model=\"sslForm.private_key\" type=\"textarea\" :rows=\"4\"></el-input>\r\n          <el-upload ref=\"uploadKey\" action=\"\" class=\"upload-ssl\" :limit=\"1\" :auto-upload=\"false\"\r\n            :on-exceed=\"handleExceedKey\" :on-change=\"changeKey\">\r\n            <template #trigger>\r\n              <el-button type=\"primary\" plain>点击上传私钥文件</el-button>\r\n            </template>\r\n            <el-button class=\"ml-3\" type=\"success\" style=\"display: none;\"></el-button>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogSslFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClicksslSubmit('sslForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { mixin, JXAjax } from \"../assets/scripts/common\";\r\n\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      sslTitle: \"添加证书\",\r\n      sslType: \"new\",\r\n      dataSearch: \"\",\r\n      loadingPage: false,\r\n      dialogSslFormVisible: false,\r\n      loading: false,\r\n      sslForm: {\r\n        detail:\"\",\r\n        ssl_domain: \"\",\r\n        private_key: \"\",\r\n        public_key: \"\"\r\n      },\r\n\r\n      tableData: [],\r\n      \r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        ssl_domain: [\r\n          {\r\n            required: true,\r\n            message: '请输入证书名',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        \r\n        public_key: [\r\n          { required: true, message: '请输入公钥', trigger: \"blur\" },\r\n        ],\r\n        private_key: [\r\n          { required: true, message: '请输入私钥', trigger: \"blur\" },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    \r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_ssl_manage_list\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        }\r\n      );\r\n    },\r\n    onChangeSearch() {\r\n      var t = this;\r\n      t.loadingPage = true;\r\n      setTimeout(function () {\r\n        t.loadingPage = false;\r\n      }, 300)\r\n\r\n    },\r\n    \r\n    dialogClose() {\r\n      this.sslForm = {\r\n        detail:\"\",\r\n        ssl_domain: \"\",\r\n        public_key: \"\",\r\n        private_key: \"\"\r\n      };\r\n      \r\n      this.$refs[\"sslForm\"].resetFields();\r\n    },\r\n\r\n    onClicksslSubmit(sslForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_create_ssl_manage\";\r\n      if (t.sslType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_ssl_manage\";\r\n      }\r\n      this.$refs[sslForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.sslForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogSslFormVisible = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n\r\n    onClickCreateSSL() {\r\n      var t = this;\r\n      t.sslTitle = \"添加证书\";\r\n      t.sslType = \"new\";\r\n      t.dialogSslFormVisible = true;\r\n    },\r\n\r\n    handleEdit(data) {\r\n      var t = this;\r\n      t.loadingPage = true;\r\n      var postUrl = \"/waf/waf_get_ssl_manage\";\r\n      var oData = { ssl_domain: data.ssl_domain };\r\n      t.sslTitle = '编辑证书';\r\n      t.sslType = \"edit\";\r\n      t.dialogSslFormVisible = true;\r\n      JXAjax(\r\n        \"post\",\r\n        postUrl,\r\n        oData,\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.sslForm = response.data.message;\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_ssl_manage\",\r\n        { ssl_domain: data.ssl_domain },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n    handleExceedCrt(files, fileList) { \r\n      let t = this;\r\n      let file = files[0];\r\n      t.$refs.uploadCrt.clearFiles();\r\n      setTimeout(function () {\r\n        t.$refs.uploadCrt.handleStart(file);\r\n      },1000)\r\n      \r\n    },\r\n    changeCrt(files, fileList) { \r\n      let file = fileList[0];\r\n      let t = this;\r\n      let reader = new FileReader();\r\n      reader.readAsText(file.raw);\r\n      reader.onload = (e) => { \r\n        const fileString = e.target.result;\r\n        t.sslForm.public_key = fileString;\r\n      }\r\n    },\r\n    handleExceedKey(files, fileList) {\r\n      let t = this;\r\n      let file = files[0];\r\n      t.$refs.uploadKey.clearFiles();\r\n      setTimeout(function () {\r\n        t.$refs.uploadKey.handleStart(file);\r\n      }, 1000)\r\n\r\n    },\r\n    changeKey(files, fileList) {\r\n      let file = fileList[0];\r\n      let t = this;\r\n      let reader = new FileReader();\r\n      reader.readAsText(file.raw);\r\n      reader.onload = (e) => {\r\n        const fileString = e.target.result;\r\n        t.sslForm.private_key = fileString;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.icon-success {\r\n  color: #67c23a;\r\n  margin-right: 5px;\r\n}\r\n.icon-error {\r\n  color: #f56c6c;\r\n  margin-right: 5px;\r\n}\r\n.icon-warning {\r\n  color: #e6a23c;\r\n  margin-right: 5px;\r\n}\r\n.ssl-setting {\r\n  float: right;\r\n}\r\n.ssl-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n.ssl-search-input {\r\n  display: block;\r\n  float: left;\r\n  text-align: left;\r\n}\r\n.ssl-search-input .el-input {\r\n  width: 100%;\r\n}\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n.upload-ssl {\r\n  margin-top: 10px;\r\n  display: flex;\r\n}\r\n.upload-ssl .el-upload-list__item:first-child {\r\n  margin-top: 0px;\r\n}\r\n</style>\r\n","import { render } from \"./ssl-manage.vue?vue&type=template&id=bc0a88f8\"\nimport script from \"./ssl-manage.vue?vue&type=script&lang=js\"\nexport * from \"./ssl-manage.vue?vue&type=script&lang=js\"\n\nimport \"./ssl-manage.vue?vue&type=style&index=0&id=bc0a88f8&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-2023\\\\jxwaf-base-2023\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}