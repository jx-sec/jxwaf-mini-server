(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdeb8ffc"],{"001b":function(e,t,o){"use strict";o.r(t);var l=o("7a23");const a={class:"page-owasp-wrap"},c=Object(l["createVNode"])("h3",null,"日志配置",-1),r=Object(l["createVNode"])("div",{class:"margin-4x"},null,-1),d=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：临时调试时开启，仅记录部分关键数据 ",-1),i=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：数据格式为syslog，仅支持TCP协议传输 ",-1),n={key:0},g=Object(l["createTextVNode"])("syslog"),b=Object(l["createTextVNode"])("kafka"),s={class:"form-info-color"},u={key:0},f=Object(l["createVNode"])("div",{class:"margin-4x"},null,-1),m=Object(l["createTextVNode"])("保存 ");function p(e,t,o,p,j,O){const _=Object(l["resolveComponent"])("el-col"),V=Object(l["resolveComponent"])("el-row"),C=Object(l["resolveComponent"])("el-divider"),k=Object(l["resolveComponent"])("el-switch"),w=Object(l["resolveComponent"])("el-form-item"),h=Object(l["resolveComponent"])("el-radio"),v=Object(l["resolveComponent"])("el-input"),N=Object(l["resolveComponent"])("el-form"),x=Object(l["resolveComponent"])("el-button"),y=Object(l["resolveDirective"])("loading");return Object(l["openBlock"])(),Object(l["createBlock"])("div",a,[Object(l["createVNode"])(V,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{span:24},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(V,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{span:12},{default:Object(l["withCtx"])(()=>[c]),_:1})]),_:1})]),_:1})]),_:1}),Object(l["createVNode"])(C),r,Object(l["withDirectives"])(Object(l["createVNode"])(V,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{span:24},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(N,{model:j.logConfigForm,rules:O.rules,ref:"logConfigForm","label-width":"180px"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(w,{label:"本地调试记录",key:"1"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{modelValue:j.logConfigForm.log_local_debug,"onUpdate:modelValue":t[1]||(t[1]=e=>j.logConfigForm.log_local_debug=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),d]),_:1}),Object(l["createVNode"])(w,{label:"远程日志记录",key:"2"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{modelValue:j.logConfigForm.log_remote,"onUpdate:modelValue":t[2]||(t[2]=e=>j.logConfigForm.log_remote=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),i]),_:1}),"true"==j.logConfigForm.log_remote?(Object(l["openBlock"])(),Object(l["createBlock"])("div",n,[Object(l["createVNode"])(w,{label:"日志传输协议",key:"6"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(h,{modelValue:j.logConfigForm.log_remote_type,"onUpdate:modelValue":t[3]||(t[3]=e=>j.logConfigForm.log_remote_type=e),label:"syslog"},{default:Object(l["withCtx"])(()=>[g]),_:1},8,["modelValue"]),Object(l["createVNode"])(h,{modelValue:j.logConfigForm.log_remote_type,"onUpdate:modelValue":t[4]||(t[4]=e=>j.logConfigForm.log_remote_type=e),label:"kafka"},{default:Object(l["withCtx"])(()=>[b]),_:1},8,["modelValue"]),Object(l["withDirectives"])(Object(l["createVNode"])("p",s," 说明：仅支持TCP协议传输 ",512),[[l["vShow"],"syslog"==j.logConfigForm.log_remote_type]])]),_:1}),"kafka"==j.logConfigForm.log_remote_type?(Object(l["openBlock"])(),Object(l["createBlock"])("div",u,[Object(l["createVNode"])(w,{label:"kafka_bootstrap_servers",prop:"kafka_bootstrap_servers",key:"7"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{modelValue:j.logConfigForm.kafka_bootstrap_servers,"onUpdate:modelValue":t[5]||(t[5]=e=>j.logConfigForm.kafka_bootstrap_servers=e),placeholder:"参考格式：192.168.1.1:9000,192.6168.1.2:9000,192.168.1.3:9000"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(w,{label:"kafka_topic",prop:"kafka_topic",key:"8"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{modelValue:j.logConfigForm.kafka_topic,"onUpdate:modelValue":t[6]||(t[6]=e=>j.logConfigForm.kafka_topic=e),placeholder:"请输入"},null,8,["modelValue"])]),_:1})])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(w,{label:"日志服务器IP",prop:"log_ip",key:"3"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{modelValue:j.logConfigForm.log_ip,"onUpdate:modelValue":t[7]||(t[7]=e=>j.logConfigForm.log_ip=e),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(w,{label:"日志服务器端口",prop:"log_port",key:"4"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{modelValue:j.logConfigForm.log_port,"onUpdate:modelValue":t[8]||(t[8]=e=>j.logConfigForm.log_port=e),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]),_:1})])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(w,{label:"全流量日志记录",key:"5"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{modelValue:j.logConfigForm.log_all,"onUpdate:modelValue":t[9]||(t[9]=e=>j.logConfigForm.log_all=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),f,Object(l["createVNode"])(V,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{span:24},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(V,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{span:12}),Object(l["createVNode"])(_,{span:12,class:"text-align-right"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(x,{type:"primary",onClick:t[10]||(t[10]=e=>O.onClickLogConfigSubmit("logConfigForm")),loading:j.loading},{default:Object(l["withCtx"])(()=>[m]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[y,j.loadingPage,void 0,{fullscreen:!0,lock:!0}]])])}var j=o("362c"),O={mixins:[j["b"]],data(){return{loadingPage:!1,loading:!1,logConfigForm:{log_remote_type:"syslog"}}},computed:{rules(){return{log_ip:[{required:!0,message:"请输入日志服务器IP",trigger:["blur","change"]},{validator:j["d"],trigger:["blur","change"]}],log_port:[{required:!0,message:"请输入日志服务器端口",trigger:["blur","change"]},{validator:j["e"],trigger:["blur","change"]}],kafka_bootstrap_servers:[{required:!0,message:"参考格式：192.168.1.1:9000,192.6168.1.2:9000,192.168.1.3:9000",trigger:["blur","change"]}],kafka_topic:[{required:!0,message:"请输入",trigger:["blur","change"]}]}}},mounted(){this.getData()},methods:{getData(){var e=this,t="/waf/waf_get_sys_log_conf";Object(j["a"])("post",t,{},(function(t){e.loadingPage=!1,e.logConfigForm=t.data.message}),(function(){e.loadingPage=!1}),"no-message")},onClickLogConfigSubmit(e){var t=this,o="/waf/waf_edit_sys_log_conf";this.$refs[e].validate(e=>{e&&(t.loading=!0,Object(j["a"])("post",o,t.logConfigForm,(function(e){t.loading=!1,t.getData()}),(function(){t.loading=!1})))})}}},_=(o("ad88"),o("d959")),V=o.n(_);const C=V()(O,[["render",p]]);t["default"]=C},ad88:function(e,t,o){"use strict";o("df0c")},df0c:function(e,t,o){}}]);
//# sourceMappingURL=chunk-fdeb8ffc.47b0aed3.js.map