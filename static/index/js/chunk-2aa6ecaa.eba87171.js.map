{"version":3,"sources":["webpack:///./src/components/group-domain.vue","webpack:///./src/components/group-domain.vue?8a08","webpack:///./src/components/group-domain.vue?c0b7"],"names":["class","_createVNode","href","style","_createBlock","_component_el_row","_component_el_col","span","_hoisted_1","_component_el_input","placeholder","prefix-icon","$data","domainSearch","$event","_component_el_button","type","onClick","_cache","$options","onClickCreateDomain","_hoisted_3","_hoisted_4","_component_el_table","data","tableData","filter","domain","toLowerCase","includes","_component_el_table_column","prop","label","default","_withCtx","scope","row","http","_hoisted_5","https","_hoisted_6","align","size","handleEdit","loading","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_8","_hoisted_9","handleDelete","_component_el_dialog","title","domainTitle","dialogDomainFormVisible","close-on-click-modal","onClosed","dialogClose","footer","onClickDomainSubmit","_component_el_form","model","domainForm","label-position","label-width","rules","ref","_component_el_form_item","key","domainType","disabled","_hoisted_13","_component_el_checkbox_group","checkListProtocol","_component_el_checkbox","indexOf","_hoisted_14","_component_el_tabs","selectTabsValue","_component_el_tab_pane","name","_component_el_select","ssl_domain","filterable","_Fragment","_renderList","sslOptions","item","_component_el_option","value","public_key","rows","private_key","sourceIpList","tag","index","_component_el_tag","closable","disable-transitions","onClose","handleCloseSourceIpList","sourceIpListVisible","sourceIpListValue","onKeyup","_withKeys","handleSourceIpListConfirm","onBlur","showSourceIpList","_hoisted_15","_hoisted_16","source_http_port","_component_el_radio","proxy_pass_https","loadingPage","mixins","mixin","dialogSysInitVisible","flagTag","computed","required","message","trigger","validator","validatePort","mounted","route","useRoute","this","groupId","params","getData","methods","splice","$nextTick","_","$refs","saveTagSourceIpList","input","focus","t","pattern","test","$message","showClose","push","setTimeout","JXAjax","group_id","response","forEach","getSSL","resetFields","arrProtocol","postUrl","length","ssl_source","source_ip","join","validate","valid","onClickDefault","window","location","oGetData","split","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-2aa6ecaa.eba87171.js","sourcesContent":["<template>\r\n  <el-row v-loading.fullscreen.lock=\"loadingPage\">\r\n    <el-col :span=\"24\">\r\n      <el-row class=\"text-align-right\">\r\n        <div class=\"domain-search-input\">\r\n          <el-input placeholder=\"请输入网站名进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"domainSearch\"></el-input>\r\n        </div>\r\n        <el-button type=\"primary\" @click=\"onClickCreateDomain()\">添加网站</el-button>\r\n        <a class=\"el-button el-button--primary is-plain\" :href=\"'/#/group'\">返回</a>\r\n      </el-row>\r\n      <div class=\"demo-block\">\r\n        <el-table :data=\"\r\n            tableData.filter(\r\n              (data) =>\r\n                !domainSearch ||\r\n                data.domain.toLowerCase().includes(domainSearch.toLowerCase())\r\n            )\r\n          \" style=\"width: 100%\">\r\n          <el-table-column prop=\"domain\" label=\"网站\"></el-table-column>\r\n          <el-table-column prop=\"protocol\" label=\"协议\">\r\n            <template #default=\"scope\">\r\n              <p v-if=\"scope.row.http == 'true'\">http</p>\r\n              <p v-if=\"scope.row.https == 'true'\">https</p>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\"\r\n                :loading=\"scope.row.loading\">网站配置</el-button>\r\n              <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                <p>确定删除吗？</p>\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                  </el-button>\r\n                </div>\r\n                <template #reference>\r\n                  <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                </template>\r\n\r\n              </el-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-dialog :title=\"domainTitle\" v-model=\"dialogDomainFormVisible\" width=\"520px\" :close-on-click-modal=\"false\"\r\n      @closed=\"dialogClose\">\r\n      <el-form class=\"form-tag-dialog\" :model=\"domainForm\" size=\"mini\" label-position=\"left\" label-width=\"130px\"\r\n        :rules=\"rules\" ref=\"domainForm\">\r\n        <el-form-item label=\"域名/IP\" prop=\"domain\" key=\"1\">\r\n          <el-input v-model=\"domainForm.domain\" v-if=\"domainType == 'new'\" placeholder=\"请输入IP或域名，域名支持通配符，例如*.jxwaf.com\">\r\n          </el-input>\r\n          <el-input v-model=\"domainForm.domain\" v-if=\"domainType == 'edit'\" disabled=\"disabled\"></el-input>\r\n          <p class=\"form-info-color\" v-if=\"domainType == 'new'\">\r\n            （请输入IP或域名，域名支持通配符，例如*.jxwaf.com）\r\n          </p>\r\n        </el-form-item>\r\n        <el-form-item label=\"协议类型\" prop=\"checkListProtocol\" key=\"2\">\r\n          <el-checkbox-group v-model=\"domainForm.checkListProtocol\">\r\n            <el-checkbox label=\"HTTP\" key=\"HTTP\"></el-checkbox>\r\n            <el-checkbox label=\"HTTPS\" key=\"HTTPS\"></el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n\r\n        <div v-if=\"domainForm.checkListProtocol.indexOf('HTTPS') > -1\">\r\n          <el-tabs type=\"border-card\" class=\"domain-tabs\" v-model=\"selectTabsValue\">\r\n            <el-tab-pane label=\"SSL证书管理\" name=\"0\">\r\n              <el-form-item label=\"SSL证书\" key=\"3\">\r\n                <el-select v-model=\"domainForm.ssl_domain\" placeholder=\"请选择或输入模糊搜索\" filterable>\r\n                  <el-option v-for=\"item in sslOptions\" :key=\"item.ssl_domain\" :label=\"item.ssl_domain\"\r\n                    :value=\"item.ssl_domain\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"手动输入\" name=\"1\">\r\n\r\n              <el-form-item label=\"公钥\" prop=\"public_key\" key=\"5\" v-if=\"selectTabsValue=='1'\">\r\n                <el-input v-model=\"domainForm.public_key\" placeholder=\"需包含证书链\" type=\"textarea\" :rows=\"4\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"私钥\" prop=\"private_key\" key=\"6\" v-if=\"selectTabsValue=='1'\">\r\n                <el-input v-model=\"domainForm.private_key\" type=\"textarea\" :rows=\"4\"></el-input>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n\r\n        </div>\r\n\r\n        <el-form-item label=\"源站地址\" key=\"7\">\r\n          <el-tag :key=\"index\" v-for=\"(tag, index) in sourceIpList\" closable :disable-transitions=\"false\"\r\n            @close=\"handleCloseSourceIpList(tag)\">{{ tag }}</el-tag>\r\n          <el-input class=\"input-new-tag node-ip-list\" v-if=\"sourceIpListVisible\" v-model=\"sourceIpListValue\"\r\n            ref=\"saveTagSourceIpList\" size=\"mini\" @keyup.enter=\"handleSourceIpListConfirm\"\r\n            @blur=\"handleSourceIpListConfirm\"></el-input>\r\n          <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showSourceIpList\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </el-button>\r\n          <p class=\"form-info-color\">\r\n            （支持IP和域名，域名需要省略https:// 或 http://）\r\n          </p>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"源站端口\" prop=\"source_http_port\" key=\"8\">\r\n          <el-input placeholder=\"仅支持http\" v-model=\"domainForm.source_http_port\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"回源协议\" prop=\"proxy_pass_https\" key=\"9\">\r\n          <el-radio v-model=\"domainForm.proxy_pass_https\" label=\"false\">http</el-radio>\r\n          <el-radio v-model=\"domainForm.proxy_pass_https\" label=\"true\">https</el-radio>\r\n          <el-radio v-model=\"domainForm.proxy_pass_https\" label=\"follow\">协议跟随</el-radio>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogDomainFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClickDomainSubmit('domainForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { validatePort, mixin, JXAjax } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      domainTitle: \"添加规则\",\r\n      domainType: \"new\",\r\n      domainSearch: \"\",\r\n      loadingPage: false,\r\n      dialogDomainFormVisible: false,\r\n\r\n      loading: false,\r\n      dialogSysInitVisible: false,\r\n      domainForm: {\r\n        source_http_port: \"80\",\r\n        proxy_pass_https: \"false\",\r\n        checkListProtocol: [],\r\n      },\r\n\r\n      tableData: [],\r\n      sourceIpList: [],\r\n      sourceIpListVisible: false,\r\n      sourceIpListValue: \"\",\r\n      flagTag: true,\r\n      sslOptions: [],\r\n      selectTabsValue: \"0\"\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        domain: [\r\n          {\r\n            required: true,\r\n            message: '请输入网站地址',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        source_http_port: [\r\n          {\r\n            required: true,\r\n            message: '请输入后端服务器端口信息',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validatePort,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        checkListProtocol: [\r\n          {\r\n            type: \"array\",\r\n            required: true,\r\n            message: '请至少选择一项协议类型',\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        public_key: [\r\n          { required: true, message: '请输入公钥', trigger: \"blur\" },\r\n        ],\r\n        private_key: [\r\n          { required: true, message: '请输入私钥', trigger: \"blur\" },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    const route = useRoute()\r\n    this.groupId = route.params.groupId;\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    handleCloseSourceIpList(tag) {\r\n      this.sourceIpList.splice(this.sourceIpList.indexOf(tag), 1);\r\n    },\r\n    showSourceIpList() {\r\n      this.sourceIpListVisible = true;\r\n      this.$nextTick((_) => {\r\n        this.$refs.saveTagSourceIpList.$refs.input.focus();\r\n      });\r\n    },\r\n    handleSourceIpListConfirm() {\r\n      let t = this;\r\n      let sourceIpListValue = this.sourceIpListValue;\r\n      //let pattern = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\r\n      let pattern = /^(((https|http)?:\\/)?\\/)/;\r\n      if (t.flagTag) {\r\n        t.flagTag = false;\r\n        if (sourceIpListValue) {\r\n          if (pattern.test(sourceIpListValue)) {\r\n            t.$message({\r\n              showClose: true,\r\n              message: \"请输入正确的域名格式\",\r\n              type: \"error\",\r\n            });\r\n          } else {\r\n            t.sourceIpList.push(sourceIpListValue);\r\n            t.sourceIpListVisible = false;\r\n            t.sourceIpListValue = \"\";\r\n          }\r\n        } else {\r\n          t.sourceIpListVisible = false;\r\n          t.sourceIpListValue = \"\";\r\n        }\r\n        setTimeout(function () {\r\n          t.flagTag = true;\r\n        }, 50);\r\n      }\r\n    },\r\n    \r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_group_domain_list\",\r\n        { group_id: t.groupId },\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    getSSL(){\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_sys_ssl_manage_list\",\r\n        {},\r\n        function (response) {\r\n          t.sslOptions = response.data.message;\r\n        },\r\n        function () {\r\n          \r\n        }\r\n      );\r\n    },\r\n\r\n    dialogClose() {\r\n      this.domainForm = {\r\n        source_http_port: \"80\",\r\n        proxy_pass_https: \"false\",\r\n        checkListProtocol: [],\r\n      };\r\n      this.selectTabsValue = \"0\";\r\n      this.sourceIpListVisible = false;\r\n      this.sourceIpListValue = \"\";\r\n      this.sourceIpList = [];\r\n\r\n      this.$refs[\"domainForm\"].resetFields();\r\n    },\r\n\r\n\r\n    onClickDomainSubmit(domainForm) {\r\n      var t = this;\r\n      var arrProtocol = t.domainForm.checkListProtocol;\r\n      var postUrl = \"/waf/waf_create_group_domain\";\r\n      if (t.domainType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_group_domain\";\r\n      }\r\n      t.domainForm.group_id = t.groupId;\r\n      if (t.sourceIpList.length == 0) {\r\n        t.$message({\r\n          message: '后端服务器ip/域名不能为空',\r\n          type: \"error\",\r\n        });\r\n        return false;\r\n      }\r\n\r\n      if (t.domainForm.checkListProtocol.indexOf('HTTPS') < 0) {\r\n        t.domainForm.ssl_source = \"ssl_manage\";\r\n        t.domainForm.ssl_domain = \"\";\r\n      } else { \r\n        if (t.selectTabsValue == \"0\") {\r\n          if (t.domainForm.ssl_domain == \"\") {\r\n            t.$message({\r\n              message: '请选择SSL证书',\r\n              type: \"error\",\r\n            });\r\n            return false;\r\n          } else {\r\n            t.domainForm.ssl_source = \"ssl_manage\";\r\n            t.domainForm.public_key = \"\";\r\n            t.domainForm.private_key = \"\";\r\n          }\r\n\r\n        } else {\r\n          if (t.domainForm.public_key == \"\" || t.domainForm.private_key == \"\") {\r\n            t.$message({\r\n              message: '公钥/私钥不能为空',\r\n              type: \"error\",\r\n            });\r\n            return false;\r\n          } else {\r\n            t.domainForm.ssl_source = \"custom\";\r\n            t.domainForm.ssl_domain = \"\";\r\n          }\r\n        }\r\n      }\r\n      \r\n      \r\n      t.domainForm.source_ip = t.sourceIpList.join(\",\");\r\n      t.domainForm.http = arrProtocol.indexOf(\"HTTP\") > -1 ? \"true\" : \"false\";\r\n      t.domainForm.https = arrProtocol.indexOf(\"HTTPS\") > -1 ? \"true\" : \"false\";\r\n      this.$refs[domainForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.domainForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogDomainFormVisible = false;\r\n              t.sourceIpListVisible = false;\r\n              t.sourceIpListValue = \"\";\r\n              t.sourceIpList = [];\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    \r\n    onClickDefault(){\r\n      window.location.href = \"/#/default\"\r\n    },\r\n\r\n    onClickCreateDomain() {\r\n      var t = this;\r\n      t.domainTitle = \"添加规则\";\r\n      t.domainType = \"new\";\r\n      t.dialogDomainFormVisible = true;\r\n      t.getSSL();\r\n    },\r\n\r\n    handleEdit(data) {      \r\n      var t = this;\r\n      data.loading = true;\r\n      t.getSSL();\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_group_domain\",\r\n        { domain: data.domain, group_id: data.group_id },\r\n        function (response) {\r\n          data.loading = false;\r\n          var oGetData = response.data.message;\r\n          t.domainForm.domain = oGetData.domain;\r\n          t.domainForm.private_key = oGetData.private_key;\r\n          t.domainForm.public_key = oGetData.public_key;\r\n          t.domainForm.ssl_domain = oGetData.ssl_domain;\r\n          t.domainForm.proxy_pass_https = oGetData.proxy_pass_https;\r\n          t.domainForm.source_http_port = oGetData.source_http_port;\r\n          \r\n          t.sourceIpList = oGetData.source_ip\r\n            ? oGetData.source_ip.split(\",\")\r\n            : [];\r\n          t.domainForm.isVisiblePopover = false;\r\n\r\n          if (oGetData.http == \"true\") {\r\n            t.domainForm.checkListProtocol.push(\"HTTP\");\r\n          }\r\n          if (oGetData.https == \"true\") {\r\n            t.domainForm.checkListProtocol.push(\"HTTPS\");\r\n          }\r\n          if (oGetData.ssl_domain == \"\") {\r\n            t.selectTabsValue = \"1\"\r\n          } else { \r\n            t.selectTabsValue = \"0\"\r\n          }\r\n          t.domainTitle = '编辑网站';\r\n          t.domainType = \"edit\";\r\n          t.dialogDomainFormVisible = true;\r\n        },\r\n        function () {\r\n          data.loading = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_group_domain\",\r\n        { domain: data.domain, group_id: data.group_id },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.icon-success {\r\n  color: #67c23a;\r\n  margin-right: 5px;\r\n}\r\n.icon-error {\r\n  color: #f56c6c;\r\n  margin-right: 5px;\r\n}\r\n.icon-warning {\r\n  color: #e6a23c;\r\n  margin-right: 5px;\r\n}\r\n.domain-setting {\r\n  float: right;\r\n}\r\n.domain-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n.domain-search-input {\r\n  display: block;\r\n  float: left;\r\n  text-align: left;\r\n}\r\n.domain-search-input .el-input {\r\n  width: 100%;\r\n}\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n.domain-tabs {\r\n  margin-bottom: 18px;\r\n}\r\n</style>\r\n","import { render } from \"./group-domain.vue?vue&type=template&id=543c3e6c\"\nimport script from \"./group-domain.vue?vue&type=script&lang=js\"\nexport * from \"./group-domain.vue?vue&type=script&lang=js\"\n\nimport \"./group-domain.vue?vue&type=style&index=0&id=543c3e6c&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-mini\\\\jxwaf-mini-index\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./group-domain.vue?vue&type=style&index=0&id=543c3e6c&lang=css\""],"sourceRoot":""}