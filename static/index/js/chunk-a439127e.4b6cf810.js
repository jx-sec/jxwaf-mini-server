(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a439127e"],{"1dde":function(e,t,o){var c=o("d039"),n=o("b622"),r=o("2d00"),a=n("species");e.exports=function(e){return r>=51||!c((function(){var t=[],o=t.constructor={};return o[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,o){"use strict";var c=o("23e7"),n=o("5a34"),r=o("1d80"),a=o("577e"),i=o("ab13");c({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~a(r(this)).indexOf(a(n(e)),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,o){"use strict";var c=o("23e7"),n=o("b727").filter,r=o("1dde"),a=r("filter");c({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,o){var c=o("44e7");e.exports=function(e){if(c(e))throw TypeError("The method doesn't accept regular expressions");return e}},8418:function(e,t,o){"use strict";var c=o("a04b"),n=o("9bf2"),r=o("5c6c");e.exports=function(e,t,o){var a=c(t);a in e?n.f(e,a,r(0,o)):e[a]=o}},a15b:function(e,t,o){"use strict";var c=o("23e7"),n=o("44ad"),r=o("fc6a"),a=o("a640"),i=[].join,l=n!=Object,s=a("join",",");c({target:"Array",proto:!0,forced:l||!s},{join:function(e){return i.call(r(this),void 0===e?",":e)}})},a434:function(e,t,o){"use strict";var c=o("23e7"),n=o("23cb"),r=o("a691"),a=o("50c4"),i=o("7b0b"),l=o("65f0"),s=o("8418"),d=o("1dde"),u=d("splice"),b=Math.max,m=Math.min,p=9007199254740991,f="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var o,c,d,u,O,j,V=i(this),h=a(V.length),k=n(e,h),_=arguments.length;if(0===_?o=c=0:1===_?(o=0,c=h-k):(o=_-2,c=m(b(r(t),0),h-k)),h+o-c>p)throw TypeError(f);for(d=l(V,c),u=0;u<c;u++)O=k+u,O in V&&s(d,u,V[O]);if(d.length=c,o<c){for(u=k;u<h-c;u++)O=u+c,j=u+o,O in V?V[j]=V[O]:delete V[j];for(u=h;u>h-c+o;u--)delete V[u-1]}else if(o>c)for(u=h-c;u>k;u--)O=u+c-1,j=u+o-1,O in V?V[j]=V[O]:delete V[j];for(u=0;u<o;u++)V[u+k]=arguments[u+2];return V.length=h-c+o,d}})},a751:function(e,t,o){"use strict";o("c3dc")},ab13:function(e,t,o){var c=o("b622"),n=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,"/./"[e](t)}catch(c){}}return!1}},c3dc:function(e,t,o){},caad:function(e,t,o){"use strict";var c=o("23e7"),n=o("4d64").includes,r=o("44d2");c({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},ef74:function(e,t,o){"use strict";o.r(t);o("4de4"),o("caad"),o("2532");var c=o("7a23"),n={class:"domain-search-input"},r=Object(c["createTextVNode"])("添加网站"),a={class:"demo-block"},i={key:0},l={key:1},s=Object(c["createTextVNode"])(" Web防护引擎： "),d={key:0},u=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),b=Object(c["createTextVNode"])("已开启 "),m={key:1},p=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),f=Object(c["createTextVNode"])("未开启 "),O=Object(c["createTextVNode"])(" Web规则防护： "),j={key:0},V=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),h=Object(c["createTextVNode"])("已开启 "),k={key:1},_=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),g=Object(c["createTextVNode"])("未开启 "),w=Object(c["createTextVNode"])(" 流量防护引擎： "),C={key:0},N=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),x=Object(c["createTextVNode"])("已开启 "),y={key:1},T=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),v=Object(c["createTextVNode"])("未开启 "),F=Object(c["createTextVNode"])(" 流量规则防护： "),B={key:0},L=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),I=Object(c["createTextVNode"])("已开启 "),P={key:1},S=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),D=Object(c["createTextVNode"])("未开启 "),U=Object(c["createTextVNode"])(" 名单防护： "),$={key:0},H=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),z=Object(c["createTextVNode"])("已开启 "),q={key:1},E=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),A=Object(c["createTextVNode"])("未开启 "),K=Object(c["createTextVNode"])(" 组件防护 "),M={key:0},J=Object(c["createVNode"])("i",{class:"el-icon-circle-check icon-success"},null,-1),W=Object(c["createTextVNode"])("已开启 "),G={key:1},Q=Object(c["createVNode"])("i",{class:"el-icon-circle-close icon-error"},null,-1),R=Object(c["createTextVNode"])("未开启 "),X=Object(c["createTextVNode"])("网站配置"),Y=Object(c["createTextVNode"])("防护配置 "),Z=Object(c["createVNode"])("p",null,"确定删除吗？",-1),ee={style:{"text-align":"right",margin:"0"}},te=Object(c["createTextVNode"])("取消"),oe=Object(c["createTextVNode"])("确定 "),ce=Object(c["createTextVNode"])("删除"),ne={key:2,class:"form-info-color"},re={key:0},ae=Object(c["createVNode"])("i",{class:"el-icon-plus"},null,-1),ie=Object(c["createVNode"])("p",{class:"form-info-color"}," （支持IP和域名，域名需要省略https:// 或 http://） ",-1),le=Object(c["createTextVNode"])("http"),se=Object(c["createTextVNode"])("https"),de=Object(c["createTextVNode"])("取消"),ue=Object(c["createTextVNode"])("确定");function be(e,t){var o=Object(c["resolveComponent"])("el-input"),be=Object(c["resolveComponent"])("el-button"),me=Object(c["resolveComponent"])("el-row"),pe=Object(c["resolveComponent"])("el-table-column"),fe=Object(c["resolveComponent"])("el-popover"),Oe=Object(c["resolveComponent"])("el-table"),je=Object(c["resolveComponent"])("el-col"),Ve=Object(c["resolveComponent"])("el-form-item"),he=Object(c["resolveComponent"])("el-checkbox"),ke=Object(c["resolveComponent"])("el-checkbox-group"),_e=Object(c["resolveComponent"])("el-option"),ge=Object(c["resolveComponent"])("el-select"),we=Object(c["resolveComponent"])("el-tab-pane"),Ce=Object(c["resolveComponent"])("el-tabs"),Ne=Object(c["resolveComponent"])("el-tag"),xe=Object(c["resolveComponent"])("el-radio"),ye=Object(c["resolveComponent"])("el-form"),Te=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createBlock"])(me,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(je,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(me,{class:"text-align-right"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",n,[Object(c["createVNode"])(o,{placeholder:"请输入网站名进行搜索","prefix-icon":"el-icon-search",modelValue:e.domainSearch,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.domainSearch=t})},null,8,["modelValue"])]),Object(c["createVNode"])(be,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.onClickCreateDomain()})},{default:Object(c["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(c["createVNode"])("div",a,[Object(c["createVNode"])(Oe,{data:e.tableData.filter((function(t){return!e.domainSearch||t.domain.toLowerCase().includes(e.domainSearch.toLowerCase())})),style:{width:"100%"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(pe,{prop:"domain",label:"域名/IP"}),Object(c["createVNode"])(pe,{prop:"protocol",label:"协议"},{default:Object(c["withCtx"])((function(e){return["true"==e.row.http?(Object(c["openBlock"])(),Object(c["createBlock"])("p",i,"http")):Object(c["createCommentVNode"])("",!0),"true"==e.row.https?(Object(c["openBlock"])(),Object(c["createBlock"])("p",l,"https")):Object(c["createCommentVNode"])("",!0)]})),_:1}),Object(c["createVNode"])(pe,{prop:"protection",label:"防护设置"},{default:Object(c["withCtx"])((function(e){return[Object(c["createVNode"])("p",null,[s,"true"==e.row.web_engine_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",d,[u,b])):Object(c["createCommentVNode"])("",!0),"false"==e.row.web_engine_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",m,[p,f])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",null,[O,"true"==e.row.web_rule_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",j,[V,h])):Object(c["createCommentVNode"])("",!0),"false"==e.row.web_rule_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",k,[_,g])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",null,[w,"true"==e.row.flow_engine_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",C,[N,x])):Object(c["createCommentVNode"])("",!0),"false"==e.row.flow_engine_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",y,[T,v])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",null,[F,"true"==e.row.flow_rule_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",B,[L,I])):Object(c["createCommentVNode"])("",!0),"false"==e.row.flow_rule_protection?(Object(c["openBlock"])(),Object(c["createBlock"])("span",P,[S,D])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",null,[U,"true"==e.row.name_list?(Object(c["openBlock"])(),Object(c["createBlock"])("span",$,[H,z])):Object(c["createCommentVNode"])("",!0),"false"==e.row.name_list?(Object(c["openBlock"])(),Object(c["createBlock"])("span",q,[E,A])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",null,[K,"true"==e.row.name_list?(Object(c["openBlock"])(),Object(c["createBlock"])("span",M,[J,W])):Object(c["createCommentVNode"])("",!0),"false"==e.row.name_list?(Object(c["openBlock"])(),Object(c["createBlock"])("span",G,[Q,R])):Object(c["createCommentVNode"])("",!0)])]})),_:1}),Object(c["createVNode"])(pe,{label:"操作",align:"right"},{default:Object(c["withCtx"])((function(t){return[Object(c["createVNode"])(be,{size:"mini",onClick:function(o){return e.handleEdit(t.row)},class:"button-block",type:"text",loading:t.row.loading},{default:Object(c["withCtx"])((function(){return[X]})),_:2},1032,["onClick","loading"]),Object(c["createVNode"])(be,{size:"mini",onClick:function(o){return e.handleProtection(t.row)},class:"button-block",type:"text"},{default:Object(c["withCtx"])((function(){return[Y]})),_:2},1032,["onClick"]),Object(c["createVNode"])(fe,{placement:"top",width:"160",visible:t.row.isVisiblePopover,"onUpdate:visible":function(e){return t.row.isVisiblePopover=e}},{reference:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(be,{type:"text",size:"mini",onClick:function(e){return t.row.isVisiblePopover=!0}},{default:Object(c["withCtx"])((function(){return[ce]})),_:2},1032,["onClick"])]})),default:Object(c["withCtx"])((function(){return[Z,Object(c["createVNode"])("div",ee,[Object(c["createVNode"])(be,{size:"mini",type:"text",onClick:function(e){return t.row.isVisiblePopover=!1}},{default:Object(c["withCtx"])((function(){return[te]})),_:2},1032,["onClick"]),Object(c["createVNode"])(be,{type:"primary",size:"mini",onClick:function(o){return e.handleDelete(t.row)},loading:e.loading},{default:Object(c["withCtx"])((function(){return[oe]})),_:2},1032,["onClick","loading"])])]})),_:2},1032,["visible","onUpdate:visible"])]})),_:1})]})),_:1},8,["data"])])]})),_:1}),Object(c["createVNode"])(Te,{title:e.domainTitle,modelValue:e.dialogDomainFormVisible,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.dialogDomainFormVisible=t}),width:"520px","close-on-click-modal":!1,onClosed:e.dialogClose},{footer:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(be,{onClick:t[14]||(t[14]=function(t){return e.dialogDomainFormVisible=!1})},{default:Object(c["withCtx"])((function(){return[de]})),_:1}),Object(c["createVNode"])(be,{type:"primary",onClick:t[15]||(t[15]=function(t){return e.onClickDomainSubmit("domainForm")}),loading:e.loading},{default:Object(c["withCtx"])((function(){return[ue]})),_:1},8,["loading"])]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(ye,{class:"form-tag-dialog",model:e.domainForm,size:"mini","label-position":"left","label-width":"130px",rules:e.rules,ref:"domainForm"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Ve,{label:"域名/IP",prop:"domain",key:"1"},{default:Object(c["withCtx"])((function(){return["new"==e.domainType?(Object(c["openBlock"])(),Object(c["createBlock"])(o,{key:0,modelValue:e.domainForm.domain,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.domainForm.domain=t}),placeholder:"请输入IP或域名，域名支持通配符，例如*.jxwaf.com"},null,8,["modelValue"])):Object(c["createCommentVNode"])("",!0),"edit"==e.domainType?(Object(c["openBlock"])(),Object(c["createBlock"])(o,{key:1,modelValue:e.domainForm.domain,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.domainForm.domain=t}),disabled:"disabled"},null,8,["modelValue"])):Object(c["createCommentVNode"])("",!0),"new"==e.domainType?(Object(c["openBlock"])(),Object(c["createBlock"])("p",ne," （请输入IP或域名，域名支持通配符，例如*.jxwaf.com） ")):Object(c["createCommentVNode"])("",!0)]})),_:1}),Object(c["createVNode"])(Ve,{label:"协议类型",prop:"checkListProtocol",key:"2"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(ke,{modelValue:e.domainForm.checkListProtocol,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.domainForm.checkListProtocol=t})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(he,{label:"HTTP",key:"HTTP"}),Object(c["createVNode"])(he,{label:"HTTPS",key:"HTTPS"})]})),_:1},8,["modelValue"])]})),_:1}),e.domainForm.checkListProtocol.indexOf("HTTPS")>-1?(Object(c["openBlock"])(),Object(c["createBlock"])("div",re,[Object(c["createVNode"])(Ce,{type:"border-card",class:"domain-tabs",modelValue:e.selectTabsValue,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.selectTabsValue=t})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(we,{label:"SSL证书管理",name:"0"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Ve,{label:"SSL证书",key:"3"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(ge,{modelValue:e.domainForm.ssl_domain,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.domainForm.ssl_domain=t}),placeholder:"请选择或输入模糊搜索",filterable:""},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sslOptions,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(_e,{key:e.ssl_domain,label:e.ssl_domain,value:e.ssl_domain},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(c["createVNode"])(we,{label:"手动输入",name:"1"},{default:Object(c["withCtx"])((function(){return["1"==e.selectTabsValue?(Object(c["openBlock"])(),Object(c["createBlock"])(Ve,{label:"公钥",prop:"public_key",key:"5"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{modelValue:e.domainForm.public_key,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.domainForm.public_key=t}),placeholder:"需包含证书链",type:"textarea",rows:4},null,8,["modelValue"])]})),_:1})):Object(c["createCommentVNode"])("",!0),"1"==e.selectTabsValue?(Object(c["openBlock"])(),Object(c["createBlock"])(Ve,{label:"私钥",prop:"private_key",key:"6"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{modelValue:e.domainForm.private_key,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.domainForm.private_key=t}),type:"textarea",rows:4},null,8,["modelValue"])]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["modelValue"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(Ve,{label:"源站地址",key:"7"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourceIpList,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])(Ne,{key:o,closable:"","disable-transitions":!1,onClose:function(o){return e.handleCloseSourceIpList(t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t),1)]})),_:2},1032,["onClose"])})),128)),e.sourceIpListVisible?(Object(c["openBlock"])(),Object(c["createBlock"])(o,{key:0,class:"input-new-tag node-ip-list",modelValue:e.sourceIpListValue,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.sourceIpListValue=t}),ref:"saveTagSourceIpList",size:"mini",onKeyup:Object(c["withKeys"])(e.handleSourceIpListConfirm,["enter"]),onBlur:e.handleSourceIpListConfirm},null,8,["modelValue","onKeyup","onBlur"])):(Object(c["openBlock"])(),Object(c["createBlock"])(be,{key:1,class:"button-new-tag",size:"small",onClick:e.showSourceIpList},{default:Object(c["withCtx"])((function(){return[ae]})),_:1},8,["onClick"])),ie]})),_:1}),Object(c["createVNode"])(Ve,{label:"源站端口",prop:"source_http_port",key:"8"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{placeholder:"仅支持http",modelValue:e.domainForm.source_http_port,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.domainForm.source_http_port=t})},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(Ve,{label:"回源协议",prop:"proxy_pass_https",key:"9"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(xe,{modelValue:e.domainForm.proxy_pass_https,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.domainForm.proxy_pass_https=t}),label:"false"},{default:Object(c["withCtx"])((function(){return[le]})),_:1},8,["modelValue"]),Object(c["createVNode"])(xe,{modelValue:e.domainForm.proxy_pass_https,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.domainForm.proxy_pass_https=t}),label:"true"},{default:Object(c["withCtx"])((function(){return[se]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue","onClosed"])]})),_:1})}o("a434"),o("159b"),o("a15b"),o("ac1f"),o("1276");var me=o("362c"),pe={mixins:[me["b"]],data:function(){return{domainTitle:"添加网站",domainType:"new",domainSearch:"",dialogDomainFormVisible:!1,loading:!1,dialogSysInitVisible:!1,domainForm:{source_http_port:"80",proxy_pass_https:"false",checkListProtocol:[]},tableData:[],sourceIpList:[],sourceIpListVisible:!1,sourceIpListValue:"",flagTag:!0,sslOptions:[],selectTabsValue:"0"}},computed:{rules:function(){return{domain:[{required:!0,message:"请输入网站地址",trigger:["blur","change"]},{validator:me["c"],trigger:["blur","change"]}],source_http_port:[{required:!0,message:"请输入后端服务器端口信息",trigger:["blur","change"]},{validator:me["e"],trigger:["blur","change"]}],checkListProtocol:[{type:"array",required:!0,message:"请至少选择一项协议类型",trigger:"change"}],public_key:[{required:!0,message:"请输入公钥",trigger:"blur"}],private_key:[{required:!0,message:"请输入私钥",trigger:"blur"}]}}},mounted:function(){this.getData()},methods:{handleCloseSourceIpList:function(e){this.sourceIpList.splice(this.sourceIpList.indexOf(e),1)},showSourceIpList:function(){var e=this;this.sourceIpListVisible=!0,this.$nextTick((function(t){e.$refs.saveTagSourceIpList.$refs.input.focus()}))},handleSourceIpListConfirm:function(){var e=this,t=this.sourceIpListValue,o=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e.flagTag&&(e.flagTag=!1,t?o.test(t)?Object(me["a"])("post","/ip_check",{ip:t},(function(o){o.data.result?(e.sourceIpList.push(t),e.sourceIpListVisible=!1,e.sourceIpListValue=""):e.$message({showClose:!0,message:"请输入正确的IP地址",type:"error"})}),(function(){}),"no-message"):e.$message({showClose:!0,message:"请输入源站IP地址",type:"error"}):(e.sourceIpListVisible=!1,e.sourceIpListValue=""),setTimeout((function(){e.flagTag=!0}),50))},getData:function(){var e=this;Object(me["a"])("get","/waf/waf_get_domain_list",{},(function(t){e.tableData=t.data.message,e.tableData.forEach((function(e){e.isVisiblePopover=!1}))}),(function(){}))},getSSL:function(){var e=this;Object(me["a"])("get","/waf/waf_get_sys_ssl_manage_list",{},(function(t){e.sslOptions=t.data.message}),(function(){}))},dialogClose:function(){this.domainForm={source_http_port:"80",proxy_pass_https:"false",checkListProtocol:[]},this.selectTabsValue="0",this.sourceIpListVisible=!1,this.sourceIpListValue="",this.sourceIpList=[],this.$refs["domainForm"].resetFields()},onClickDomainSubmit:function(e){var t=this,o=t.domainForm.checkListProtocol,c="/waf/waf_create_domain";if("edit"==t.domainType&&(c="/waf/waf_edit_domain"),0==t.sourceIpList.length)return t.$message({message:"后端服务器ip/域名不能为空",type:"error"}),!1;if(t.domainForm.checkListProtocol.indexOf("HTTPS")<0)t.domainForm.ssl_source="ssl_manage",t.domainForm.ssl_domain="";else if("0"==t.selectTabsValue){if(""==t.domainForm.ssl_domain)return t.$message({message:"请选择SSL证书",type:"error"}),!1;t.domainForm.ssl_source="ssl_manage",t.domainForm.public_key="",t.domainForm.private_key=""}else{if(""==t.domainForm.public_key||""==t.domainForm.private_key)return t.$message({message:"公钥/私钥不能为空",type:"error"}),!1;t.domainForm.ssl_source="custom",t.domainForm.ssl_domain=""}t.domainForm.source_ip=t.sourceIpList.join(","),t.domainForm.http=o.indexOf("HTTP")>-1?"true":"false",t.domainForm.https=o.indexOf("HTTPS")>-1?"true":"false",this.$refs[e].validate((function(e){e&&(t.loading=!0,Object(me["a"])("post",c,t.domainForm,(function(e){t.loading=!1,t.dialogDomainFormVisible=!1,t.sourceIpListVisible=!1,t.sourceIpListValue="",t.sourceIpList=[],t.getData()}),(function(){t.loading=!1})))}))},onClickDefault:function(){window.location.href="/#/default"},onClickCreateDomain:function(){var e=this;e.domainTitle="添加网站",e.domainType="new",e.dialogDomainFormVisible=!0,e.getSSL()},handleEdit:function(e){var t=this;e.loading=!0,t.getSSL(),Object(me["a"])("post","/waf/waf_get_domain",{domain:e.domain},(function(o){e.loading=!1;var c=o.data.message;t.domainForm.domain=c.domain,t.domainForm.private_key=c.private_key,t.domainForm.public_key=c.public_key,t.domainForm.ssl_domain=c.ssl_domain,t.domainForm.proxy_pass_https=c.proxy_pass_https,t.domainForm.source_http_port=c.source_http_port,t.sourceIpList=c.source_ip?c.source_ip.split(","):[],t.domainForm.isVisiblePopover=!1,"true"==c.http&&t.domainForm.checkListProtocol.push("HTTP"),"true"==c.https&&t.domainForm.checkListProtocol.push("HTTPS"),""==c.ssl_domain?t.selectTabsValue="1":t.selectTabsValue="0",t.domainTitle="编辑网站",t.domainType="edit",t.dialogDomainFormVisible=!0}),(function(){e.loading=!1}),"no-message")},handleProtection:function(e){window.location.href="/#/protection/"+e.domain+"/single_rule"},handleDelete:function(e){var t=this;t.loading=!0,Object(me["a"])("post","/waf/waf_del_domain",{domain:e.domain},(function(o){e.isVisiblePopover=!1,t.loading=!1,t.getData()}),(function(){t.loading=!1}))}}};o("a751");pe.render=be;t["default"]=pe}}]);
//# sourceMappingURL=chunk-a439127e.4b6cf810.js.map