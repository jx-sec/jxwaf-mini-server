{"version":3,"sources":["webpack:///./src/components/sys-response-replace.vue?961a","webpack:///./src/components/sys-response-replace.vue","webpack:///./src/components/sys-response-replace.vue?3b3a"],"names":["_createVNode","class","style","_createBlock","_component_el_row","_component_el_col","span","type","justify","_hoisted_1","_component_el_divider","_hoisted_2","_component_el_input","placeholder","prefix-icon","$data","domainSearch","$event","_component_el_button","onClick","_cache","$options","onClickCreateIdentity","_hoisted_4","_component_el_table","data","tableData","filter","name","toLowerCase","includes","_component_el_table_column","prop","label","default","_withCtx","scope","row","response_header_status","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","response_data_status","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","align","size","handleEdit","loading","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_18","_hoisted_19","handleDelete","_component_el_dialog","title","domainTitle","dialogIdentityFormVisible","close-on-click-modal","onClosed","dialogClose","footer","onClickIdentitySubmit","_component_el_form","model","identityForm","label-position","label-width","rules","ref","_component_el_form_item","key","domainType","disabled","detail","_component_el_switch","active-value","inactive-value","_hoisted_23","_hoisted_24","_Fragment","_renderList","ruleConfigMatchs","item","index","_hoisted_25","_hoisted_26","match","_hoisted_27","_withModifiers","removeConfigMatchs","_ctx","bigIndex","addConfigMatchs","plain","_hoisted_30","response_data_replace_match","response_data_replace_data","mixins","mixin","response_header_replace_data","computed","required","message","trigger","validator","validateRuleName","mounted","this","getData","methods","t","JXAjax","response","forEach","$refs","resetFields","postUrl","length","$message","i","validate","valid","oGetData","header_value","JSON","parse","box","replace_match","odata","replace_data","push","indexOf","splice","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-3d2bc27a.127b4ea6.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-response-replace.vue?vue&type=style&index=0&id=a6025384&lang=css\"","<template>\r\n  <el-row>\r\n    <el-col :span=\"24\">\r\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n        <el-col :span=\"24\">\r\n          <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n            <el-col :span=\"12\">\r\n              <h3>响应替换配置</h3>\r\n            </el-col>\r\n\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      <el-divider />\r\n      <el-row class=\"text-align-right\">\r\n        <div class=\"domain-search-input\">\r\n          <el-input placeholder=\"请输入名称进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"domainSearch\"></el-input>\r\n        </div>\r\n        <el-button type=\"primary\" @click=\"onClickCreateIdentity()\">新增</el-button>\r\n      </el-row>\r\n      <div class=\"demo-block\">\r\n        <el-table :data=\"\r\n          tableData.filter(\r\n            (data) =>\r\n              !domainSearch ||\r\n              data.name.toLowerCase().includes(domainSearch.toLowerCase())\r\n          )\r\n        \" style=\"width: 100%\">\r\n          <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n          <el-table-column prop=\"detail\" label=\"详情\"></el-table-column>\r\n          <el-table-column prop=\"status\" label=\"响应头替换\">\r\n            <template #default=\"scope\">\r\n              <span v-if=\"scope.row.response_header_status == 'true'\">\r\n                <i class=\"el-icon-circle-check icon-success\"></i>已开启\r\n              </span>\r\n              <span v-if=\"scope.row.response_header_status == 'false'\">\r\n                <i class=\"el-icon-circle-close icon-error\"></i>已关闭\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"status\" label=\"响应体替换\">\r\n            <template #default=\"scope\">\r\n              <span v-if=\"scope.row.response_data_status == 'true'\">\r\n                <i class=\"el-icon-circle-check icon-success\"></i>已开启\r\n              </span>\r\n              <span v-if=\"scope.row.response_data_status == 'false'\">\r\n                <i class=\"el-icon-circle-close icon-error\"></i>已关闭\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          \r\n          <el-table-column label=\"操作\" align=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\"\r\n                :loading=\"scope.row.loading\">编辑</el-button>\r\n\r\n              <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                <p>确定删除吗？</p>\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                  </el-button>\r\n                </div>\r\n                <template #reference>\r\n                  <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                </template>\r\n\r\n              </el-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-dialog :title=\"domainTitle\" v-model=\"dialogIdentityFormVisible\" width=\"820px\" :close-on-click-modal=\"false\"\r\n      @closed=\"dialogClose\">\r\n      <el-form class=\"form-tag-dialog identity-edit-form \" :model=\"identityForm\" size=\"mini\" label-position=\"left\"\r\n        label-width=\"130px\" :rules=\"rules\" ref=\"identityForm\">\r\n        <el-form-item label=\"名称\" prop=\"name\" key=\"1\">\r\n          <el-input v-model=\"identityForm.name\" v-if=\"domainType == 'new'\" placeholder=\"请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”\">\r\n          </el-input>\r\n          <el-input v-model=\"identityForm.name\" v-if=\"domainType == 'edit'\" disabled=\"disabled\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"详情\" key=\"2\">\r\n          <el-input v-model=\"identityForm.detail\" placeholder=\"请输入详情\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"响应头替换\" key=\"9\">\r\n          <el-switch v-model=\"identityForm.response_header_status\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n        </el-form-item>\r\n        <div v-if=\"identityForm.response_header_status == 'true'\">\r\n          <el-form-item label=\"响应头替换配置\" key=\"10\">\r\n            <div class=\"match-title\">\r\n              <p>Header头</p>\r\n              <p>正则匹配</p>\r\n              <p>替换内容</p>\r\n            </div>\r\n            <div class=\"match-box\" v-for=\"(item, index) in ruleConfigMatchs\" :key=\"'matchs' + index\">\r\n              <div class=\"match-key-item\">\r\n                <el-input v-model=\"item.key\"> </el-input>\r\n              </div>\r\n              <div class=\"match-key-item\">\r\n                <el-input v-model=\"item.match\"> </el-input>\r\n              </div>\r\n              <div class=\"match-key-item\">\r\n                <el-input v-model=\"item.data\"> </el-input>\r\n              </div>\r\n\r\n              <el-button @click.prevent=\"removeConfigMatchs(item, bigIndex)\">删除</el-button>\r\n            </div>\r\n            <el-button @click=\"addConfigMatchs(bigIndex)\" plain type=\"primary\" class=\"button-new\">新增</el-button>\r\n          </el-form-item>\r\n        </div>\r\n\r\n\r\n        <el-form-item label=\"响应体替换\" key=\"6\">\r\n          <el-switch v-model=\"identityForm.response_data_status\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <div v-if=\"identityForm.response_data_status == 'true'\">\r\n          <el-form-item label=\"响应体匹配正则\" key=\"7\">\r\n            <el-input v-model=\"identityForm.response_data_replace_match\" placeholder=\"请输入\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"响应体替换内容\" key=\"8\">\r\n            <el-input v-model=\"identityForm.response_data_replace_data\" placeholder=\"请输入\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogIdentityFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClickIdentitySubmit('identityForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { validateRuleName, mixin, JXAjax } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      domainTitle: \"新增\",\r\n      domainType: \"new\",\r\n      domainSearch: \"\",\r\n      dialogIdentityFormVisible: false,\r\n      loading: false,\r\n      identityForm: {\r\n        name: \"\",\r\n        detail: \"\",\r\n        response_header_status: \"false\",\r\n        response_header_replace_data: \"\",\r\n        response_data_status: \"false\",\r\n        response_data_replace_match: \"\",\r\n        response_data_replace_data: \"\",\r\n      },\r\n      tableData: [],\r\n      ruleConfigMatchs: [{\r\n        key: \"\",\r\n        match: \"\",\r\n        data: \"\",\r\n      }],\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validateRuleName,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        \r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_sys_response_replace_list\",\r\n        {},\r\n        function (response) {\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n\r\n        }\r\n      );\r\n    },\r\n\r\n    dialogClose() {\r\n      this.identityForm = {\r\n        name: \"\",\r\n        detail: \"\",\r\n        response_header_status: \"false\",\r\n        response_header_replace_data: \"\",\r\n        response_data_status: \"false\",\r\n        response_data_replace_match: \"\",\r\n        response_data_replace_data: \"\",\r\n      };\r\n      this.ruleConfigMatchs = [{\r\n        key: \"\",\r\n        match: \"\",\r\n        data: \"\",\r\n      }];\r\n      this.$refs[\"identityForm\"].resetFields();\r\n    },\r\n\r\n\r\n    onClickIdentitySubmit(identityForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_create_sys_response_replace\";\r\n      if (t.domainType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_sys_response_replace\";\r\n      }\r\n\r\n      var response_header_replace_data = \"\";\r\n      if (t.identityForm.response_header_status == 'true') {\r\n        if (t.ruleConfigMatchs.length == 0) {\r\n          t.$message({\r\n            message: '请对自定义header头进行配置',\r\n            type: \"error\",\r\n          });\r\n          return false;\r\n        } else {\r\n          for (var i in t.ruleConfigMatchs) {\r\n            var item = t.ruleConfigMatchs[i]\r\n            if (i == 0) {\r\n              response_header_replace_data = response_header_replace_data + '\"' + item.key + '\":{\"replace_match\":\"' + item.match + '\",\"replace_data\":\"' + item.data + '\"}';\r\n            } else {\r\n              response_header_replace_data = response_header_replace_data + ',\"' + item.key + '\":{\"replace_match\":\"' + item.match + '\",\"replace_data\":\"' + item.data + '\"}';\r\n            }\r\n          }\r\n          response_header_replace_data = \"{\" + response_header_replace_data + \"}\"\r\n        }\r\n      }\r\n\r\n      t.identityForm.response_header_replace_data = response_header_replace_data;\r\n      this.$refs[identityForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.identityForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogIdentityFormVisible = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n\r\n    onClickCreateIdentity() {\r\n      var t = this;\r\n      t.domainTitle = \"新增\";\r\n      t.domainType = \"new\";\r\n      t.dialogIdentityFormVisible = true;\r\n    },\r\n\r\n    handleEdit(data) {\r\n      var t = this;\r\n      data.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_response_replace\",\r\n        { name: data.name },\r\n        function (response) {\r\n          data.loading = false;\r\n          var oGetData = response.data.message;\r\n          t.identityForm.name = oGetData.name;\r\n          t.identityForm.detail = oGetData.detail;\r\n          \r\n          t.identityForm.response_header_status = oGetData.response_header_status;\r\n          t.identityForm.response_header_replace_data = oGetData.response_header_replace_data;\r\n\r\n          t.identityForm.response_data_status = oGetData.response_data_status;\r\n          t.identityForm.response_data_replace_match = oGetData.response_data_replace_match;\r\n          t.identityForm.response_data_replace_data = oGetData.response_data_replace_data;\r\n\r\n          if (t.identityForm.response_header_status == \"true\") {\r\n            var header_value = JSON.parse(t.identityForm.response_header_replace_data)\r\n            var box = []\r\n            for (var key in header_value) {\r\n              var match = header_value[key].replace_match\r\n              var odata = header_value[key].replace_data\r\n              box.push({\r\n                \"key\": key,\r\n                \"match\": match,\r\n                \"data\": odata,\r\n              })\r\n            }\r\n            t.ruleConfigMatchs = box;\r\n          }\r\n\r\n\r\n          t.domainTitle = '编辑';\r\n          t.domainType = \"edit\";\r\n          t.dialogIdentityFormVisible = true;\r\n        },\r\n        function () {\r\n          data.loading = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_sys_response_replace\",\r\n        { name: data.name },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    removeConfigMatchs(item) {\r\n      var index = this.ruleConfigMatchs.indexOf(item);\r\n      if (index > 0) {\r\n        this.ruleConfigMatchs.splice(index, 1);\r\n      }\r\n    },\r\n\r\n    addConfigMatchs() {\r\n      this.ruleConfigMatchs.push({ key: \"\", match: \"\",data:\"\" })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n\r\n.icon-success {\r\n  color: #67c23a;\r\n  margin-right: 5px;\r\n}\r\n\r\n.icon-error {\r\n  color: #f56c6c;\r\n  margin-right: 5px;\r\n}\r\n\r\n.icon-warning {\r\n  color: #e6a23c;\r\n  margin-right: 5px;\r\n}\r\n\r\n.domain-setting {\r\n  float: right;\r\n}\r\n\r\n.domain-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n\r\n.domain-search-input {\r\n  display: block;\r\n  float: left;\r\n  text-align: left;\r\n}\r\n\r\n.domain-search-input .el-input {\r\n  width: 100%;\r\n}\r\n\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n\r\n.domain-tabs {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.identity-edit-form .el-button {\r\n  margin-left: 10px;\r\n}\r\n\r\n.identity-edit-form .button-new {\r\n  margin-left: 0px;\r\n}\r\n\r\n\r\n\r\n.identity-edit-form .match-box {\r\n  width: calc(100% - 74px);\r\n}\r\n\r\n\r\n.identity-edit-form .match-box {\r\n  display: inline-block;\r\n  margin-bottom: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.identity-edit-form .match-title {\r\n  display: flex;\r\n}\r\n\r\n.identity-edit-form .match-title p {\r\n  display: inline-block;\r\n  margin: 0 55px;\r\n}\r\n\r\n.identity-edit-form .match-key-item {\r\n  margin-right: 10px;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: calc(100% - 417px);\r\n}\r\n</style>\r\n","import { render } from \"./sys-response-replace.vue?vue&type=template&id=a6025384\"\nimport script from \"./sys-response-replace.vue?vue&type=script&lang=js\"\nexport * from \"./sys-response-replace.vue?vue&type=script&lang=js\"\n\nimport \"./sys-response-replace.vue?vue&type=style&index=0&id=a6025384&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-mini\\\\jxwaf-mini-index\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}