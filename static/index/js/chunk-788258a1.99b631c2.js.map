{"version":3,"sources":["webpack:///./src/components/domain.vue?0711","webpack:///./src/components/domain.vue","webpack:///./src/components/domain.vue?ee14"],"names":["class","_createVNode","style","_createBlock","_component_el_row","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_component_el_col","span","_hoisted_3","_component_el_input","placeholder","prefix-icon","$data","dataSearch","$event","onInput","$options","onChangeSearch","_component_el_button","icon","onClick","type","_cache","onClickCreateDomain","_hoisted_5","_component_el_table","data","tableData","_component_el_table_column","prop","label","default","_withCtx","scope","row","http","_component_el_tag","size","https","_hoisted_9","_hoisted_11","_Fragment","_renderList","source_ip","split","item","index","key","source_http_port","proxy_pass_https","balance_type","_hoisted_19","web_engine_protection","_hoisted_20","_hoisted_22","_hoisted_24","web_rule_protection","_hoisted_25","_hoisted_27","_hoisted_29","scan_attack_protection","_hoisted_30","_hoisted_32","_hoisted_34","web_page_tamper_proof","_hoisted_35","_hoisted_37","_hoisted_39","web_white_rule","_hoisted_40","_hoisted_42","_hoisted_44","flow_engine_protection","_hoisted_45","_hoisted_47","_hoisted_49","flow_rule_protection","_hoisted_50","_hoisted_52","_hoisted_54","flow_ip_region_block","_hoisted_55","_hoisted_57","_hoisted_59","flow_black_ip","_hoisted_60","_hoisted_62","_hoisted_64","flow_white_rule","_hoisted_65","_hoisted_67","align","handleEdit","loading","handleProtection","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_71","_hoisted_72","handleDelete","_component_el_pagination","background","layout","total","tableTotal","current-page","currentPage","page-size","onCurrentChange","loadingPage","_component_el_dialog","title","domainTitle","dialogDomainFormVisible","close-on-click-modal","onClosed","dialogClose","footer","onClickDomainSubmit","_component_el_form","model","domainForm","label-position","label-width","rules","ref","_component_el_form_item","domainType","domain","disabled","_hoisted_76","_component_el_checkbox_group","checkListProtocol","_component_el_checkbox","indexOf","_hoisted_77","_component_el_tabs","selectTabsValue","_component_el_tab_pane","name","_component_el_select","ssl_domain","filterable","sslOptions","_component_el_option","value","_hoisted_78","sourceIpList","tag","closable","disable-transitions","onClose","handleCloseSourceIpList","sourceIpListVisible","sourceIpListValue","onKeyup","_withKeys","handleSourceIpListConfirm","onBlur","showSourceIpList","_hoisted_80","_hoisted_81","_component_el_radio","_component_el_switch","advanced_conf","active-value","inactive-value","_hoisted_86","force_https","pre_proxy","_hoisted_91","real_ip_conf","mixins","mixin","white_ip_list","flagTag","computed","required","message","trigger","validator","validateDomainPort","validatePort","mounted","this","methods","splice","$nextTick","_","$refs","saveTagSourceIpList","input","focus","t","pattern","test","$message","showClose","push","setTimeout","getData","page","JXAjax","response","forEach","count","now_page","resetFields","arrProtocol","postUrl","length","ssl_source","undefined","join","validate","valid","getSSL","oGetData","window","location","href","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-788258a1.99b631c2.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./domain.vue?vue&type=style&index=0&id=5612d54c&lang=css\"","<template>\r\n  <div>\r\n    <el-row class=\"breadcrumb-style\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">防护管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>网站防护</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <el-row class=\"container-style\">\r\n      <el-col :span=\"24\" v-loading.fullscreen.lock=\"loadingPage\">\r\n        <el-row class=\"text-align-right\">\r\n          <div class=\"data-search-input\">\r\n            <el-input placeholder=\"请输入关键词进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"dataSearch\"\r\n              @input=\"onChangeSearch\">\r\n            </el-input>\r\n            <el-button icon=\"el-icon-search\" @click=\"onChangeSearch\" class=\"search-icon-btn\" />\r\n          </div>\r\n          <el-button type=\"primary\" @click=\"onClickCreateDomain()\">新增网站</el-button>\r\n        </el-row>\r\n        <div class=\"demo-block\">\r\n          <el-table :data=\"tableData\" style=\"width: 100%\">\r\n            <el-table-column prop=\"domain\" label=\"网站\"></el-table-column>\r\n            <el-table-column label=\"网站配置\">\r\n              <template #default=\"scope\">\r\n                <p>协议类型：\r\n                  <el-tag v-if=\"scope.row.http == 'true'\" size=\"small\">HTTP</el-tag>\r\n                  <el-tag v-if=\"scope.row.https == 'true'\" size=\"small\">HTTPS</el-tag>\r\n                </p>\r\n                <p class=\"col-item-box\">源站地址：\r\n                  <span class=\"col-item-content\">\r\n                    <span v-for=\"( item, index ) in scope.row.source_ip.split(',')\" :key=\"index\">\r\n                      <el-tag size=\"small\">{{ item }}</el-tag>\r\n                    </span>\r\n                  </span>\r\n                </p>\r\n                <p>源站端口：\r\n                  <el-tag size=\"small\">{{ scope.row.source_http_port }}</el-tag>\r\n                </p>\r\n\r\n                <p>回源协议：\r\n                  <el-tag size=\"small\" v-if=\"scope.row.proxy_pass_https == 'false'\">HTTP</el-tag>\r\n                  <el-tag size=\"small\" v-if=\"scope.row.proxy_pass_https == 'true'\">HTTPS</el-tag>\r\n\r\n                </p>\r\n                <p>负载均衡：\r\n                  <el-tag size=\"small\" v-if=\"scope.row.balance_type == 'round_robin'\">轮询</el-tag>\r\n                  <el-tag size=\"small\" v-if=\"scope.row.balance_type == 'ip_hash'\">IP_HASH</el-tag>\r\n                </p>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column prop=\"protection\" label=\"防护设置\">\r\n              <template #default=\"scope\">\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">Web防护引擎：</span>\r\n                  <span v-if=\"scope.row.web_engine_protection == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.web_engine_protection == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">Web规则防护：</span>\r\n                  <span v-if=\"scope.row.web_rule_protection == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.web_rule_protection == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">扫描攻击防护：</span>\r\n                  <span v-if=\"scope.row.scan_attack_protection == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.scan_attack_protection == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">网页防篡改：</span>\r\n                  <span v-if=\"scope.row.web_page_tamper_proof == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.web_page_tamper_proof == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">Web白名单规则：</span>\r\n                  <span v-if=\"scope.row.web_white_rule == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.web_white_rule == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">流量防护引擎：</span>\r\n                  <span v-if=\"scope.row.flow_engine_protection == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.flow_engine_protection == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">流量规则防护：</span>\r\n                  <span v-if=\"scope.row.flow_rule_protection == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.flow_rule_protection == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">IP区域封禁：</span>\r\n                  <span v-if=\"scope.row.flow_ip_region_block == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.flow_ip_region_block == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">IP黑名单：</span>\r\n                  <span v-if=\"scope.row.flow_black_ip == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.flow_black_ip == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span class=\"col-item-protection-title\">流量白名单规则：</span>\r\n                  <span v-if=\"scope.row.flow_white_rule == 'true'\">\r\n                    <el-tag size=\"small\" type=\"success\">已开启</el-tag>\r\n                  </span>\r\n                  <span v-if=\"scope.row.flow_white_rule == 'false'\">\r\n                    <el-tag size=\"small\" type=\"warning\">未开启</el-tag>\r\n                  </span>\r\n                </p>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" align=\"right\">\r\n              <template #default=\"scope\">\r\n                <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\"\r\n                  :loading=\"scope.row.loading\">网站配置</el-button>\r\n                <el-button size=\"mini\" @click=\"handleProtection(scope.row)\" class=\"button-block\" type=\"text\">防护配置\r\n                </el-button>\r\n                <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                  <p>确定删除吗？</p>\r\n                  <div style=\"text-align: right; margin: 0\">\r\n                    <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                    </el-button>\r\n                  </div>\r\n                  <template #reference>\r\n                    <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                  </template>\r\n\r\n                </el-popover>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n\r\n          <el-pagination background layout=\"prev, pager, next\" :total=\"tableTotal\" v-model:current-page=\"currentPage\"\r\n            :page-size=\"50\" @current-change=\"onCurrentChange\" />\r\n        </div>\r\n      </el-col>\r\n\r\n      <el-dialog :title=\"domainTitle\" v-model=\"dialogDomainFormVisible\" width=\"580px\" :close-on-click-modal=\"false\"\r\n        @closed=\"dialogClose\">\r\n        <el-form class=\"form-tag-dialog\" :model=\"domainForm\" size=\"mini\" label-position=\"left\" label-width=\"190px\"\r\n          :rules=\"rules\" ref=\"domainForm\">\r\n          <el-form-item label=\"域名/IP\" prop=\"domain\" key=\"1\">\r\n            <el-input v-model=\"domainForm.domain\" v-if=\"domainType == 'new'\"\r\n              placeholder=\"请输入IP或域名，域名支持通配符，例如*.jxwaf.com\">\r\n            </el-input>\r\n            <el-input v-model=\"domainForm.domain\" v-if=\"domainType == 'edit'\" disabled=\"disabled\"></el-input>\r\n            <p class=\"form-info-color\" v-if=\"domainType == 'new'\">\r\n              （请输入IP或域名，域名支持通配符，例如*.jxwaf.com）\r\n            </p>\r\n          </el-form-item>\r\n          <el-form-item label=\"协议类型\" prop=\"checkListProtocol\" key=\"2\">\r\n            <el-checkbox-group v-model=\"domainForm.checkListProtocol\" size=\"small\">\r\n              <el-checkbox label=\"HTTP\" key=\"HTTP\"></el-checkbox>\r\n              <el-checkbox label=\"HTTPS\" key=\"HTTPS\"></el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n\r\n          <div v-if=\"domainForm.checkListProtocol.indexOf('HTTPS') > -1\">\r\n            <el-tabs type=\"border-card\" class=\"domain-tabs\" v-model=\"selectTabsValue\">\r\n              <el-tab-pane label=\"SSL证书管理\" name=\"0\">\r\n                <el-form-item label=\"SSL证书\" key=\"3\">\r\n                  <el-select v-model=\"domainForm.ssl_domain\" placeholder=\"请选择或输入模糊搜索\" filterable>\r\n                    <el-option v-for=\"item in sslOptions\" :key=\"item.ssl_domain\" :label=\"item.ssl_domain\"\r\n                      :value=\"item.ssl_domain\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-tab-pane>\r\n\r\n            </el-tabs>\r\n          </div>\r\n          <el-form-item key=\"6\">\r\n            <template #label>\r\n              <span style=\"margin-right: 4px;color: #f56c6c;\">*</span>源站地址\r\n            </template>\r\n            <el-tag :key=\"index\" v-for=\"(tag, index) in sourceIpList\" closable :disable-transitions=\"false\"\r\n              @close=\"handleCloseSourceIpList(tag)\">{{ tag }}</el-tag>\r\n            <el-input class=\"input-new-tag node-ip-list\" v-if=\"sourceIpListVisible\" v-model=\"sourceIpListValue\"\r\n              ref=\"saveTagSourceIpList\" size=\"mini\" @keyup.enter=\"handleSourceIpListConfirm\"\r\n              @blur=\"handleSourceIpListConfirm\"></el-input>\r\n            <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showSourceIpList\">\r\n              <i class=\"el-icon-plus\"></i>\r\n            </el-button>\r\n            <p class=\"form-info-color\">\r\n              （支持IP和域名，域名需要省略https:// 或 http://）\r\n            </p>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"源站端口\" prop=\"source_http_port\" key=\"7\">\r\n            <el-input placeholder=\"仅支持http\" v-model=\"domainForm.source_http_port\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"回源协议\" prop=\"proxy_pass_https\" key=\"8\">\r\n            <el-radio v-model=\"domainForm.proxy_pass_https\" label=\"false\">http</el-radio>\r\n            <el-radio v-model=\"domainForm.proxy_pass_https\" label=\"true\">https</el-radio>\r\n\r\n          </el-form-item>\r\n          <el-form-item label=\"负载均衡\" prop=\"balance_type\" key=\"14\">\r\n            <el-radio v-model=\"domainForm.balance_type\" label=\"ip_hash\">IP_HASH</el-radio>\r\n            <el-radio v-model=\"domainForm.balance_type\" label=\"round_robin\">轮询</el-radio>\r\n          </el-form-item>\r\n          <el-form-item label=\"高级配置\" key=\"9\">\r\n            <el-switch v-model=\"domainForm.advanced_conf\" size=\"small\" active-value=\"true\" inactive-value=\"false\" />\r\n          </el-form-item>\r\n          <div v-if=\"domainForm.advanced_conf == 'true'\">\r\n            <el-form-item label=\"强制HTTPS跳转\" key=\"10\" prop=\"force_https\">\r\n              <el-radio v-model=\"domainForm.force_https\" label=\"true\">是</el-radio>\r\n              <el-radio v-model=\"domainForm.force_https\" label=\"false\">否</el-radio>\r\n            </el-form-item>\r\n            <el-form-item label=\"WAF前存在代理\" key=\"11\" prop=\"pre_proxy\">\r\n              <el-radio v-model=\"domainForm.pre_proxy\" label=\"true\">是</el-radio>\r\n              <el-radio v-model=\"domainForm.pre_proxy\" label=\"false\">否</el-radio>\r\n            </el-form-item>\r\n            <div v-if=\"domainForm.pre_proxy == 'true'\">\r\n              <el-form-item label=\"HTTP请求头获取真实IP\" key=\"12\" prop=\"real_ip_conf\">\r\n                <el-radio v-model=\"domainForm.real_ip_conf\" label=\"XRI\">X-Real-IP</el-radio>\r\n                <el-radio v-model=\"domainForm.real_ip_conf\" label=\"XFF\">X-Forwarded-For</el-radio>\r\n              </el-form-item>\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </el-form>\r\n        <template #footer class=\"dialog-footer\">\r\n          <el-button @click=\"dialogDomainFormVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"onClickDomainSubmit('domainForm')\" :loading=\"loading\">确定</el-button>\r\n        </template>\r\n      </el-dialog>\r\n    </el-row>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { validatePort, validateDomainPort, mixin, JXAjax } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      domainTitle: \"新增网站\",\r\n      domainType: \"new\",\r\n      dataSearch: \"\",\r\n      loadingPage:false,\r\n      dialogDomainFormVisible: false,\r\n      loading: false,\r\n      domainForm: {\r\n        source_http_port: \"80\",\r\n        proxy_pass_https: \"false\",\r\n        advanced_conf: \"false\",\r\n        force_https: \"false\",\r\n        pre_proxy: \"false\",\r\n        real_ip_conf: \"XRI\",\r\n        balance_type:\"ip_hash\",\r\n        white_ip_list: \"\",\r\n        checkListProtocol: [],\r\n      },\r\n\r\n      tableData: [],\r\n      sourceIpList: [],\r\n      sourceIpListVisible: false,\r\n      sourceIpListValue: \"\",\r\n      flagTag: true,\r\n      sslOptions: [],\r\n      selectTabsValue: \"0\",\r\n      currentPage: 1,\r\n      tableTotal: 0,\r\n      path:\"\",\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        domain: [\r\n          {\r\n            required: true,\r\n            message: '请输入网站地址',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validateDomainPort,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        source_http_port: [\r\n          {\r\n            required: true,\r\n            message: '请输入源站端口信息',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validatePort,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        checkListProtocol: [\r\n          {\r\n            type: \"array\",\r\n            required: true,\r\n            message: '请至少选择一项协议类型',\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        proxy_pass_https: [\r\n          { required: true, message: '请选择回源协议', trigger: 'change', },\r\n        ],\r\n        real_ip_conf: [\r\n          { required: true, message: '请选择', trigger: 'change', },\r\n        ],\r\n        balance_type: [\r\n          { required: true, message: '请选择', trigger: 'change', },\r\n        ],\r\n        pre_proxy: [\r\n          { required: true, message: '请选择', trigger: 'change', },\r\n        ],\r\n        force_https: [\r\n          { required: true, message: '请选择', trigger: 'change', },\r\n        ],\r\n       \r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.onCurrentChange(this.currentPage);\r\n  },\r\n  methods: {\r\n    handleCloseSourceIpList(tag) {\r\n      this.sourceIpList.splice(this.sourceIpList.indexOf(tag), 1);\r\n    },\r\n    showSourceIpList() {\r\n      this.sourceIpListVisible = true;\r\n      this.$nextTick((_) => {\r\n        this.$refs.saveTagSourceIpList.$refs.input.focus();\r\n      });\r\n    },\r\n    handleSourceIpListConfirm() {\r\n      let t = this;\r\n      let sourceIpListValue = this.sourceIpListValue;\r\n      //let pattern = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\r\n      //let pattern = /^(((https|http)?:\\/)?\\/)/;\r\n      let pattern = /^(((https|http)?:\\/)?\\/)/;\r\n      if (t.flagTag) {\r\n        t.flagTag = false;\r\n        if (sourceIpListValue) {\r\n          if (pattern.test(sourceIpListValue)) {\r\n            // JXAjax(\r\n            //   \"post\",\r\n            //   \"/ip_check\",\r\n            //   { ip: sourceIpListValue },\r\n            //   function (response) {\r\n            //     if (response.data.result) {\r\n            //       t.sourceIpList.push(sourceIpListValue);\r\n            //       t.sourceIpListVisible = false;\r\n            //       t.sourceIpListValue = \"\";\r\n            //     } else {\r\n            //       t.$message({\r\n            //         showClose: true,\r\n            //         message: \"请输入正确的IP地址\",\r\n            //         type: \"error\",\r\n            //       });\r\n            //     }\r\n            //   },\r\n            //   function () {\r\n                \r\n            //   },\r\n            //   \"no-message\"\r\n            // );\r\n            t.$message({\r\n              showClose: true,\r\n              message: \"请输入正确的域名格式\",\r\n              type: \"error\",\r\n            });\r\n          } else {\r\n            t.sourceIpList.push(sourceIpListValue);\r\n            t.sourceIpListVisible = false;\r\n            t.sourceIpListValue = \"\";\r\n          }\r\n        } else {\r\n          t.sourceIpListVisible = false;\r\n          t.sourceIpListValue = \"\";\r\n        }\r\n        setTimeout(function () {\r\n          t.flagTag = true;\r\n        }, 50);\r\n      }\r\n    },\r\n\r\n    getData(page) {\r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_domain_list\",\r\n        { page : page},\r\n        function (response) {\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n          //t.loadingPage = false;\r\n          t.tableTotal = response.data.count;\r\n          t.currentPage = response.data.now_page;\r\n        },\r\n        function () {\r\n          //t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    dialogClose() {\r\n      this.domainForm = {\r\n        source_http_port: \"80\",\r\n        proxy_pass_https: \"false\",\r\n        advanced_conf: \"false\",\r\n        force_https: \"false\",\r\n        pre_proxy: \"false\",\r\n        real_ip_conf: \"XRI\",\r\n        balance_type: \"ip_hash\",\r\n        white_ip_list: \"\",\r\n        checkListProtocol: [],\r\n      };\r\n      this.selectTabsValue = \"0\";\r\n      this.sourceIpListVisible = false;\r\n      this.sourceIpListValue = \"\";\r\n      this.sourceIpList = [];\r\n      this.$refs[\"domainForm\"].resetFields();\r\n    },\r\n\r\n    onClickDomainSubmit(domainForm) {\r\n      var t = this;\r\n      var arrProtocol = t.domainForm.checkListProtocol;\r\n      var postUrl = \"/waf/waf_create_domain\";\r\n      if (t.domainType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_domain\";\r\n      }\r\n      if (t.sourceIpList.length == 0) {\r\n        t.$message({\r\n          message: '源站地址不能为空',\r\n          type: \"error\",\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      if (t.domainForm.checkListProtocol.indexOf('HTTPS') < 0) {\r\n        t.domainForm.ssl_source = \"ssl_manage\";\r\n        t.domainForm.ssl_domain = \"\";\r\n        \r\n      } else {\r\n        if (t.selectTabsValue == \"0\") {\r\n          if (t.domainForm.ssl_domain == undefined || t.domainForm.ssl_domain == \"\") {\r\n            t.$message({\r\n              message: '请选择SSL证书',\r\n              type: \"error\",\r\n            });\r\n            return false;\r\n          } else {\r\n            t.domainForm.ssl_source = \"ssl_manage\";\r\n          }\r\n        }\r\n      }\r\n      t.domainForm.source_ip = t.sourceIpList.join(\",\");\r\n      t.domainForm.http = arrProtocol.indexOf(\"HTTP\") > -1 ? \"true\" : \"false\";\r\n      t.domainForm.https = arrProtocol.indexOf(\"HTTPS\") > -1 ? \"true\" : \"false\";\r\n      this.$refs[domainForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.domainForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogDomainFormVisible = false;\r\n              t.sourceIpListVisible = false;\r\n              t.sourceIpListValue = \"\";\r\n              t.sourceIpList = [];\r\n              t.onCurrentChange(t.currentPage);\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n\r\n    onClickCreateDomain() {\r\n      var t = this;\r\n      t.domainTitle = \"新增网站\";\r\n      t.domainType = \"new\";\r\n      t.dialogDomainFormVisible = true;\r\n      t.getSSL();\r\n    },\r\n\r\n    handleEdit(data) {\r\n      var t = this;\r\n      data.loading = true;\r\n      t.getSSL();\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_domain\",\r\n        { domain: data.domain },\r\n        function (response) {\r\n          data.loading = false;\r\n          var oGetData = response.data.message;\r\n          t.domainForm.domain = oGetData.domain;\r\n          t.domainForm.ssl_domain = oGetData.ssl_domain;\r\n          t.domainForm.proxy_pass_https = oGetData.proxy_pass_https;\r\n          t.domainForm.source_http_port = oGetData.source_http_port;\r\n          t.domainForm.advanced_conf = oGetData.advanced_conf;\r\n          t.domainForm.force_https = oGetData.force_https;\r\n          t.domainForm.pre_proxy = oGetData.pre_proxy;\r\n          t.domainForm.real_ip_conf = oGetData.real_ip_conf;\r\n          t.domainForm.balance_type = oGetData.balance_type;\r\n          \r\n          \r\n          t.sourceIpList = oGetData.source_ip\r\n            ? oGetData.source_ip.split(\",\")\r\n            : [];\r\n          t.domainForm.isVisiblePopover = false;\r\n\r\n          if (oGetData.http == \"true\") {\r\n            t.domainForm.checkListProtocol.push(\"HTTP\");\r\n          }\r\n          if (oGetData.https == \"true\") {\r\n            t.domainForm.checkListProtocol.push(\"HTTPS\");\r\n          }\r\n          if (oGetData.ssl_source == \"custom\") {\r\n            t.selectTabsValue = \"1\"\r\n          } else { \r\n            t.selectTabsValue = \"0\"\r\n          }\r\n          t.domainTitle = '编辑网站';\r\n          t.domainType = \"edit\";\r\n          t.dialogDomainFormVisible = true;\r\n        },\r\n        function () {\r\n          data.loading = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    handleProtection(data) {\r\n      window.location.href = \"/#/protection/\" + data.domain;\r\n    },\r\n\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_domain\",\r\n        { domain: data.domain },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.onCurrentChange(t.currentPage);\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    getSSL() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_ssl_manage_list\",\r\n        {},\r\n        function (response) {\r\n          t.sslOptions = response.data.message;\r\n        },\r\n        function () {\r\n\r\n        }\r\n      );\r\n    },\r\n    onCurrentChange() {\r\n      if (this.dataSearch == \"\") {\r\n        this.getData(this.currentPage)\r\n      } else {\r\n        this.onChangeSearch()\r\n      }\r\n    },\r\n    onChangeSearch() {\r\n      var t = this;\r\n      if (t.dataSearch) {\r\n        JXAjax(\r\n          \"post\",\r\n          \"/waf/waf_get_domain_search_list\",\r\n          { page: t.currentPage, domain: t.dataSearch },\r\n          function (response) {\r\n            t.loadingPage = false;\r\n            t.tableData = response.data.message;\r\n            t.currentPage = response.data.now_page;\r\n            t.tableTotal = response.data.count;\r\n            t.tableData.forEach(item => {\r\n              item.isVisiblePopover = false;\r\n            })\r\n          },\r\n          function () {\r\n            t.loadingPage = false;\r\n          },\r\n          \"no-message\"\r\n        );\r\n      } else {\r\n        t.getData(1)\r\n      }\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n\r\n.domain-setting {\r\n  float: right;\r\n}\r\n.domain-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n.domain-tabs {\r\n  margin-bottom: 18px;\r\n}\r\n.el-tabs-myitem {\r\n  color: #409eff;\r\n  height: 40px;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  line-height: 40px;\r\n  display: inline-block;\r\n  list-style: none;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  position: relative;\r\n}\r\n.el-table__body p {\r\n  font-size: 14px;\r\n  line-height: 30px;\r\n}\r\n.el-table__body .el-tag {\r\n  margin-right: 5px;\r\n}\r\n.col-item-box {\r\n  display: flex;\r\n}\r\n.col-item-content {\r\n  flex:1;\r\n}\r\n.col-item-protection-title {\r\n  display: inline-block;\r\n  width: 120px;\r\n}\r\n</style>\r\n","import { render } from \"./domain.vue?vue&type=template&id=5612d54c\"\nimport script from \"./domain.vue?vue&type=script&lang=js\"\nexport * from \"./domain.vue?vue&type=script&lang=js\"\n\nimport \"./domain.vue?vue&type=style&index=0&id=5612d54c&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-2023\\\\jxwaf-base-2023\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}