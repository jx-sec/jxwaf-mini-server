(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a16f54"],{"1d4e":function(e,t,a){"use strict";a("59b5")},"59b5":function(e,t,a){},7005:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),i=a("9d64"),l=a.n(i);const s=Object(c["createTextVNode"])("运营中心"),o=Object(c["createTextVNode"])("数据统计"),r={class:"query-time-container statistics"},d={class:"statistics-container"},n={class:"left-content"},b=Object(c["createVNode"])("div",{class:"content"},[Object(c["createVNode"])("p",null,[Object(c["createVNode"])("i",{class:"el-icon-s-custom"}),Object(c["createTextVNode"])("用户")])],-1),j={class:"progress-text"},O={class:"text-box"},m={class:"item"},V=Object(c["createVNode"])("div",{class:"title"},"请求次数",-1),p={class:"detail"},u={class:"item"},N=Object(c["createVNode"])("div",{class:"title"},"请求IP数量",-1),g={class:"detail"},v={class:"item"},_=Object(c["createVNode"])("div",{class:"title"},"请求设备数量",-1),D={class:"detail"},h={class:"item"},w=Object(c["createVNode"])("div",{class:"title"},"请求成功次数",-1),x={class:"detail"},f={class:"item"},S=Object(c["createVNode"])("div",{class:"title"},"请求4xx失败次数",-1),T={class:"detail"},C={class:"item"},y=Object(c["createVNode"])("div",{class:"title"},"请求5xx失败次数",-1),k={class:"detail"},q={class:"item"},P=Object(c["createVNode"])("div",{class:"title"},"请求平均耗时",-1),z={class:"detail"},L={class:"item"},U=Object(c["createVNode"])("div",{class:"title"},"请求耗时中位数",-1),B={class:"detail"},M={class:"middle-content"},I=Object(c["createVNode"])("div",{class:"progress-left"},[Object(c["createVNode"])("div",{class:"progress-item"},[Object(c["createVNode"])("div",{class:"line-box"},[Object(c["createVNode"])("div",{class:"line line-1"}),Object(c["createVNode"])("i",{class:"el-icon-arrow-right arrow-1"})])])],-1),R={class:"middle-box"},A=Object(c["createVNode"])("div",{class:"content"},[Object(c["createVNode"])("p",{class:"jxwaf-box"},[Object(c["createVNode"])("i",{class:"jxwaf-icon"},[Object(c["createVNode"])("img",{src:l.a,alt:"logo"})]),Object(c["createTextVNode"])("WAF ")])],-1),F={class:"progress-text"},H={class:"text-box"},J={class:"item"},E=Object(c["createVNode"])("div",{class:"title"},"攻击次数",-1),$={class:"detail"},W={class:"item"},G=Object(c["createVNode"])("div",{class:"title"},"拦截次数",-1),K={class:"detail"},Q={class:"item"},X=Object(c["createVNode"])("div",{class:"title"},"攻击IP数量",-1),Y={class:"detail"},Z={class:"item"},ee=Object(c["createVNode"])("div",{class:"title"},"拦截IP数量",-1),te={class:"detail"},ae={class:"item"},ce=Object(c["createVNode"])("div",{class:"title"},"攻击设备数量",-1),ie={class:"detail"},le={class:"item"},se=Object(c["createVNode"])("div",{class:"title"},"拦截设备数量",-1),oe={class:"detail"},re=Object(c["createVNode"])("div",{class:"progress-right"},[Object(c["createVNode"])("div",{class:"progress-item"},[Object(c["createVNode"])("div",{class:"line-box"},[Object(c["createVNode"])("div",{class:"line line-2"}),Object(c["createVNode"])("i",{class:"el-icon-arrow-right arrow-2"})])])],-1),de={class:"right-content"},ne=Object(c["createVNode"])("div",{class:"content"},[Object(c["createVNode"])("p",null,[Object(c["createVNode"])("i",{class:"el-icon-s-platform"}),Object(c["createTextVNode"])("业务服务器")])],-1),be={class:"progress-text"},je={class:"text-box"},Oe={class:"item"},me=Object(c["createVNode"])("div",{class:"title"},"回源次数",-1),Ve={class:"detail"},pe={class:"item"},ue=Object(c["createVNode"])("div",{class:"title"},"回源IP数量",-1),Ne={class:"detail"},ge={class:"item"},ve=Object(c["createVNode"])("div",{class:"title"},"回源设备数量",-1),_e={class:"detail"},De={class:"item"},he=Object(c["createVNode"])("div",{class:"title"},"回源成功次数",-1),we={class:"detail"},xe={class:"item"},fe=Object(c["createVNode"])("div",{class:"title"},"回源4xx失败次数",-1),Se={class:"detail"},Te={class:"item"},Ce=Object(c["createVNode"])("div",{class:"title"},"回源5xx失败次数",-1),ye={class:"detail"},ke={class:"item"},qe=Object(c["createVNode"])("div",{class:"title"},"回源平均耗时",-1),Pe={class:"detail"},ze={class:"item"},Le=Object(c["createVNode"])("div",{class:"title"},"回源耗时中位数",-1),Ue={class:"detail"},Be=Object(c["createVNode"])("div",{style:{padding:"15px 0 0 0","border-top":"1px solid #ebeef5",color:"#4e5969"}},[Object(c["createVNode"])("p",null,"业务服务器请求情况")],-1),Me={class:"demo-block"},Ie=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求次数：",-1),Re=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求IP数量：",-1),Ae=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求设备数量：",-1),Fe=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求成功次数：",-1),He=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求4xx失败次数：",-1),Je=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求5xx失败次数：",-1),Ee=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求平均耗时：",-1),$e=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求耗时中位数：",-1),We=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求最长耗时：",-1),Ge=Object(c["createVNode"])("span",{class:"col-item-protection-title"},"请求最短耗时：",-1);function Ke(e,t,a,i,l,Ke){const Qe=Object(c["resolveComponent"])("el-breadcrumb-item"),Xe=Object(c["resolveComponent"])("el-breadcrumb"),Ye=Object(c["resolveComponent"])("el-row"),Ze=Object(c["resolveComponent"])("el-option"),et=Object(c["resolveComponent"])("el-select"),tt=Object(c["resolveComponent"])("el-date-picker"),at=Object(c["resolveComponent"])("el-button"),ct=Object(c["resolveComponent"])("el-table-column"),it=Object(c["resolveComponent"])("el-tag"),lt=Object(c["resolveComponent"])("el-table"),st=Object(c["resolveComponent"])("el-col"),ot=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])(Ye,{class:"breadcrumb-style"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Xe,{separator:"/"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Qe,{to:{path:"/soc-statistics"}},{default:Object(c["withCtx"])(()=>[s]),_:1}),Object(c["createVNode"])(Qe,null,{default:Object(c["withCtx"])(()=>[o]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(Ye,{class:"container-style"},{default:Object(c["withCtx"])(()=>[Object(c["withDirectives"])(Object(c["createVNode"])(st,{span:24},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])("div",r,[Object(c["createVNode"])(et,{modelValue:l.domain,"onUpdate:modelValue":t[1]||(t[1]=e=>l.domain=e),placeholder:"请选择",onChange:Ke.onChangeDomain,size:"small",style:{"margin-right":"10px"}},{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(l.domainList,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(Ze,{key:e.domain,label:e.domain,value:e.domain},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),Object(c["withDirectives"])(Object(c["createVNode"])(et,{modelValue:l.valueTime,"onUpdate:modelValue":t[2]||(t[2]=e=>l.valueTime=e),placeholder:"Select",onChange:Ke.onChangeSelectTime,size:"small"},{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(l.optionTime,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(Ze,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),[[c["vShow"],l.isShowSelectTime]]),Object(c["withDirectives"])(Object(c["createVNode"])("div",null,[Object(c["createVNode"])(tt,{modelValue:l.pickerTime,"onUpdate:modelValue":t[3]||(t[3]=e=>l.pickerTime=e),type:"datetimerange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",onChange:Ke.changeTimeline,size:"small"},null,8,["modelValue","onChange"])],512),[[c["vShow"],!l.isShowSelectTime]]),Object(c["createVNode"])(at,{icon:"el-icon-search",onClick:Ke.onChangeSearch,class:"search-icon-btn",size:"small"},null,8,["onClick"])]),Object(c["createVNode"])("div",d,[Object(c["createVNode"])(Ye,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])("div",n,[b,Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",m,[V,Object(c["createVNode"])("div",p,Object(c["toDisplayString"])(l.tableData.total_requests),1)]),Object(c["createVNode"])("div",u,[N,Object(c["createVNode"])("div",g,Object(c["toDisplayString"])(l.tableData.unique_ips),1)]),Object(c["createVNode"])("div",v,[_,Object(c["createVNode"])("div",D,Object(c["toDisplayString"])(l.tableData.jxwaf_devid_count),1)]),Object(c["createVNode"])("div",h,[w,Object(c["createVNode"])("div",x,Object(c["toDisplayString"])(l.tableData.successful_requests),1)]),Object(c["createVNode"])("div",f,[S,Object(c["createVNode"])("div",T,Object(c["toDisplayString"])(l.tableData.error_4xx_requests),1)]),Object(c["createVNode"])("div",C,[y,Object(c["createVNode"])("div",k,Object(c["toDisplayString"])(l.tableData.error_5xx_requests),1)]),Object(c["createVNode"])("div",q,[P,Object(c["createVNode"])("div",z,Object(c["toDisplayString"])(l.tableData.avg_request_time_ms),1)]),Object(c["createVNode"])("div",L,[U,Object(c["createVNode"])("div",B,Object(c["toDisplayString"])(l.tableData.median_request_time_ms),1)])])])]),Object(c["createVNode"])("div",M,[I,Object(c["createVNode"])("div",R,[A,Object(c["createVNode"])("div",F,[Object(c["createVNode"])("div",H,[Object(c["createVNode"])("div",J,[E,Object(c["createVNode"])("div",$,Object(c["toDisplayString"])(l.tableData.attack_attempts),1)]),Object(c["createVNode"])("div",W,[G,Object(c["createVNode"])("div",K,Object(c["toDisplayString"])(l.tableData.intercepted_attempts),1)]),Object(c["createVNode"])("div",Q,[X,Object(c["createVNode"])("div",Y,Object(c["toDisplayString"])(l.tableData.unique_ips_attack),1)]),Object(c["createVNode"])("div",Z,[ee,Object(c["createVNode"])("div",te,Object(c["toDisplayString"])(l.tableData.unique_ips_intercepted),1)]),Object(c["createVNode"])("div",ae,[ce,Object(c["createVNode"])("div",ie,Object(c["toDisplayString"])(l.tableData.jxwaf_devid_attack),1)]),Object(c["createVNode"])("div",le,[se,Object(c["createVNode"])("div",oe,Object(c["toDisplayString"])(l.tableData.jxwaf_devid_intercepted),1)])])])]),re]),Object(c["createVNode"])("div",de,[ne,Object(c["createVNode"])("div",be,[Object(c["createVNode"])("div",je,[Object(c["createVNode"])("div",Oe,[me,Object(c["createVNode"])("div",Ve,Object(c["toDisplayString"])(l.tableData.total_upstream_requests),1)]),Object(c["createVNode"])("div",pe,[ue,Object(c["createVNode"])("div",Ne,Object(c["toDisplayString"])(l.tableData.upstream_unique_ips),1)]),Object(c["createVNode"])("div",ge,[ve,Object(c["createVNode"])("div",_e,Object(c["toDisplayString"])(l.tableData.upstream_jxwaf_devid_count),1)]),Object(c["createVNode"])("div",De,[he,Object(c["createVNode"])("div",we,Object(c["toDisplayString"])(l.tableData.successful_upstream_requests),1)]),Object(c["createVNode"])("div",xe,[fe,Object(c["createVNode"])("div",Se,Object(c["toDisplayString"])(l.tableData.error_4xx_upstream_requests),1)]),Object(c["createVNode"])("div",Te,[Ce,Object(c["createVNode"])("div",ye,Object(c["toDisplayString"])(l.tableData.error_5xx_upstream_requests),1)]),Object(c["createVNode"])("div",ke,[qe,Object(c["createVNode"])("div",Pe,Object(c["toDisplayString"])(l.tableData.avg_upstream_time_ms),1)]),Object(c["createVNode"])("div",ze,[Le,Object(c["createVNode"])("div",Ue,Object(c["toDisplayString"])(l.tableData.median_upstream_time_ms),1)])])])])]),_:1})]),Be,Object(c["createVNode"])("div",Me,[Object(c["createVNode"])(lt,{data:l.tableDataDetail,style:{width:"100%"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ct,{prop:"Host",label:"网站",width:"180"}),Object(c["createVNode"])(ct,{prop:"UpstreamAddr",label:"业务服务器"}),Object(c["createVNode"])(ct,{label:"回源请求状态"},{default:Object(c["withCtx"])(e=>[Object(c["createVNode"])("p",null,[Ie,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.TotalRequests),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[Re,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.UniqueSrcIPs),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[Ae,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.UpstreamJxwafDevidCount),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[Fe,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.SuccessfulRequests),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[He,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.Error4xxRequests),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[Je,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.Error5xxRequests),1)]),_:2},1024)])]),_:1}),Object(c["createVNode"])(ct,{label:"回源请求耗时"},{default:Object(c["withCtx"])(e=>[Object(c["createVNode"])("p",null,[Ee,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.AvgUpstreamTimeMs),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[$e,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.MedianUpstreamTimeMs),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[We,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.MaxUpstreamTimeMs),1)]),_:2},1024)]),Object(c["createVNode"])("p",null,[Ge,Object(c["createVNode"])(it,{size:"small"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.MinUpstreamTimeMs),1)]),_:2},1024)])]),_:1})]),_:1},8,["data"])])]),_:1},512),[[ot,l.loadingPage,void 0,{fullscreen:!0,lock:!0}]])]),_:1})])}var Qe=a("362c"),Xe={mixins:[Qe["d"]],data(){return{dataSearch:"",loadingPage:!1,loading:!1,tableData:{},tableDataDetail:[],isShowSelectTime:!0,valueTime:"1w",domainList:[],domain:"",hasDomain:!1,pickerTime:[],optionTime:[{value:"1h",label:"1小时"},{value:"1d",label:"24小时"},{value:"1w",label:"7天"},{value:"1m",label:"30天"},{value:"default",label:"自定义"}]}},computed:{rules(){return{}}},mounted(){this.getdomainListData(),this.onChangeSelectTime(),this.getDataConf()},methods:{getdomainListData(){var e=this;Object(Qe["a"])("get","/waf/waf_get_domain_list",{},(function(t){e.loadingPage=!1,e.domainList=t.data.message,e.domainList.unshift({domain:"全部"}),e.domain=e.domainList[0].domain}),(function(){e.loadingPage=!1}))},getDataConf(){var e=this;Object(Qe["a"])("post","/waf/waf_get_sys_report_conf_conf",{},(function(t){e.loadingPage=!1,e.logSource=t.data.message.report_conf,"false"==e.logSource?e.$message({duration:0,showClose:!0,message:"日志查询功能未配置，<a href='/#/sys-report-conf' class='error-message-btn'>点击前往配置</a>",type:"warning",dangerouslyUseHTMLString:!0}):e.getDataConfLog()}),(function(){e.loadingPage=!1}),"no-message")},getDataConfLog(){var e=this;Object(Qe["a"])("post","/waf/waf_get_sys_log_conf",{},(function(t){e.loadingPage=!1,e.log_all=t.data.message.log_all,e.log_conf_remote=t.data.message.log_conf_remote,"true"==e.log_all&&"true"==e.log_conf_remote?(e.getData(),e.getDataDetail()):e.$message({duration:0,showClose:!0,message:"日志传输功能未开启全流量日志记录，<a href='/#/sys-log-conf' class='error-message-btn'>点击前往配置</a>",type:"warning",dangerouslyUseHTMLString:!0})}),(function(){e.loadingPage=!1}),"no-message")},getData(){var e=this,t="/soc/soc_query_request_statistics",a={from_time:Object(Qe["c"])(e.pickerTime[0]),to_time:Object(Qe["c"])(e.pickerTime[1])};e.hasDomain&&(t="/soc/soc_query_domain_request_statistics",a.domain=e.domain),Object(Qe["a"])("post",t,a,(function(t){e.loadingPage=!1,e.tableData=t.data.message}),(function(){e.loadingPage=!1}),"no-message")},getDataDetail(){var e=this,t="/soc/soc_query_request_statistics_detail",a={from_time:Object(Qe["c"])(e.pickerTime[0]),to_time:Object(Qe["c"])(e.pickerTime[1])};e.hasDomain&&(t="/soc/soc_query_domain_request_statistics_detail",a.domain=e.domain),Object(Qe["a"])("post",t,a,(function(t){e.loadingPage=!1,e.tableDataDetail=t.data.message}),(function(){e.loadingPage=!1}),"no-message")},onChangeSelectTime(){var e=this;"default"==e.valueTime?(e.isShowSelectTime=!1,e.pickerTime=[new Date((new Date).getTime()-864e5),new Date]):(e.isShowSelectTime=!0,"1h"==e.valueTime&&(e.pickerTime=[new Date((new Date).getTime()-36e5),new Date]),"1d"==e.valueTime&&(e.pickerTime=[new Date((new Date).getTime()-864e5),new Date]),"1w"==e.valueTime&&(e.pickerTime=[new Date((new Date).getTime()-6048e5),new Date]),"1m"==e.valueTime&&(e.pickerTime=[new Date((new Date).getTime()-2592e6),new Date]))},changeTimeline(e){var t=this;null==e?(t.isShowSelectTime=!0,t.valueTime="1w"):t.isShowSelectTime=!1},onChangeSearch(){this.onChangeSelectTime(),this.getData(),this.getDataDetail()},onChangeDomain(e){this.hasDomain="全部"!=e,this.onChangeSearch()}}},Ye=(a("1d4e"),a("d959")),Ze=a.n(Ye);const et=Ze()(Xe,[["render",Ke]]);t["default"]=et},"9d64":function(e,t,a){e.exports=a.p+"static/index/img/logo.87ab72a5.png"}}]);
//# sourceMappingURL=chunk-54a16f54.7cdf2f2f.js.map