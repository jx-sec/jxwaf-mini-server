{"version":3,"sources":["webpack:///./src/components/flow-engine-protection.vue","webpack:///./src/components/flow-engine-protection.vue?782b","webpack:///./src/components/flow-engine-protection.vue?d86b"],"names":["class","_createVNode","_createBlock","_hoisted_1","_component_el_row","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","$data","domain","_component_el_col","span","_component_el_form","model","flowEngineForm","rules","$options","ref","label-width","_hoisted_5","_hoisted_6","_hoisted_7","_component_el_switch","high_freq_cc_check","$event","active-text","inactive-text","active-value","inactive-value","_hoisted_8","_component_el_card","header","_withCtx","_hoisted_9","_component_el_form_item","label","prop","_component_el_input","req_rate","placeholder","_component_el_select","req_rate_block_mode","_Fragment","_renderList","ruleAction","item","_component_el_option","key","value","req_rate_block_mode_extra_parameter","optionsBotCheck","_hoisted_10","req_rate_block_time","_hoisted_11","_hoisted_12","req_count_stat_time_period","req_count","req_count_block_mode","req_count_block_mode_extra_parameter","_hoisted_13","req_count_block_time","_hoisted_14","_hoisted_15","_hoisted_16","slow_cc_check","_hoisted_17","_hoisted_18","ip_count_stat_time_period","ip_count","ip_count_block_mode","ip_count_block_mode_extra_parameter","_hoisted_19","_hoisted_20","_hoisted_21","domain_rate","slow_cc_block_mode","slow_cc_block_mode_extra_parameter","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","emergency_mode_check","_hoisted_26","emergency_mode_block_mode","emergency_mode_block_mode_extra_parameter","_hoisted_27","type","justify","href","_component_el_button","onClick","_cache","onClickFlowEngineSubmit","loading","loadingPage","mixins","mixin","data","ruleType","computed","required","message","trigger","validator","validatePositiveInt","eq_rate","mounted","route","useRoute","this","params","getData","methods","t","getUrl","oData","JXAjax","response","postUrl","$refs","validate","valid","__exports__","render"],"mappings":"2KACOA,MAAM,oB,+BAGmC,Q,+BACmB,Q,+BACvC,U,GAMbA,MAAM,oB,GACJA,MAAM,yB,EACTC,yBAAiD,OAA5CD,MAAM,yBAAwB,YAAQ,G,SAIxCA,MAAM,oB,EAGLC,yBAAqB,YAAf,YAAQ,G,EAoBZA,yBAEI,KAFDD,MAAM,mBAAkB,mBAE3B,G,EAONC,yBAA6B,OAAxBD,MAAM,aAAW,S,EAGlBC,yBAAqB,YAAf,YAAQ,G,EAsBZA,yBAEI,KAFDD,MAAM,mBAAkB,mBAE3B,G,GASLA,MAAM,oB,GACJA,MAAM,yB,EACTC,yBAAiD,OAA5CD,MAAM,yBAAwB,YAAQ,G,SAIxCA,MAAM,oB,EAGLC,yBAAqB,YAAf,YAAQ,G,EAsBZA,yBAEI,KAFDD,MAAM,mBAAkB,mBAE3B,G,EAINC,yBAA6B,OAAxBD,MAAM,aAAW,S,EAGlBC,yBAAmB,YAAb,UAAM,G,EAkBVA,yBAEI,KAFDD,MAAM,mBAAkB,mBAE3B,G,GAMLA,MAAM,oB,GACJA,MAAM,yB,EACTC,yBAAgD,OAA3CD,MAAM,yBAAwB,WAAO,G,SAIvCA,MAAM,oB,EAiBHC,yBAEI,KAFDD,MAAM,mBAAkB,mBAE3B,G,+BAaa,M,0oBA7L/BE,yBAkMM,MAlMNC,EAkMM,CAjMJF,yBAMSG,EAAA,CANDJ,MAAM,oBAAkB,C,6BAC9B,IAIgB,CAJhBC,yBAIgBI,EAAA,CAJDC,UAAU,KAAG,C,6BAC1B,IAAiE,CAAjEL,yBAAiEM,EAAA,CAA5CC,GAAI,CAAAC,KAAA,MAAa,C,6BAAE,IAAI,C,UAC5CR,yBAAoFM,EAAA,CAA/DC,GAAE,CAAAC,KAAA,eAA0BC,EAAAC,S,8BAAU,IAAI,C,mBAC/DV,yBAA+CM,EAAA,M,6BAA3B,IAAM,C,0BAG9BN,yBAyLSG,EAAA,CAzLDJ,MAAM,mBAAiB,C,6BAC7B,IAuLS,C,4BAvLTC,yBAuLSW,EAAA,CAvLAC,KAAM,IAAE,C,6BACf,IA4KU,CA5KVZ,yBA4KUa,EAAA,CA5KAC,MAAOL,EAAAM,eAAiBC,MAAOC,EAAAD,MAAOE,IAAI,iBAAiBC,cAAY,S,8BAC/E,IAyEM,CAzENnB,yBAyEM,MAzENoB,EAyEM,CAxEJpB,yBAIM,MAJNqB,EAIM,CAHJC,EACAtB,yBACyDuB,EAAA,C,WADrCd,EAAAM,eAAeS,mB,qCAAff,EAAAM,eAAeS,mBAAkBC,GAAEC,cAAY,KAAKC,gBAAc,KACpFC,eAAa,OAAOC,iBAAe,S,yBAEkC,QAArCpB,EAAAM,eAAeS,oB,yBAAnDvB,yBAkEM,MAlEN6B,EAkEM,CAjEJ9B,yBA8BU+B,EAAA,CA9BDhC,MAAM,YAAU,CACZiC,OAAMC,qBACf,IAAqB,CAArBC,I,6BAEF,IAyBM,CAzBNlC,yBAyBM,YAxBJA,yBAEemC,EAAA,CAFDC,MAAM,SAASC,KAAK,Y,8BAChC,IAAyE,CAAzErC,yBAAyEsC,EAAA,C,WAAtD7B,EAAAM,eAAewB,S,qCAAf9B,EAAAM,eAAewB,SAAQd,GAAEe,YAAY,O,+BAG1DxC,yBAKemC,EAAA,CALDC,MAAM,WAAWrC,MAAM,e,8BACnC,IAGY,CAHZC,yBAGYyC,EAAA,C,WAHQhC,EAAAM,eAAe2B,oB,qCAAfjC,EAAAM,eAAe2B,oBAAmBjB,GAAEe,YAAY,O,8BACvD,IAA0B,E,2BAArCvC,yBACY0C,cAAA,KAAAC,wBADcnC,EAAAoC,WAARC,I,yBAAlB7C,yBACY8C,EAAA,CAD2BC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MAAQa,MAAOH,EAAKG,O,mEAKnC,aAAtCxC,EAAAM,eAAe2B,qB,yBAAnCzC,yBASekC,EAAA,CAAAa,IAAA,I,6BARb,IAIY,CAJZhD,yBAIYyC,EAAA,C,WAJQhC,EAAAM,eAAemC,oC,qCAAfzC,EAAAM,eAAemC,oCAAmCzB,GAAEe,YAAY,O,8BACvE,IAA+B,E,2BAA1CvC,yBAEY0C,cAAA,KAAAC,wBAFcnC,EAAA0C,gBAARL,I,yBAAlB7C,yBAEY8C,EAAA,CAFgCC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MACvEa,MAAOH,EAAKG,O,2DAGjBG,I,8CAIFpD,yBAEemC,EAAA,CAFDC,MAAM,cAAcC,KAAK,uB,8BACrC,IAAoF,CAApFrC,yBAAoFsC,EAAA,C,WAAjE7B,EAAAM,eAAesC,oB,qCAAf5C,EAAAM,eAAesC,oBAAmB5B,GAAEe,YAAY,O,yCAIzEc,EACAtD,yBAgCU+B,EAAA,CAhCDhC,MAAM,YAAU,CACZiC,OAAMC,qBACf,IAAqB,CAArBsB,I,6BAEF,IA2BM,CA3BNvD,yBA2BM,YA1BJA,yBAEemC,EAAA,CAFDC,MAAM,UAAUC,KAAK,8B,8BACjC,IAA2F,CAA3FrC,yBAA2FsC,EAAA,C,WAAxE7B,EAAAM,eAAeyC,2B,qCAAf/C,EAAAM,eAAeyC,2BAA0B/B,GAAEe,YAAY,O,+BAE5ExC,yBAEemC,EAAA,CAFDC,MAAM,WAAWC,KAAK,a,8BAClC,IAA0E,CAA1ErC,yBAA0EsC,EAAA,C,WAAvD7B,EAAAM,eAAe0C,U,qCAAfhD,EAAAM,eAAe0C,UAAShC,GAAEe,YAAY,O,+BAG3DxC,yBAKemC,EAAA,CALDC,MAAM,WAAWrC,MAAM,e,8BACnC,IAGY,CAHZC,yBAGYyC,EAAA,C,WAHQhC,EAAAM,eAAe2C,qB,qCAAfjD,EAAAM,eAAe2C,qBAAoBjC,GAAEe,YAAY,O,8BACxD,IAA0B,E,2BAArCvC,yBACY0C,cAAA,KAAAC,wBADcnC,EAAAoC,WAARC,I,yBAAlB7C,yBACY8C,EAAA,CAD2BC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MAAQa,MAAOH,EAAKG,O,mEAIlC,aAAvCxC,EAAAM,eAAe2C,sB,yBAAnCzD,yBASekC,EAAA,CAAAa,IAAA,I,6BARb,IAIY,CAJZhD,yBAIYyC,EAAA,C,WAJQhC,EAAAM,eAAe4C,qC,qCAAflD,EAAAM,eAAe4C,qCAAoClC,GAAEe,YAAY,O,8BACxE,IAA+B,E,2BAA1CvC,yBAEY0C,cAAA,KAAAC,wBAFcnC,EAAA0C,gBAARL,I,yBAAlB7C,yBAEY8C,EAAA,CAFgCC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MACvEa,MAAOH,EAAKG,O,2DAGjBW,I,8CAIF5D,yBAEemC,EAAA,CAFDC,MAAM,cAAcC,KAAK,wB,8BACrC,IAAqF,CAArFrC,yBAAqFsC,EAAA,C,WAAlE7B,EAAAM,eAAe8C,qB,uCAAfpD,EAAAM,eAAe8C,qBAAoBpC,GAAEe,YAAY,O,qFAM9ExC,yBAiEM,MAjEN8D,EAiEM,CAhEJ9D,yBAIM,MAJN+D,EAIM,CAHJC,EACAhE,yBACqCuB,EAAA,C,WADjBd,EAAAM,eAAekD,c,uCAAfxD,EAAAM,eAAekD,cAAaxC,GAAEC,cAAY,KAAKC,gBAAc,KAAKC,eAAa,OACjGC,iBAAe,S,yBAEiD,QAAhCpB,EAAAM,eAAekD,e,yBAAnDhE,yBA0DM,MA1DNiE,EA0DM,CAzDJlE,yBA6BU+B,EAAA,CA7BDhC,MAAM,YAAU,CACZiC,OAAMC,qBACf,IAAqB,CAArBkC,I,6BAEF,IAwBM,CAxBNnE,yBAwBM,YAvBJA,yBAEemC,EAAA,CAFDC,MAAM,UAAUC,KAAK,6B,8BACjC,IAA0F,CAA1FrC,yBAA0FsC,EAAA,C,WAAvE7B,EAAAM,eAAeqD,0B,uCAAf3D,EAAAM,eAAeqD,0BAAyB3C,GAAEe,YAAY,O,+BAE3ExC,yBAEemC,EAAA,CAFDC,MAAM,WAAWC,KAAK,Y,8BAClC,IAAyE,CAAzErC,yBAAyEsC,EAAA,C,WAAtD7B,EAAAM,eAAesD,S,uCAAf5D,EAAAM,eAAesD,SAAQ5C,GAAEe,YAAY,O,+BAG1DxC,yBAKemC,EAAA,CALDC,MAAM,cAAcrC,MAAM,e,8BACtC,IAGY,CAHZC,yBAGYyC,EAAA,C,WAHQhC,EAAAM,eAAeuD,oB,uCAAf7D,EAAAM,eAAeuD,oBAAmB7C,GAAEe,YAAY,O,8BACvD,IAA0B,E,2BAArCvC,yBACY0C,cAAA,KAAAC,wBADcnC,EAAAoC,WAARC,I,yBAAlB7C,yBACY8C,EAAA,CAD2BC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MAAQa,MAAOH,EAAKG,O,mEAInC,aAAtCxC,EAAAM,eAAeuD,qB,yBAAnCrE,yBASekC,EAAA,CAAAa,IAAA,I,6BARb,IAIY,CAJZhD,yBAIYyC,EAAA,C,WAJQhC,EAAAM,eAAewD,oC,uCAAf9D,EAAAM,eAAewD,oCAAmC9C,GAAEe,YAAY,O,8BACvE,IAA+B,E,2BAA1CvC,yBAEY0C,cAAA,KAAAC,wBAFcnC,EAAA0C,gBAARL,I,yBAAlB7C,yBAEY8C,EAAA,CAFgCC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MACvEa,MAAOH,EAAKG,O,2DAGjBuB,I,wDAMNC,EACAzE,yBAyBU+B,EAAA,CAzBDhC,MAAM,YAAU,CACZiC,OAAMC,qBACf,IAAmB,CAAnByC,I,6BAEF,IAoBM,CApBN1E,yBAoBM,YAnBJA,yBAEemC,EAAA,CAFDC,MAAM,WAAWC,KAAK,e,8BAClC,IAA4E,CAA5ErC,yBAA4EsC,EAAA,C,WAAzD7B,EAAAM,eAAe4D,Y,uCAAflE,EAAAM,eAAe4D,YAAWlD,GAAEe,YAAY,O,+BAE7DxC,yBAKemC,EAAA,CALDC,MAAM,cAAcrC,MAAM,e,8BACtC,IAGY,CAHZC,yBAGYyC,EAAA,C,WAHQhC,EAAAM,eAAe6D,mB,uCAAfnE,EAAAM,eAAe6D,mBAAkBnD,GAAEe,YAAY,O,8BACtD,IAA0B,E,2BAArCvC,yBACY0C,cAAA,KAAAC,wBADcnC,EAAAoC,WAARC,I,yBAAlB7C,yBACY8C,EAAA,CAD2BC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MAAQa,MAAOH,EAAKG,O,mEAIpC,aAArCxC,EAAAM,eAAe6D,oB,yBAAnC3E,yBASekC,EAAA,CAAAa,IAAA,I,6BARb,IAIY,CAJZhD,yBAIYyC,EAAA,C,WAJQhC,EAAAM,eAAe8D,mC,uCAAfpE,EAAAM,eAAe8D,mCAAkCpD,GAAEe,YAAY,O,8BACtE,IAA+B,E,2BAA1CvC,yBAEY0C,cAAA,KAAAC,wBAFcnC,EAAA0C,gBAARL,I,yBAAlB7C,yBAEY8C,EAAA,CAFgCC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MACvEa,MAAOH,EAAKG,O,2DAGjB6B,I,oGAQV9E,yBA8BM,MA9BN+E,EA8BM,CA7BJ/E,yBAIM,MAJNgF,EAIM,CAHJC,EACAjF,yBACyDuB,EAAA,C,WADrCd,EAAAM,eAAemE,qB,uCAAfzE,EAAAM,eAAemE,qBAAoBzD,GAAEC,cAAY,KAAKC,gBAAc,KACtFC,eAAa,OAAOC,iBAAe,S,yBAEoC,QAAvCpB,EAAAM,eAAemE,sB,yBAAnDjF,yBAuBM,MAvBNkF,EAuBM,CAtBJnF,yBAqBU+B,EAAA,CArBDhC,MAAM,YAAU,C,6BAEvB,IAkBM,CAlBNC,yBAkBM,YAjBJA,yBAKemC,EAAA,CALDC,MAAM,OAAOrC,MAAM,e,8BAC/B,IAGY,CAHZC,yBAGYyC,EAAA,C,WAHQhC,EAAAM,eAAeqE,0B,uCAAf3E,EAAAM,eAAeqE,0BAAyB3D,GAAEe,YAAY,O,8BAC7D,IAA0B,E,2BAArCvC,yBACY0C,cAAA,KAAAC,wBADcnC,EAAAoC,WAARC,I,yBAAlB7C,yBACY8C,EAAA,CAD2BC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MAAQa,MAAOH,EAAKG,O,mEAK7B,aAA5CxC,EAAAM,eAAeqE,2B,yBAAnCnF,yBASekC,EAAA,CAAAa,IAAA,I,6BARb,IAIY,CAJZhD,yBAIYyC,EAAA,C,WAJQhC,EAAAM,eAAesE,0C,uCAAf5E,EAAAM,eAAesE,0CAAyC5D,GAAEe,YAAY,O,8BAC7E,IAA+B,E,2BAA1CvC,yBAEY0C,cAAA,KAAAC,wBAFcnC,EAAA0C,gBAARL,I,yBAAlB7C,yBAEY8C,EAAA,CAFgCC,IAAKF,EAAKG,MAAQb,MAAOU,EAAKV,MACvEa,MAAOH,EAAKG,O,2DAGjBqC,I,gIASZtF,yBAQSG,EAAA,CARDoF,KAAK,OAAOC,QAAQ,gBAAgBzF,MAAM,oB,8BAChD,IAES,CAFTC,yBAESW,EAAA,CAFAC,KAAM,IAAE,C,6BACf,IAAyF,CAAzFZ,yBAAyF,KAAtFD,MAAM,wCAAyC0F,KAAI,iBAAqBhF,EAAAC,QAAQ,KAAE,c,MAEvFV,yBAGSW,EAAA,CAHAC,KAAM,GAAIb,MAAM,oB,8BACvB,IACmC,CADnCC,yBACmC0F,EAAA,CADxBH,KAAK,UAAWI,QAAKC,EAAA,MAAAA,EAAA,IAAAnE,GAAER,EAAA4E,wBAAwB,mBACvDC,QAASrF,EAAAqF,S,8BAAS,IAAE,C,wDApLiBrF,EAAAsF,iB,eAA3B,E,MAAA,Q,oCA8LV,GACbC,OAAQ,CAACC,QACTC,OACE,MAAO,CACLJ,SAAS,EACTC,aAAa,EACbrF,OAAQ,GACRyF,SAAU,GACVpF,eAAgB,GAEhB8B,WAAY,CACV,CAAEI,MAAO,QAASb,MAAO,QACzB,CAAEa,MAAO,kBAAmBb,MAAO,QACnC,CAAEa,MAAO,YAAab,MAAO,QAC7B,CAAEa,MAAO,QAASb,MAAO,SAG3Be,gBAAiB,CACf,CAAEF,MAAO,WAAYb,MAAO,MAC5B,CAAEa,MAAO,UAAWb,MAAO,MAC3B,CAAEa,MAAO,QAASb,MAAO,YAI/BgE,SAAU,CACRpF,QACE,MAAO,CACLuB,SAAU,CACR,CAAE8D,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtDG,QAAS,CACP,CAAEL,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtD9C,UAAW,CACT,CAAE4C,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtD/C,2BAA4B,CAC1B,CAAE6C,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtDlC,SAAU,CACR,CAAEgC,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtDnC,0BAA2B,CACzB,CAAEiC,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtD5B,YAAa,CACX,CAAE0B,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtDlD,oBAAqB,CACnB,CAAEgD,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,YAEtD1C,qBAAsB,CACpB,CAAEwC,UAAU,EAAMC,QAAS,MAAOC,QAAS,CAAC,OAAQ,WACpD,CAAEC,UAAWC,OAAqBF,QAAS,CAAC,OAAQ,eAM5DI,UACE,MAAMC,EAAQC,iBACdC,KAAKpG,OAASkG,EAAMG,OAAOrG,OAC3BoG,KAAKE,WAEPC,QAAS,CACPD,UACE,IAAIE,EAAIJ,KACJK,EAAS,sCACTC,EAAQ,CAAE1G,OAAQwG,EAAExG,QACxB2G,eACE,OACAF,EACAC,GACA,SAAUE,GACRJ,EAAEnB,aAAc,EAChBmB,EAAEnG,eAAiBuG,EAASpB,KAAKI,QACjCY,EAAEnG,eAAeL,OAASwG,EAAExG,UAE9B,WACEwG,EAAEnB,aAAc,IAElB,eAGJF,wBAAwB9E,GACtB,IAAImG,EAAIJ,KACJS,EAAU,uCACdT,KAAK/F,eAAeL,OAASwG,EAAExG,OAC/BoG,KAAKU,MAAMzG,GAAgB0G,SAAUC,IAC/BA,IACFR,EAAEpB,SAAU,EACZuB,eACE,OACAE,EACAL,EAAEnG,gBACF,SAAUuG,GACRJ,EAAEpB,SAAU,EACZoB,EAAEF,aAEJ,WACEE,EAAEpB,SAAU,W,iCC7S1B,MAAM6B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,kCCTf","file":"static/index/js/chunk-c72e1ace.079b895f.js","sourcesContent":["<template>\r\n  <div class=\"flow-engine-wrap\">\r\n    <el-row class=\"breadcrumb-style\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">网站防护</el-breadcrumb-item>\r\n        <el-breadcrumb-item :to=\"{ path: '/protection/'+ domain }\">防护配置</el-breadcrumb-item>\r\n        <el-breadcrumb-item>流量防护引擎</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <el-row class=\"container-style\">\r\n      <el-col :span=\"24\" v-loading.fullscreen.lock=\"loadingPage\">\r\n        <el-form :model=\"flowEngineForm\" :rules=\"rules\" ref=\"flowEngineForm\" label-width=\"200px\">\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">高频CC攻击防护</div>\r\n              <el-switch v-model=\"flowEngineForm.high_freq_cc_check\" active-text=\"开启\" inactive-text=\"关闭\"\r\n                active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.high_freq_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求频率检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求频率限制\" prop=\"req_rate\">\r\n                    <el-input v-model=\"flowEngineForm.req_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"IP处罚执行动作\" class=\"is-required\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.req_rate_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"IP处罚持续时间（秒）\" prop=\"req_rate_block_time\">\r\n                    <el-input v-model=\"flowEngineForm.req_rate_block_time\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求次数检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"经过时间（秒）\" prop=\"req_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.req_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"IP请求数量超过\" prop=\"req_count\">\r\n                    <el-input v-model=\"flowEngineForm.req_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"IP处罚执行动作\" class=\"is-required\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.req_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"IP处罚持续时间（秒）\" prop=\"req_count_block_time\">\r\n                    <el-input v-model=\"flowEngineForm.req_count_block_time\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">慢速CC攻击防护</div>\r\n              <el-switch v-model=\"flowEngineForm.slow_cc_check\" active-text=\"开启\" inactive-text=\"关闭\" active-value=\"true\"\r\n                inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.slow_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>请求IP数量检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"统计时间（秒）\" prop=\"ip_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"请求IP数量限制\" prop=\"ip_count\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"超出限制的IP执行动作\" class=\"is-required\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.ip_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>回源保护机制</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"回源请求频率限制\" prop=\"domain_rate\">\r\n                    <el-input v-model=\"flowEngineForm.domain_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"超出限制的请求执行动作\" class=\"is-required\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.slow_cc_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">无差别紧急防护</div>\r\n              <el-switch v-model=\"flowEngineForm.emergency_mode_check\" active-text=\"开启\" inactive-text=\"关闭\"\r\n                active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.emergency_mode_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n\r\n                <div>\r\n                  <el-form-item label=\"执行动作\" class=\"is-required\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.emergency_mode_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n        </el-form>\r\n        <el-row type=\"flex\" justify=\"space-between\" class=\"margin-no-border\">\r\n          <el-col :span=\"12\">\r\n            <a class=\"el-button el-button--primary is-plain\" :href=\"'/#/protection/' + domain\">返回</a>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"text-align-right\">\r\n            <el-button type=\"primary\" @click=\"onClickFlowEngineSubmit('flowEngineForm')\"\r\n              :loading=\"loading\">保存</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {  mixin, JXAjax, validatePositiveInt } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loadingPage: false,\r\n      domain: \"\",\r\n      ruleType: \"\",\r\n      flowEngineForm: {\r\n      },\r\n      ruleAction: [\r\n        { value: \"block\", label: \"阻断请求\" },\r\n        { value: \"reject_response\", label: \"拒绝响应\" },\r\n        { value: \"bot_check\", label: \"人机识别\" },\r\n        { value: \"watch\", label: \"观察模式\" },\r\n\r\n      ],\r\n      optionsBotCheck: [\r\n        { value: \"standard\", label: \"标准\" },\r\n        { value: \"slipper\", label: \"滑块\" },\r\n        { value: \"image\", label: \"图片验证码\" },\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        req_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        eq_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        domain_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_rate_block_time: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count_block_time: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    const route = useRoute()\r\n    this.domain = route.params.domain;\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      var getUrl = \"/waf/waf_get_flow_engine_protection\";\r\n      var oData = { domain: t.domain };\r\n      JXAjax(\r\n        \"post\",\r\n        getUrl,\r\n        oData,\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.flowEngineForm = response.data.message;\r\n          t.flowEngineForm.domain = t.domain;\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onClickFlowEngineSubmit(flowEngineForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_edit_flow_engine_protection\";\r\n      this.flowEngineForm.domain = t.domain;\r\n      this.$refs[flowEngineForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.flowEngineForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.flow-engine-wrap .protection-block {\r\n  display: block;\r\n  padding: 20px 10px;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid #d0d2d9;\r\n}\r\n.protection-item-right {\r\n  display: flex;\r\n}\r\n.protection-item-label {\r\n  width: 200px;\r\n  line-height: 20px;\r\n  text-align: left;\r\n  padding: 0 12px 0 0;\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 0 auto;\r\n  flex: 0 0 auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n\r\n.flow-engine-wrap {\r\n  max-width: 800px;\r\n  min-width: 400px;\r\n}\r\n.flow-engine-wrap .first-divider{\r\n  margin-top: 0px;\r\n}\r\n.flow-engine-form {\r\n  margin: 25px 0;\r\n}\r\n.flow-engine-btn {\r\n  text-align: right;\r\n  padding: 25px 20px;\r\n}\r\n</style>\r\n","import { render } from \"./flow-engine-protection.vue?vue&type=template&id=624d7674\"\nimport script from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\nexport * from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\n\nimport \"./flow-engine-protection.vue?vue&type=style&index=0&id=624d7674&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-2023\\\\jxwaf-base-2023\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./flow-engine-protection.vue?vue&type=style&index=0&id=624d7674&lang=css\""],"sourceRoot":""}