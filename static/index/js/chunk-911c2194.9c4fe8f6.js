(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-911c2194"],{"074c":function(e,t,o){},"984d":function(e,t,o){"use strict";o.r(t);var c=o("7a23"),l={class:"flow-engine-wrap"},n=Object(c["createVNode"])("h3",null,"流量防护引擎配置",-1),r=Object(c["createVNode"])("div",{class:"margin-4x"},null,-1),a={class:"protection-block"},u={class:"protection-item-right"},i=Object(c["createVNode"])("div",{class:"protection-item-label"},"高频CC攻击防护",-1),d={key:0,class:"flow-engine-form"},b=Object(c["createVNode"])("span",null,"IP请求频率检测",-1),m=Object(c["createVNode"])("p",{class:"form-info-color"}," 说明：标准模式无需人机交互 ",-1),f=Object(c["createVNode"])("div",{class:"margin-4x"},null,-1),_=Object(c["createVNode"])("span",null,"IP请求次数检测",-1),j=Object(c["createVNode"])("p",{class:"form-info-color"}," 说明：标准模式无需人机交互 ",-1),O={class:"protection-block"},p={class:"protection-item-right"},s=Object(c["createVNode"])("div",{class:"protection-item-label"},"慢速CC攻击防护",-1),g={key:0,class:"flow-engine-form"},V=Object(c["createVNode"])("span",null,"请求IP数量检测",-1),w=Object(c["createVNode"])("p",{class:"form-info-color"}," 说明：标准模式无需人机交互 ",-1),k=Object(c["createVNode"])("div",{class:"margin-4x"},null,-1),h=Object(c["createVNode"])("span",null,"回源保护机制",-1),v=Object(c["createVNode"])("p",{class:"form-info-color"}," 说明：标准模式无需人机交互 ",-1),N={class:"protection-block"},C={class:"protection-item-right"},x=Object(c["createVNode"])("div",{class:"protection-item-label"},"无差别紧急防护",-1),B={key:0,class:"flow-engine-form"},F=Object(c["createVNode"])("span",null,"请求IP数量检测",-1),E=Object(c["createVNode"])("p",{class:"form-info-color"}," 说明：标准模式无需人机交互 ",-1),y={class:"flow-engine-btn"},q=Object(c["createTextVNode"])("保存 ");function U(e,t){var o=Object(c["resolveComponent"])("el-col"),U=Object(c["resolveComponent"])("el-row"),P=Object(c["resolveComponent"])("el-divider"),L=Object(c["resolveComponent"])("el-switch"),T=Object(c["resolveComponent"])("el-input"),A=Object(c["resolveComponent"])("el-form-item"),D=Object(c["resolveComponent"])("el-option"),I=Object(c["resolveComponent"])("el-select"),J=Object(c["resolveComponent"])("el-card"),S=Object(c["resolveComponent"])("el-button"),$=Object(c["resolveComponent"])("el-form"),z=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])(U,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(U,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{span:12},{default:Object(c["withCtx"])((function(){return[n]})),_:1}),Object(c["createVNode"])(o,{span:12,class:"text-align-right"},{default:Object(c["withCtx"])((function(){return["single_rule"==e.ruleType?(Object(c["openBlock"])(),Object(c["createBlock"])("a",{key:0,class:"el-button el-button--primary is-plain",href:"/#/protection/"+e.domain+"/"+e.ruleType},"返回",8,["href"])):Object(c["createCommentVNode"])("",!0),"group_rule"==e.ruleType?(Object(c["openBlock"])(),Object(c["createBlock"])("a",{key:1,class:"el-button el-button--primary is-plain",href:"/#/group-protection/"+e.domain},"返回",8,["href"])):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),r,Object(c["withDirectives"])(Object(c["createVNode"])(U,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])($,{model:e.flowEngineForm,rules:e.rules,ref:"flowEngineForm","label-width":"200px"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{class:"first-divider"}),Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",u,[i,Object(c["createVNode"])(L,{onChange:t[1]||(t[1]=function(t){return e.onChangeProtection(t)}),modelValue:e.flowEngineForm.high_freq_cc_check,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.flowEngineForm.high_freq_cc_check=t}),"active-text":"开启","inactive-text":"关闭","active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),"true"==e.flowEngineForm.high_freq_cc_check?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[Object(c["createVNode"])(J,{class:"box-card"},{header:Object(c["withCtx"])((function(){return[b]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",null,[Object(c["createVNode"])(A,{label:"请求频率限制",prop:"req_rate"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.req_rate,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.flowEngineForm.req_rate=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"执行动作"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.req_rate_block_mode,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.flowEngineForm.req_rate_block_mode=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.ruleAction,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"bot_check"==e.flowEngineForm.req_rate_block_mode?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.req_rate_block_mode_extra_parameter,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.flowEngineForm.req_rate_block_mode_extra_parameter=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.optionsBotCheck,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),m]})),_:1})):Object(c["createCommentVNode"])("",!0)])]})),_:1}),f,Object(c["createVNode"])(J,{class:"box-card"},{header:Object(c["withCtx"])((function(){return[_]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",null,[Object(c["createVNode"])(A,{label:"请求次数限制",prop:"req_rate"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.req_count,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.flowEngineForm.req_count=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"统计时间（秒）",prop:"req_count_stat_time_period"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.req_count_stat_time_period,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.flowEngineForm.req_count_stat_time_period=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"执行动作"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.req_count_block_mode,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.flowEngineForm.req_count_block_mode=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.ruleAction,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"bot_check"==e.flowEngineForm.req_count_block_mode?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.req_count_block_mode_extra_parameter,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.flowEngineForm.req_count_block_mode_extra_parameter=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.optionsBotCheck,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),j]})),_:1})):Object(c["createCommentVNode"])("",!0)])]})),_:1})])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])(P),Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",p,[s,Object(c["createVNode"])(L,{onChange:t[10]||(t[10]=function(t){return e.onChangeProtection(t)}),modelValue:e.flowEngineForm.slow_cc_check,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.flowEngineForm.slow_cc_check=t}),"active-text":"开启","inactive-text":"关闭","active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),"true"==e.flowEngineForm.slow_cc_check?(Object(c["openBlock"])(),Object(c["createBlock"])("div",g,[Object(c["createVNode"])(J,{class:"box-card"},{header:Object(c["withCtx"])((function(){return[V]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",null,[Object(c["createVNode"])(A,{label:"请求IP数量限制",prop:"ip_count"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.ip_count,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.flowEngineForm.ip_count=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"统计时间（秒）",prop:"ip_count_stat_time_period"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.ip_count_stat_time_period,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.flowEngineForm.ip_count_stat_time_period=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"执行动作"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.ip_count_block_mode,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.flowEngineForm.ip_count_block_mode=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.ruleAction,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"bot_check"==e.flowEngineForm.ip_count_block_mode?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.ip_count_block_mode_extra_parameter,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.flowEngineForm.ip_count_block_mode_extra_parameter=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.optionsBotCheck,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),w]})),_:1})):Object(c["createCommentVNode"])("",!0)])]})),_:1}),k,Object(c["createVNode"])(J,{class:"box-card"},{header:Object(c["withCtx"])((function(){return[h]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",null,[Object(c["createVNode"])(A,{label:"网站请求频率限制",prop:"domain_rate"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{modelValue:e.flowEngineForm.domain_rate,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.flowEngineForm.domain_rate=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(A,{label:"执行动作"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.slow_cc_block_mode,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.flowEngineForm.slow_cc_block_mode=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.ruleAction,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"bot_check"==e.flowEngineForm.slow_cc_block_mode?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.slow_cc_block_mode_extra_parameter,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.flowEngineForm.slow_cc_block_mode_extra_parameter=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.optionsBotCheck,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),v]})),_:1})):Object(c["createCommentVNode"])("",!0)])]})),_:1})])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])(P),Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",C,[x,Object(c["createVNode"])(L,{onChange:t[19]||(t[19]=function(t){return e.onChangeProtection(t)}),modelValue:e.flowEngineForm.emergency_mode_check,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.flowEngineForm.emergency_mode_check=t}),"active-text":"开启","inactive-text":"关闭","active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),"true"==e.flowEngineForm.emergency_mode_check?(Object(c["openBlock"])(),Object(c["createBlock"])("div",B,[Object(c["createVNode"])(J,{class:"box-card"},{header:Object(c["withCtx"])((function(){return[F]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",null,[Object(c["createVNode"])(A,{label:"执行动作"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.emergency_mode_block_mode,"onUpdate:modelValue":t[21]||(t[21]=function(t){return e.flowEngineForm.emergency_mode_block_mode=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.ruleAction,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"bot_check"==e.flowEngineForm.emergency_mode_block_mode?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{modelValue:e.flowEngineForm.emergency_mode_block_mode_extra_parameter,"onUpdate:modelValue":t[22]||(t[22]=function(t){return e.flowEngineForm.emergency_mode_block_mode_extra_parameter=t}),placeholder:"请选择"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.optionsBotCheck,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),E]})),_:1})):Object(c["createCommentVNode"])("",!0)])]})),_:1})])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",y,[Object(c["createVNode"])(S,{type:"primary",onClick:t[23]||(t[23]=function(t){return e.onClickFlowEngineSubmit("flowEngineForm")}),loading:e.loading},{default:Object(c["withCtx"])((function(){return[q]})),_:1},8,["loading"])])]})),_:1},8,["model","rules"])]})),_:1})]})),_:1},512),[[z,e.loadingPage,void 0,{fullscreen:!0,lock:!0}]])])}var P=o("362c"),L=o("6c02"),T={mixins:[P["b"]],data:function(){return{loading:!1,loadingPage:!1,domain:"",ruleType:"",flowEngineForm:{},ruleAction:[{value:"block",label:"阻断请求"},{value:"reject_response",label:"拒绝响应"},{value:"bot_check",label:"人机识别"},{value:"watch",label:"观察模式"}],optionsBotCheck:[{value:"standard",label:"标准"},{value:"slipper",label:"滑块"},{value:"image",label:"图片验证码"}]}},computed:{rules:function(){return{eq_rate:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}],req_count:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}],req_count_stat_time_period:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}],ip_count:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}],ip_count_stat_time_period:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}],domain_rate:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:P["f"],trigger:["blur","change"]}]}}},mounted:function(){var e=Object(L["c"])();this.ruleType=e.params.ruleType,this.domain=e.params.domain,this.getData()},methods:{getData:function(){var e=this,t="/waf/waf_get_flow_engine_protection",o={domain:e.domain};"group_rule"==e.ruleType&&(t="/waf/waf_get_group_flow_engine_protection",o={group_id:e.domain}),Object(P["a"])("post",t,o,(function(t){e.loadingPage=!1,e.flowEngineForm=t.data.message,e.flowEngineForm.domain=e.domain}),(function(){e.loadingPage=!1}),"no-message")},onChangeProtection:function(e){},onClickFlowEngineSubmit:function(e){var t=this,o="/waf/waf_edit_flow_engine_protection";"group_rule"==t.ruleType?(o="/waf/waf_edit_group_flow_engine_protection",this.flowEngineForm.group_id=t.domain):this.flowEngineForm.domain=t.domain,this.$refs[e].validate((function(e){e&&(t.loading=!0,Object(P["a"])("post",o,t.flowEngineForm,(function(e){t.loading=!1,t.getData()}),(function(){t.loading=!1})))}))}}};o("d59b");T.render=U;t["default"]=T},d59b:function(e,t,o){"use strict";o("074c")}}]);
//# sourceMappingURL=chunk-911c2194.9c4fe8f6.js.map