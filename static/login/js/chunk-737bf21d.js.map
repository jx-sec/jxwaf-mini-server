{"version":3,"sources":["webpack:///./src/components/login.vue","webpack:///./src/components/login.vue?b988","webpack:///./src/components/login.vue?b9ff"],"names":["class","shadow","header","ref","model","loginForm","rules","label-position","label","prop","user_name","user_password","type","gutter","span","code","onClickLogin","src","srcCode","alt","getCode","loading","href","onClickForget","data","language","created","this","getInit","computed","required","message","trigger","mounted","methods","response","window","location","t","Math","random","$refs","validate","valid","admin","node_admin","user","yun_user","document","cookie","$alert","confirmButtonText","callback","action","render"],"mappings":"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","file":"static/login/js/chunk-737bf21d.js","sourcesContent":["<template>\r\n  <el-card class=\"box-card\" shadow=\"always\" >\r\n    <template #header>\r\n      <div class=\"card-header clearfix text-align-center\">\r\n        <span class=\"font-size-20\">登 录</span>\r\n      </div>\r\n    </template>\r\n    <el-form\r\n      ref=\"loginForm\"\r\n      :model=\"loginForm\"\r\n      :rules=\"rules\"\r\n      label-position=\"top\"\r\n    >\r\n      <el-form-item label=\"登录名\" prop=\"user_name\">\r\n        <el-input v-model=\"loginForm.user_name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"user_password\">\r\n        <el-input v-model=\"loginForm.user_password\" type=\"password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图片校验码\" prop=\"code\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"18\">\r\n            <el-input\r\n              v-model=\"loginForm.code\"\r\n              @keyup.enter=\"onClickLogin('loginForm')\"\r\n            ></el-input>\r\n          </el-col>\r\n          <el-col :span=\"6\" class=\"code-box\">\r\n            <img\r\n              :src=\"srcCode\"\r\n              alt=\"图片校验码\"\r\n              class=\"code-img\"\r\n              @click=\"getCode()\"\r\n            />\r\n          </el-col>\r\n        </el-row>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <div class=\"margin-2x\"></div>\r\n        <el-button\r\n          type=\"primary\"\r\n          @click.prevent=\"onClickLogin('loginForm')\"\r\n          class=\"full-width\"\r\n          :loading=\"loading\"\r\n          >登 录</el-button\r\n        >\r\n        <el-row>\r\n          \r\n          <el-col :span=\"24\" class=\"text-align-right\">\r\n            <a href=\"javascript:;\" class=\"link-blue\" @click=\"onClickForget\">忘记密码</a>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n<script>\r\nimport { JXAjax } from \"../assets/scripts/common\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n      language: \"English\",\r\n      srcCode: \"\",\r\n      loading: false,\r\n      loginForm: {\r\n        user_name: \"\",\r\n        user_password: \"\",\r\n      },\r\n    };\r\n  },\r\n  created(){\r\n    this.getInit()\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        user_name: [{ required: true, message: '请输入您的账号', trigger: \"blur\" }],\r\n        user_password: [{ required: true, message: '请输入您的密码', trigger: \"blur\" }],\r\n        code: [{ required: true, message: '请输入图片校验码', trigger: \"blur\" }],\r\n      };\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    \r\n    this.getCode();\r\n  },\r\n  \r\n  methods: {\r\n    getInit() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/account_init_check\",\r\n        {},\r\n        function (response) {\r\n          if (response.data.message && response.data.message == 'account_init_fail') {\r\n             window.location.href = \"/login.html#/register\";\r\n          } \r\n        },\r\n        function () {\r\n\r\n        },\r\n        \"no-massage\"\r\n      );\r\n    },\r\n    getCode() {\r\n      var t = this;\r\n      t.srcCode = \"/captcha?\" + Math.random();\r\n      t.loginForm.code = \"\";\r\n    },\r\n    onClickLogin(loginForm) {\r\n      var t = this;\r\n\r\n      this.$refs[loginForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            \"/login\",\r\n            t.loginForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              var admin = response.data.node_admin;\r\n              var user = response.data.yun_user;\r\n              if (admin == \"true\") {\r\n                document.cookie = \"node_admin = true; path=/\";\r\n              }\r\n              if (user == \"true\") {\r\n                document.cookie = \"yun_user = true; path=/\";\r\n              }\r\n              window.location.href = \"/\";\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n              t.getCode();\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    onClickForget(){\r\n      this.$alert('请直接操作数据库修改密码。', '提示', {\r\n        confirmButtonText: '确定',\r\n        callback: action => {\r\n          \r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-form--label-top .el-form-item__label {\r\n  padding: 0 12px 0 0;\r\n}\r\n.el-form-item {\r\n  margin-bottom: 16px;\r\n}\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n.code-box {\r\n  cursor: pointer;\r\n  height: 40px;\r\n}\r\n.code-img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./login.vue?vue&type=template&id=62790e81\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}