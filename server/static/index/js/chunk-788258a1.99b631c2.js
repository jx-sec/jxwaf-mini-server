(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-788258a1"],{6633:function(e,t,o){},"9cfb":function(e,t,o){"use strict";o("6633")},ef74:function(e,t,o){"use strict";o.r(t);var a=o("7a23");const c=Object(a["createTextVNode"])("防护管理"),l=Object(a["createTextVNode"])("网站防护"),r={class:"data-search-input"},i=Object(a["createTextVNode"])("新增网站"),n={class:"demo-block"},s=Object(a["createTextVNode"])("协议类型： "),d=Object(a["createTextVNode"])("HTTP"),b=Object(a["createTextVNode"])("HTTPS"),p={class:"col-item-box"},m=Object(a["createTextVNode"])("源站地址： "),O={class:"col-item-content"},j=Object(a["createTextVNode"])("源站端口： "),u=Object(a["createTextVNode"])("回源协议： "),V=Object(a["createTextVNode"])("HTTP"),_=Object(a["createTextVNode"])("HTTPS"),h=Object(a["createTextVNode"])("负载均衡： "),f=Object(a["createTextVNode"])("轮询"),N=Object(a["createTextVNode"])("IP_HASH"),w=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"Web防护引擎：",-1),C={key:0},g=Object(a["createTextVNode"])("已开启"),k={key:1},x=Object(a["createTextVNode"])("未开启"),y=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"Web规则防护：",-1),T={key:0},B=Object(a["createTextVNode"])("已开启"),F={key:1},v=Object(a["createTextVNode"])("未开启"),P=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"扫描攻击防护：",-1),L={key:0},I=Object(a["createTextVNode"])("已开启"),S={key:1},z=Object(a["createTextVNode"])("未开启"),D=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"网页防篡改：",-1),U={key:0},H=Object(a["createTextVNode"])("已开启"),q={key:1},$=Object(a["createTextVNode"])("未开启"),X=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"Web白名单规则：",-1),E={key:0},R=Object(a["createTextVNode"])("已开启"),W={key:1},A=Object(a["createTextVNode"])("未开启"),K=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"流量防护引擎：",-1),J={key:0},G=Object(a["createTextVNode"])("已开启"),M={key:1},Q=Object(a["createTextVNode"])("未开启"),Y=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"流量规则防护：",-1),Z={key:0},ee=Object(a["createTextVNode"])("已开启"),te={key:1},oe=Object(a["createTextVNode"])("未开启"),ae=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"IP区域封禁：",-1),ce={key:0},le=Object(a["createTextVNode"])("已开启"),re={key:1},ie=Object(a["createTextVNode"])("未开启"),ne=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"IP黑名单：",-1),se={key:0},de=Object(a["createTextVNode"])("已开启"),be={key:1},pe=Object(a["createTextVNode"])("未开启"),me=Object(a["createVNode"])("span",{class:"col-item-protection-title"},"流量白名单规则：",-1),Oe={key:0},je=Object(a["createTextVNode"])("已开启"),ue={key:1},Ve=Object(a["createTextVNode"])("未开启"),_e=Object(a["createTextVNode"])("网站配置"),he=Object(a["createTextVNode"])("防护配置 "),fe=Object(a["createVNode"])("p",null,"确定删除吗？",-1),Ne={style:{"text-align":"right",margin:"0"}},we=Object(a["createTextVNode"])("取消"),Ce=Object(a["createTextVNode"])("确定 "),ge=Object(a["createTextVNode"])("删除"),ke={key:2,class:"form-info-color"},xe={key:0},ye=Object(a["createVNode"])("span",{style:{"margin-right":"4px",color:"#f56c6c"}},"*",-1),Te=Object(a["createTextVNode"])("源站地址 "),Be=Object(a["createVNode"])("i",{class:"el-icon-plus"},null,-1),Fe=Object(a["createVNode"])("p",{class:"form-info-color"}," （支持IP和域名，域名需要省略https:// 或 http://） ",-1),ve=Object(a["createTextVNode"])("http"),Pe=Object(a["createTextVNode"])("https"),Le=Object(a["createTextVNode"])("IP_HASH"),Ie=Object(a["createTextVNode"])("轮询"),Se={key:1},ze=Object(a["createTextVNode"])("是"),De=Object(a["createTextVNode"])("否"),Ue=Object(a["createTextVNode"])("是"),He=Object(a["createTextVNode"])("否"),qe={key:0},$e=Object(a["createTextVNode"])("X-Real-IP"),Xe=Object(a["createTextVNode"])("X-Forwarded-For"),Ee=Object(a["createTextVNode"])("取消"),Re=Object(a["createTextVNode"])("确定");function We(e,t,o,We,Ae,Ke){const Je=Object(a["resolveComponent"])("el-breadcrumb-item"),Ge=Object(a["resolveComponent"])("el-breadcrumb"),Me=Object(a["resolveComponent"])("el-row"),Qe=Object(a["resolveComponent"])("el-input"),Ye=Object(a["resolveComponent"])("el-button"),Ze=Object(a["resolveComponent"])("el-table-column"),et=Object(a["resolveComponent"])("el-tag"),tt=Object(a["resolveComponent"])("el-popover"),ot=Object(a["resolveComponent"])("el-table"),at=Object(a["resolveComponent"])("el-pagination"),ct=Object(a["resolveComponent"])("el-col"),lt=Object(a["resolveComponent"])("el-form-item"),rt=Object(a["resolveComponent"])("el-checkbox"),it=Object(a["resolveComponent"])("el-checkbox-group"),nt=Object(a["resolveComponent"])("el-option"),st=Object(a["resolveComponent"])("el-select"),dt=Object(a["resolveComponent"])("el-tab-pane"),bt=Object(a["resolveComponent"])("el-tabs"),pt=Object(a["resolveComponent"])("el-radio"),mt=Object(a["resolveComponent"])("el-switch"),Ot=Object(a["resolveComponent"])("el-form"),jt=Object(a["resolveComponent"])("el-dialog"),ut=Object(a["resolveDirective"])("loading");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(Me,{class:"breadcrumb-style"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Ge,{separator:"/"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Je,{to:{path:"/"}},{default:Object(a["withCtx"])(()=>[c]),_:1}),Object(a["createVNode"])(Je,null,{default:Object(a["withCtx"])(()=>[l]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(Me,{class:"container-style"},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(ct,{span:24},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Me,{class:"text-align-right"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])("div",r,[Object(a["createVNode"])(Qe,{placeholder:"请输入关键词进行搜索","prefix-icon":"el-icon-search",modelValue:Ae.dataSearch,"onUpdate:modelValue":t[1]||(t[1]=e=>Ae.dataSearch=e),onInput:Ke.onChangeSearch},null,8,["modelValue","onInput"]),Object(a["createVNode"])(Ye,{icon:"el-icon-search",onClick:Ke.onChangeSearch,class:"search-icon-btn"},null,8,["onClick"])]),Object(a["createVNode"])(Ye,{type:"primary",onClick:t[2]||(t[2]=e=>Ke.onClickCreateDomain())},{default:Object(a["withCtx"])(()=>[i]),_:1})]),_:1}),Object(a["createVNode"])("div",n,[Object(a["createVNode"])(ot,{data:Ae.tableData,style:{width:"100%"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Ze,{prop:"domain",label:"网站"}),Object(a["createVNode"])(Ze,{label:"网站配置"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])("p",null,[s,"true"==e.row.http?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:0,size:"small"},{default:Object(a["withCtx"])(()=>[d]),_:1})):Object(a["createCommentVNode"])("",!0),"true"==e.row.https?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:1,size:"small"},{default:Object(a["withCtx"])(()=>[b]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",p,[m,Object(a["createVNode"])("span",O,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.row.source_ip.split(","),(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("span",{key:t},[Object(a["createVNode"])(et,{size:"small"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e),1)]),_:2},1024)]))),128))])]),Object(a["createVNode"])("p",null,[j,Object(a["createVNode"])(et,{size:"small"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.row.source_http_port),1)]),_:2},1024)]),Object(a["createVNode"])("p",null,[u,"false"==e.row.proxy_pass_https?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:0,size:"small"},{default:Object(a["withCtx"])(()=>[V]),_:1})):Object(a["createCommentVNode"])("",!0),"true"==e.row.proxy_pass_https?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:1,size:"small"},{default:Object(a["withCtx"])(()=>[_]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[h,"round_robin"==e.row.balance_type?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:0,size:"small"},{default:Object(a["withCtx"])(()=>[f]),_:1})):Object(a["createCommentVNode"])("",!0),"ip_hash"==e.row.balance_type?(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:1,size:"small"},{default:Object(a["withCtx"])(()=>[N]),_:1})):Object(a["createCommentVNode"])("",!0)])]),_:1}),Object(a["createVNode"])(Ze,{prop:"protection",label:"防护设置"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])("p",null,[w,"true"==e.row.web_engine_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",C,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[g]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.web_engine_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",k,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[x]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[y,"true"==e.row.web_rule_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",T,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[B]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.web_rule_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",F,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[v]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[P,"true"==e.row.scan_attack_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",L,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[I]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.scan_attack_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",S,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[z]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[D,"true"==e.row.web_page_tamper_proof?(Object(a["openBlock"])(),Object(a["createBlock"])("span",U,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[H]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.web_page_tamper_proof?(Object(a["openBlock"])(),Object(a["createBlock"])("span",q,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[$]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[X,"true"==e.row.web_white_rule?(Object(a["openBlock"])(),Object(a["createBlock"])("span",E,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[R]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.web_white_rule?(Object(a["openBlock"])(),Object(a["createBlock"])("span",W,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[A]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[K,"true"==e.row.flow_engine_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",J,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[G]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.flow_engine_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",M,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[Q]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[Y,"true"==e.row.flow_rule_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",Z,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[ee]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.flow_rule_protection?(Object(a["openBlock"])(),Object(a["createBlock"])("span",te,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[oe]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[ae,"true"==e.row.flow_ip_region_block?(Object(a["openBlock"])(),Object(a["createBlock"])("span",ce,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[le]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.flow_ip_region_block?(Object(a["openBlock"])(),Object(a["createBlock"])("span",re,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[ie]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[ne,"true"==e.row.flow_black_ip?(Object(a["openBlock"])(),Object(a["createBlock"])("span",se,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[de]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.flow_black_ip?(Object(a["openBlock"])(),Object(a["createBlock"])("span",be,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[pe]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("p",null,[me,"true"==e.row.flow_white_rule?(Object(a["openBlock"])(),Object(a["createBlock"])("span",Oe,[Object(a["createVNode"])(et,{size:"small",type:"success"},{default:Object(a["withCtx"])(()=>[je]),_:1})])):Object(a["createCommentVNode"])("",!0),"false"==e.row.flow_white_rule?(Object(a["openBlock"])(),Object(a["createBlock"])("span",ue,[Object(a["createVNode"])(et,{size:"small",type:"warning"},{default:Object(a["withCtx"])(()=>[Ve]),_:1})])):Object(a["createCommentVNode"])("",!0)])]),_:1}),Object(a["createVNode"])(Ze,{label:"操作",align:"right"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])(Ye,{size:"mini",onClick:t=>Ke.handleEdit(e.row),class:"button-block",type:"text",loading:e.row.loading},{default:Object(a["withCtx"])(()=>[_e]),_:2},1032,["onClick","loading"]),Object(a["createVNode"])(Ye,{size:"mini",onClick:t=>Ke.handleProtection(e.row),class:"button-block",type:"text"},{default:Object(a["withCtx"])(()=>[he]),_:2},1032,["onClick"]),Object(a["createVNode"])(tt,{placement:"top",width:"160",visible:e.row.isVisiblePopover,"onUpdate:visible":t=>e.row.isVisiblePopover=t},{reference:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Ye,{type:"text",size:"mini",onClick:t=>e.row.isVisiblePopover=!0},{default:Object(a["withCtx"])(()=>[ge]),_:2},1032,["onClick"])]),default:Object(a["withCtx"])(()=>[fe,Object(a["createVNode"])("div",Ne,[Object(a["createVNode"])(Ye,{size:"mini",type:"text",onClick:t=>e.row.isVisiblePopover=!1},{default:Object(a["withCtx"])(()=>[we]),_:2},1032,["onClick"]),Object(a["createVNode"])(Ye,{type:"primary",size:"mini",onClick:t=>Ke.handleDelete(e.row),loading:Ae.loading},{default:Object(a["withCtx"])(()=>[Ce]),_:2},1032,["onClick","loading"])])]),_:2},1032,["visible","onUpdate:visible"])]),_:1})]),_:1},8,["data"]),Object(a["createVNode"])(at,{background:"",layout:"prev, pager, next",total:Ae.tableTotal,"current-page":Ae.currentPage,"onUpdate:current-page":t[3]||(t[3]=e=>Ae.currentPage=e),"page-size":50,onCurrentChange:Ke.onCurrentChange},null,8,["total","current-page","onCurrentChange"])])]),_:1},512),[[ut,Ae.loadingPage,void 0,{fullscreen:!0,lock:!0}]]),Object(a["createVNode"])(jt,{title:Ae.domainTitle,modelValue:Ae.dialogDomainFormVisible,"onUpdate:modelValue":t[24]||(t[24]=e=>Ae.dialogDomainFormVisible=e),width:"580px","close-on-click-modal":!1,onClosed:Ke.dialogClose},{footer:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Ye,{onClick:t[22]||(t[22]=e=>Ae.dialogDomainFormVisible=!1)},{default:Object(a["withCtx"])(()=>[Ee]),_:1}),Object(a["createVNode"])(Ye,{type:"primary",onClick:t[23]||(t[23]=e=>Ke.onClickDomainSubmit("domainForm")),loading:Ae.loading},{default:Object(a["withCtx"])(()=>[Re]),_:1},8,["loading"])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Ot,{class:"form-tag-dialog",model:Ae.domainForm,size:"mini","label-position":"left","label-width":"190px",rules:Ke.rules,ref:"domainForm"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(lt,{label:"域名/IP",prop:"domain",key:"1"},{default:Object(a["withCtx"])(()=>["new"==Ae.domainType?(Object(a["openBlock"])(),Object(a["createBlock"])(Qe,{key:0,modelValue:Ae.domainForm.domain,"onUpdate:modelValue":t[4]||(t[4]=e=>Ae.domainForm.domain=e),placeholder:"请输入IP或域名，域名支持通配符，例如*.jxwaf.com"},null,8,["modelValue"])):Object(a["createCommentVNode"])("",!0),"edit"==Ae.domainType?(Object(a["openBlock"])(),Object(a["createBlock"])(Qe,{key:1,modelValue:Ae.domainForm.domain,"onUpdate:modelValue":t[5]||(t[5]=e=>Ae.domainForm.domain=e),disabled:"disabled"},null,8,["modelValue"])):Object(a["createCommentVNode"])("",!0),"new"==Ae.domainType?(Object(a["openBlock"])(),Object(a["createBlock"])("p",ke," （请输入IP或域名，域名支持通配符，例如*.jxwaf.com） ")):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(lt,{label:"协议类型",prop:"checkListProtocol",key:"2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(it,{modelValue:Ae.domainForm.checkListProtocol,"onUpdate:modelValue":t[6]||(t[6]=e=>Ae.domainForm.checkListProtocol=e),size:"small"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(rt,{label:"HTTP",key:"HTTP"}),Object(a["createVNode"])(rt,{label:"HTTPS",key:"HTTPS"})]),_:1},8,["modelValue"])]),_:1}),Ae.domainForm.checkListProtocol.indexOf("HTTPS")>-1?(Object(a["openBlock"])(),Object(a["createBlock"])("div",xe,[Object(a["createVNode"])(bt,{type:"border-card",class:"domain-tabs",modelValue:Ae.selectTabsValue,"onUpdate:modelValue":t[8]||(t[8]=e=>Ae.selectTabsValue=e)},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(dt,{label:"SSL证书管理",name:"0"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(lt,{label:"SSL证书",key:"3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(st,{modelValue:Ae.domainForm.ssl_domain,"onUpdate:modelValue":t[7]||(t[7]=e=>Ae.domainForm.ssl_domain=e),placeholder:"请选择或输入模糊搜索",filterable:""},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(Ae.sslOptions,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(nt,{key:e.ssl_domain,label:e.ssl_domain,value:e.ssl_domain},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(lt,{key:"6"},{label:Object(a["withCtx"])(()=>[ye,Te]),default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(Ae.sourceIpList,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(et,{key:t,closable:"","disable-transitions":!1,onClose:t=>Ke.handleCloseSourceIpList(e)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e),1)]),_:2},1032,["onClose"]))),128)),Ae.sourceIpListVisible?(Object(a["openBlock"])(),Object(a["createBlock"])(Qe,{key:0,class:"input-new-tag node-ip-list",modelValue:Ae.sourceIpListValue,"onUpdate:modelValue":t[9]||(t[9]=e=>Ae.sourceIpListValue=e),ref:"saveTagSourceIpList",size:"mini",onKeyup:Object(a["withKeys"])(Ke.handleSourceIpListConfirm,["enter"]),onBlur:Ke.handleSourceIpListConfirm},null,8,["modelValue","onKeyup","onBlur"])):(Object(a["openBlock"])(),Object(a["createBlock"])(Ye,{key:1,class:"button-new-tag",size:"small",onClick:Ke.showSourceIpList},{default:Object(a["withCtx"])(()=>[Be]),_:1},8,["onClick"])),Fe]),_:1}),Object(a["createVNode"])(lt,{label:"源站端口",prop:"source_http_port",key:"7"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(Qe,{placeholder:"仅支持http",modelValue:Ae.domainForm.source_http_port,"onUpdate:modelValue":t[10]||(t[10]=e=>Ae.domainForm.source_http_port=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(lt,{label:"回源协议",prop:"proxy_pass_https",key:"8"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.proxy_pass_https,"onUpdate:modelValue":t[11]||(t[11]=e=>Ae.domainForm.proxy_pass_https=e),label:"false"},{default:Object(a["withCtx"])(()=>[ve]),_:1},8,["modelValue"]),Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.proxy_pass_https,"onUpdate:modelValue":t[12]||(t[12]=e=>Ae.domainForm.proxy_pass_https=e),label:"true"},{default:Object(a["withCtx"])(()=>[Pe]),_:1},8,["modelValue"])]),_:1}),Object(a["createVNode"])(lt,{label:"负载均衡",prop:"balance_type",key:"14"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.balance_type,"onUpdate:modelValue":t[13]||(t[13]=e=>Ae.domainForm.balance_type=e),label:"ip_hash"},{default:Object(a["withCtx"])(()=>[Le]),_:1},8,["modelValue"]),Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.balance_type,"onUpdate:modelValue":t[14]||(t[14]=e=>Ae.domainForm.balance_type=e),label:"round_robin"},{default:Object(a["withCtx"])(()=>[Ie]),_:1},8,["modelValue"])]),_:1}),Object(a["createVNode"])(lt,{label:"高级配置",key:"9"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(mt,{modelValue:Ae.domainForm.advanced_conf,"onUpdate:modelValue":t[15]||(t[15]=e=>Ae.domainForm.advanced_conf=e),size:"small","active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1}),"true"==Ae.domainForm.advanced_conf?(Object(a["openBlock"])(),Object(a["createBlock"])("div",Se,[Object(a["createVNode"])(lt,{label:"强制HTTPS跳转",key:"10",prop:"force_https"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.force_https,"onUpdate:modelValue":t[16]||(t[16]=e=>Ae.domainForm.force_https=e),label:"true"},{default:Object(a["withCtx"])(()=>[ze]),_:1},8,["modelValue"]),Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.force_https,"onUpdate:modelValue":t[17]||(t[17]=e=>Ae.domainForm.force_https=e),label:"false"},{default:Object(a["withCtx"])(()=>[De]),_:1},8,["modelValue"])]),_:1}),Object(a["createVNode"])(lt,{label:"WAF前存在代理",key:"11",prop:"pre_proxy"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.pre_proxy,"onUpdate:modelValue":t[18]||(t[18]=e=>Ae.domainForm.pre_proxy=e),label:"true"},{default:Object(a["withCtx"])(()=>[Ue]),_:1},8,["modelValue"]),Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.pre_proxy,"onUpdate:modelValue":t[19]||(t[19]=e=>Ae.domainForm.pre_proxy=e),label:"false"},{default:Object(a["withCtx"])(()=>[He]),_:1},8,["modelValue"])]),_:1}),"true"==Ae.domainForm.pre_proxy?(Object(a["openBlock"])(),Object(a["createBlock"])("div",qe,[Object(a["createVNode"])(lt,{label:"HTTP请求头获取真实IP",key:"12",prop:"real_ip_conf"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.real_ip_conf,"onUpdate:modelValue":t[20]||(t[20]=e=>Ae.domainForm.real_ip_conf=e),label:"XRI"},{default:Object(a["withCtx"])(()=>[$e]),_:1},8,["modelValue"]),Object(a["createVNode"])(pt,{modelValue:Ae.domainForm.real_ip_conf,"onUpdate:modelValue":t[21]||(t[21]=e=>Ae.domainForm.real_ip_conf=e),label:"XFF"},{default:Object(a["withCtx"])(()=>[Xe]),_:1},8,["modelValue"])]),_:1})])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue","onClosed"])]),_:1})])}var Ae=o("362c"),Ke={mixins:[Ae["d"]],data(){return{domainTitle:"新增网站",domainType:"new",dataSearch:"",loadingPage:!1,dialogDomainFormVisible:!1,loading:!1,domainForm:{source_http_port:"80",proxy_pass_https:"false",advanced_conf:"false",force_https:"false",pre_proxy:"false",real_ip_conf:"XRI",balance_type:"ip_hash",white_ip_list:"",checkListProtocol:[]},tableData:[],sourceIpList:[],sourceIpListVisible:!1,sourceIpListValue:"",flagTag:!0,sslOptions:[],selectTabsValue:"0",currentPage:1,tableTotal:0,path:""}},computed:{rules(){return{domain:[{required:!0,message:"请输入网站地址",trigger:["blur","change"]},{validator:Ae["f"],trigger:["blur","change"]}],source_http_port:[{required:!0,message:"请输入源站端口信息",trigger:["blur","change"]},{validator:Ae["h"],trigger:["blur","change"]}],checkListProtocol:[{type:"array",required:!0,message:"请至少选择一项协议类型",trigger:"change"}],proxy_pass_https:[{required:!0,message:"请选择回源协议",trigger:"change"}],real_ip_conf:[{required:!0,message:"请选择",trigger:"change"}],balance_type:[{required:!0,message:"请选择",trigger:"change"}],pre_proxy:[{required:!0,message:"请选择",trigger:"change"}],force_https:[{required:!0,message:"请选择",trigger:"change"}]}}},mounted(){this.onCurrentChange(this.currentPage)},methods:{handleCloseSourceIpList(e){this.sourceIpList.splice(this.sourceIpList.indexOf(e),1)},showSourceIpList(){this.sourceIpListVisible=!0,this.$nextTick(e=>{this.$refs.saveTagSourceIpList.$refs.input.focus()})},handleSourceIpListConfirm(){let e=this,t=this.sourceIpListValue,o=/^(((https|http)?:\/)?\/)/;e.flagTag&&(e.flagTag=!1,t?o.test(t)?e.$message({showClose:!0,message:"请输入正确的域名格式",type:"error"}):(e.sourceIpList.push(t),e.sourceIpListVisible=!1,e.sourceIpListValue=""):(e.sourceIpListVisible=!1,e.sourceIpListValue=""),setTimeout((function(){e.flagTag=!0}),50))},getData(e){var t=this;Object(Ae["a"])("post","/waf/waf_get_domain_list",{page:e},(function(e){t.tableData=e.data.message,t.tableData.forEach(e=>{e.isVisiblePopover=!1}),t.tableTotal=e.data.count,t.currentPage=e.data.now_page}),(function(){}),"no-message")},dialogClose(){this.domainForm={source_http_port:"80",proxy_pass_https:"false",advanced_conf:"false",force_https:"false",pre_proxy:"false",real_ip_conf:"XRI",balance_type:"ip_hash",white_ip_list:"",checkListProtocol:[]},this.selectTabsValue="0",this.sourceIpListVisible=!1,this.sourceIpListValue="",this.sourceIpList=[],this.$refs["domainForm"].resetFields()},onClickDomainSubmit(e){var t=this,o=t.domainForm.checkListProtocol,a="/waf/waf_create_domain";if("edit"==t.domainType&&(a="/waf/waf_edit_domain"),0==t.sourceIpList.length)return t.$message({message:"源站地址不能为空",type:"error"}),!1;if(t.domainForm.checkListProtocol.indexOf("HTTPS")<0)t.domainForm.ssl_source="ssl_manage",t.domainForm.ssl_domain="";else if("0"==t.selectTabsValue){if(void 0==t.domainForm.ssl_domain||""==t.domainForm.ssl_domain)return t.$message({message:"请选择SSL证书",type:"error"}),!1;t.domainForm.ssl_source="ssl_manage"}t.domainForm.source_ip=t.sourceIpList.join(","),t.domainForm.http=o.indexOf("HTTP")>-1?"true":"false",t.domainForm.https=o.indexOf("HTTPS")>-1?"true":"false",this.$refs[e].validate(e=>{e&&(t.loading=!0,Object(Ae["a"])("post",a,t.domainForm,(function(e){t.loading=!1,t.dialogDomainFormVisible=!1,t.sourceIpListVisible=!1,t.sourceIpListValue="",t.sourceIpList=[],t.onCurrentChange(t.currentPage)}),(function(){t.loading=!1})))})},onClickCreateDomain(){var e=this;e.domainTitle="新增网站",e.domainType="new",e.dialogDomainFormVisible=!0,e.getSSL()},handleEdit(e){var t=this;e.loading=!0,t.getSSL(),Object(Ae["a"])("post","/waf/waf_get_domain",{domain:e.domain},(function(o){e.loading=!1;var a=o.data.message;t.domainForm.domain=a.domain,t.domainForm.ssl_domain=a.ssl_domain,t.domainForm.proxy_pass_https=a.proxy_pass_https,t.domainForm.source_http_port=a.source_http_port,t.domainForm.advanced_conf=a.advanced_conf,t.domainForm.force_https=a.force_https,t.domainForm.pre_proxy=a.pre_proxy,t.domainForm.real_ip_conf=a.real_ip_conf,t.domainForm.balance_type=a.balance_type,t.sourceIpList=a.source_ip?a.source_ip.split(","):[],t.domainForm.isVisiblePopover=!1,"true"==a.http&&t.domainForm.checkListProtocol.push("HTTP"),"true"==a.https&&t.domainForm.checkListProtocol.push("HTTPS"),"custom"==a.ssl_source?t.selectTabsValue="1":t.selectTabsValue="0",t.domainTitle="编辑网站",t.domainType="edit",t.dialogDomainFormVisible=!0}),(function(){e.loading=!1}),"no-message")},handleProtection(e){window.location.href="/#/protection/"+e.domain},handleDelete(e){var t=this;t.loading=!0,Object(Ae["a"])("post","/waf/waf_del_domain",{domain:e.domain},(function(o){e.isVisiblePopover=!1,t.loading=!1,t.onCurrentChange(t.currentPage)}),(function(){t.loading=!1}))},getSSL(){var e=this;Object(Ae["a"])("get","/waf/waf_get_ssl_manage_list",{},(function(t){e.sslOptions=t.data.message}),(function(){}))},onCurrentChange(){""==this.dataSearch?this.getData(this.currentPage):this.onChangeSearch()},onChangeSearch(){var e=this;e.dataSearch?Object(Ae["a"])("post","/waf/waf_get_domain_search_list",{page:e.currentPage,domain:e.dataSearch},(function(t){e.loadingPage=!1,e.tableData=t.data.message,e.currentPage=t.data.now_page,e.tableTotal=t.data.count,e.tableData.forEach(e=>{e.isVisiblePopover=!1})}),(function(){e.loadingPage=!1}),"no-message"):e.getData(1)}}},Je=(o("9cfb"),o("d959")),Ge=o.n(Je);const Me=Ge()(Ke,[["render",We]]);t["default"]=Me}}]);
//# sourceMappingURL=chunk-788258a1.99b631c2.js.map