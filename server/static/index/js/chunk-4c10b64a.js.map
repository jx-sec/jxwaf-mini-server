{"version":3,"sources":["webpack:///./src/components/sys-global-default-page.vue","webpack:///./src/components/sys-global-default-page.vue?6eae","webpack:///./src/components/sys-global-default-page.vue?a54b"],"names":["class","span","type","justify","model","defaultPageForm","rules","ref","label-width","label-position","activeNames","title","name","label","key","prop","domain_404_code","placeholder","domain_404_html","autosize","web_deny_code","web_deny_html","flow_deny_code","flow_deny_html","name_list_deny_code","name_list_deny_html","onClickDefaultPageSubmit","loading","loadingPage","mixins","data","ruleOptions","computed","required","message","trigger","mounted","this","getData","methods","t","response","postUrl","$refs","validate","valid","render"],"mappings":"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","file":"static/index/js/chunk-4c10b64a.js","sourcesContent":["<template>\r\n  <div class=\"sys-abnormal-handle-wrap\">\r\n    <el-row v-loading.fullscreen.lock=\"loadingPage\">\r\n      <el-col :span=\"24\">\r\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n          <el-col :span=\"12\">\r\n            <h3>WAF处置页面配置</h3>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"text-align-right\">\r\n\r\n          </el-col>\r\n        </el-row>\r\n        <div class=\"margin-4x\"></div>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form :model=\"defaultPageForm\" :rules=\"rules\" ref=\"defaultPageForm\" label-width=\"250px\"\r\n              label-position=\"left\">\r\n              <el-collapse v-model=\"activeNames\">\r\n                <el-collapse-item title=\"域名未配置页面\" name=\"1\">\r\n                  <el-form-item label=\"HTTP响应码\" key=\"1\" prop=\"domain_404_code\">\r\n                    <el-input v-model=\"defaultPageForm.domain_404_code\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"响应内容\" key=\"2\">\r\n                    <el-radio-group v-model=\"domain_404_html\">\r\n                      <el-radio :label=\"0\">无响应内容</el-radio>\r\n                      <el-radio :label=\"1\">HTML响应内容</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                  <el-form-item v-show=\"domain_404_html == 1\">\r\n                    <el-input v-model=\"defaultPageForm.domain_404_html\" type=\"textarea\" :autosize=\"{ minRows: 10 }\" />\r\n                  </el-form-item>\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"Web攻击拦截页面\" name=\"2\">\r\n                  <el-form-item label=\"HTTP响应码\" key=\"3\" prop=\"web_deny_code\">\r\n                    <el-input v-model=\"defaultPageForm.web_deny_code\" placeholder=\"请输入\">\r\n                    </el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"响应内容\" key=\"4\">\r\n                    <el-radio-group v-model=\"web_deny_html\">\r\n                      <el-radio :label=\"0\">无响应内容</el-radio>\r\n                      <el-radio :label=\"1\">HTML响应内容</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                  <el-form-item v-show=\"web_deny_html == 1\">\r\n                    <el-input v-model=\"defaultPageForm.web_deny_html\" type=\"textarea\" :autosize=\"{ minRows: 10 }\" />\r\n                  </el-form-item>\r\n\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"流量攻击拦截页面\" name=\"3\">\r\n                  <el-form-item label=\"HTTP响应码\" key=\"5\" prop=\"flow_deny_code\">\r\n                    <el-input v-model=\"defaultPageForm.flow_deny_code\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"响应内容\" key=\"6\">\r\n                    <el-radio-group v-model=\"flow_deny_html\">\r\n                      <el-radio :label=\"0\">无响应内容</el-radio>\r\n                      <el-radio :label=\"1\">HTML响应内容</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                  <el-form-item v-show=\"flow_deny_html == 1\">\r\n                    <el-input v-model=\"defaultPageForm.flow_deny_html\" type=\"textarea\" :autosize=\"{ minRows: 10 }\" />\r\n                  </el-form-item>\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"名单防护拦截页面\" name=\"4\">\r\n                  <el-form-item label=\"HTTP响应码\" key=\"7\" prop=\"name_list_deny_code\">\r\n                    <el-input v-model=\"defaultPageForm.name_list_deny_code\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"响应内容\" key=\"8\">\r\n                    <el-radio-group v-model=\"name_list_deny_html\">\r\n                      <el-radio :label=\"0\">无响应内容</el-radio>\r\n                      <el-radio :label=\"1\">HTML响应内容</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                  <el-form-item v-show=\"name_list_deny_html == 1\">\r\n                    <el-input v-model=\"defaultPageForm.name_list_deny_html\" type=\"textarea\"\r\n                      :autosize=\"{ minRows: 10 }\" />\r\n                  </el-form-item>\r\n                </el-collapse-item>\r\n\r\n              </el-collapse>\r\n            </el-form>\r\n            <div class=\"margin-4x\"></div>\r\n            <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n              <el-col :span=\"24\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"12\">\r\n\r\n                  </el-col>\r\n                  <el-col :span=\"12\" class=\"text-align-right\">\r\n                    <el-button type=\"primary\" @click=\"onClickDefaultPageSubmit('defaultPageForm')\" :loading=\"loading\">保存\r\n                    </el-button>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mixin, JXAjax, validatePort } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loading:false,\r\n      loadingPage: false,\r\n      activeNames: [\"1\", \"2\", \"3\", \"4\"],\r\n      defaultPageForm: {},\r\n      ruleOptions: [],\r\n      domain_404_html: 0,\r\n      web_deny_html: 0,\r\n      flow_deny_html: 0,\r\n      name_list_deny_html: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        domain_404_code: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        flow_deny_code: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        name_list_deny_code: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        web_deny_code: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    \r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_sys_global_default_page\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.defaultPageForm = response.data.message;\r\n          if (t.defaultPageForm.domain_404_html == \"\") {\r\n            t.domain_404_html = 0\r\n          } else { \r\n            t.domain_404_html = 1\r\n          }\r\n          if (t.defaultPageForm.flow_deny_html == \"\") {\r\n            t.flow_deny_html = 0\r\n          } else {\r\n            t.flow_deny_html = 1\r\n          }\r\n          if (t.defaultPageForm.name_list_deny_html == \"\") {\r\n            t.name_list_deny_html = 0\r\n          } else {\r\n            t.name_list_deny_html = 1\r\n          }\r\n          if (t.defaultPageForm.web_deny_html == \"\") {\r\n            t.web_deny_html = 0\r\n          } else {\r\n            t.web_deny_html = 1\r\n          }\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    onClickDefaultPageSubmit(defaultPageForm) {\r\n      var t = this;\r\n      t.loading = true;\r\n      var postUrl = \"/waf/waf_edit_sys_global_default_page\";\r\n      if (t.domain_404_html ==  0) {\r\n        t.defaultPageForm.domain_404_html = \"\"\r\n      }\r\n      if (t.flow_deny_html ==  0) {\r\n        t.defaultPageForm.flow_deny_html = \"\"\r\n      }\r\n      if (t.name_list_deny_html ==  0) {\r\n        t.defaultPageForm.name_list_deny_html = \"\"\r\n      }\r\n      if (t.web_deny_html ==  0) {\r\n        t.defaultPageForm.web_deny_html = \"\"\r\n      }\r\n          \r\n      this.$refs[defaultPageForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.defaultPageForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n\r\n.sys-abnormal-handle-wrap {\r\n  max-width: 800px;\r\n  min-width: 400px;\r\n}\r\n.sys-abnormal-handle-wrap .el-collapse-item__header {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./sys-global-default-page.vue?vue&type=template&id=c322196e\"\nimport script from \"./sys-global-default-page.vue?vue&type=script&lang=js\"\nexport * from \"./sys-global-default-page.vue?vue&type=script&lang=js\"\n\nimport \"./sys-global-default-page.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-global-default-page.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-global-default-page.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}