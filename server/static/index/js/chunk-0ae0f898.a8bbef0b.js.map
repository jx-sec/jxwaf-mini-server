{"version":3,"sources":["webpack:///./src/components/flow-engine-protection.vue","webpack:///./src/components/flow-engine-protection.vue?782b","webpack:///./src/components/flow-engine-protection.vue?5e0b"],"names":["class","_createVNode","_createBlock","_hoisted_1","_component_el_row","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","$data","domain","_component_el_col","span","_component_el_form","model","flowEngineForm","rules","$options","ref","label-width","_hoisted_5","_hoisted_6","_hoisted_7","_component_el_switch","high_freq_cc_check","$event","active-text","inactive-text","active-value","inactive-value","_hoisted_8","_component_el_card","header","_withCtx","_hoisted_9","_component_el_form_item","label","prop","_component_el_input","req_rate","placeholder","_component_el_select","req_rate_block_mode","_Fragment","_renderList","ruleAction","item","_component_el_option","key","value","req_rate_block_mode_extra_parameter","optionsBotCheck","_hoisted_10","_hoisted_11","_hoisted_12","req_count","req_count_stat_time_period","req_count_block_mode","req_count_block_mode_extra_parameter","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","slow_cc_check","_hoisted_17","_hoisted_18","ip_count","ip_count_stat_time_period","ip_count_block_mode","ip_count_block_mode_extra_parameter","_hoisted_19","_hoisted_20","_hoisted_21","domain_rate","slow_cc_block_mode","slow_cc_block_mode_extra_parameter","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","emergency_mode_check","_hoisted_26","emergency_mode_block_mode","emergency_mode_block_mode_extra_parameter","_hoisted_27","type","justify","href","_component_el_button","onClick","_cache","onClickFlowEngineSubmit","loading","loadingPage","mixins","mixin","data","ruleType","computed","eq_rate","required","message","trigger","validator","validatePositiveInt","mounted","route","useRoute","this","params","getData","methods","t","getUrl","oData","JXAjax","response","postUrl","$refs","validate","valid","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-0ae0f898.a8bbef0b.js","sourcesContent":["<template>\r\n  <div class=\"flow-engine-wrap\">\r\n    <el-row class=\"breadcrumb-style\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">网站防护</el-breadcrumb-item>\r\n        <el-breadcrumb-item :to=\"{ path: '/protection/'+ domain }\">防护配置</el-breadcrumb-item>\r\n        <el-breadcrumb-item>流量防护引擎</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <el-row class=\"container-style\">\r\n      <el-col :span=\"24\" v-loading.fullscreen.lock=\"loadingPage\">\r\n        <el-form :model=\"flowEngineForm\" :rules=\"rules\" ref=\"flowEngineForm\" label-width=\"200px\">\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">高频CC攻击防护</div>\r\n              <el-switch v-model=\"flowEngineForm.high_freq_cc_check\" active-text=\"开启\" inactive-text=\"关闭\"\r\n                active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.high_freq_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求频率检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求频率限制\" prop=\"req_rate\">\r\n                    <el-input v-model=\"flowEngineForm.req_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.req_rate_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_rate_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>IP请求次数检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求次数限制\" prop=\"req_rate\">\r\n                    <el-input v-model=\"flowEngineForm.req_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"统计时间（秒）\" prop=\"req_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.req_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.req_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.req_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">慢速CC攻击防护</div>\r\n              <el-switch v-model=\"flowEngineForm.slow_cc_check\" active-text=\"开启\" inactive-text=\"关闭\" active-value=\"true\"\r\n                inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.slow_cc_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>请求IP数量检测</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"请求IP数量限制\" prop=\"ip_count\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"统计时间（秒）\" prop=\"ip_count_stat_time_period\">\r\n                    <el-input v-model=\"flowEngineForm.ip_count_stat_time_period\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.ip_count_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.ip_count_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n              <div class=\"margin-4x\"></div>\r\n              <el-card class=\"box-card\">\r\n                <template #header>\r\n                  <span>回源保护机制</span>\r\n                </template>\r\n                <div>\r\n                  <el-form-item label=\"回源请求频率限制\" prop=\"domain_rate\">\r\n                    <el-input v-model=\"flowEngineForm.domain_rate\" placeholder=\"请输入\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item v-if=\"flowEngineForm.slow_cc_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.slow_cc_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n          <div class=\"protection-block\">\r\n            <div class=\"protection-item-right\">\r\n              <div class=\"protection-item-label\">无差别紧急防护</div>\r\n              <el-switch v-model=\"flowEngineForm.emergency_mode_check\" active-text=\"开启\" inactive-text=\"关闭\"\r\n                active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n            </div>\r\n            <div class=\"flow-engine-form\" v-if=\"flowEngineForm.emergency_mode_check == 'true'\">\r\n              <el-card class=\"box-card\">\r\n                \r\n                <div>\r\n                  <el-form-item label=\"执行动作\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in ruleAction\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item v-if=\"flowEngineForm.emergency_mode_block_mode == 'bot_check'\">\r\n                    <el-select v-model=\"flowEngineForm.emergency_mode_block_mode_extra_parameter\" placeholder=\"请选择\">\r\n                      <el-option v-for=\"item in optionsBotCheck\" :key=\"item.value\" :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <p class=\"form-info-color\">\r\n                      说明：标准模式无需人机交互\r\n                    </p>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n        </el-form>\r\n        <el-row type=\"flex\" justify=\"space-between\" class=\"margin-no-border\">\r\n          <el-col :span=\"12\">\r\n            <a class=\"el-button el-button--primary is-plain\" :href=\"'/#/protection/' + domain\">返回</a>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"text-align-right\">\r\n            <el-button type=\"primary\" @click=\"onClickFlowEngineSubmit('flowEngineForm')\"\r\n              :loading=\"loading\">保存</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {  mixin, JXAjax, validatePositiveInt } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loadingPage: false,\r\n      domain: \"\",\r\n      ruleType: \"\",\r\n      flowEngineForm: {\r\n      },\r\n      ruleAction: [\r\n        { value: \"block\", label: \"阻断请求\" },\r\n        { value: \"reject_response\", label: \"拒绝响应\" },\r\n        { value: \"bot_check\", label: \"人机识别\" },\r\n        { value: \"watch\", label: \"观察模式\" },\r\n\r\n      ],\r\n      optionsBotCheck: [\r\n        { value: \"standard\", label: \"标准\" },\r\n        { value: \"slipper\", label: \"滑块\" },\r\n        { value: \"image\", label: \"图片验证码\" },\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        eq_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        req_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        ip_count_stat_time_period: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n        domain_rate: [\r\n          { required: true, message: '请输入', trigger: [\"blur\", \"change\"], },\r\n          { validator: validatePositiveInt, trigger: [\"blur\", \"change\"], },\r\n        ],\r\n\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    const route = useRoute()\r\n    this.domain = route.params.domain;\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      var getUrl = \"/waf/waf_get_flow_engine_protection\";\r\n      var oData = { domain: t.domain };\r\n      JXAjax(\r\n        \"post\",\r\n        getUrl,\r\n        oData,\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.flowEngineForm = response.data.message;\r\n          t.flowEngineForm.domain = t.domain;\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onClickFlowEngineSubmit(flowEngineForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_edit_flow_engine_protection\";\r\n      this.flowEngineForm.domain = t.domain;\r\n      this.$refs[flowEngineForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.flowEngineForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.flow-engine-wrap .protection-block {\r\n  display: block;\r\n  padding: 20px 10px;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid #d0d2d9;\r\n}\r\n.protection-item-right {\r\n  display: flex;\r\n}\r\n.protection-item-label {\r\n  width: 200px;\r\n  line-height: 20px;\r\n  text-align: left;\r\n  padding: 0 12px 0 0;\r\n  -webkit-box-flex: 0;\r\n  -ms-flex: 0 0 auto;\r\n  flex: 0 0 auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n\r\n.flow-engine-wrap {\r\n  max-width: 800px;\r\n  min-width: 400px;\r\n}\r\n.flow-engine-wrap .first-divider{\r\n  margin-top: 0px;\r\n}\r\n.flow-engine-form {\r\n  margin: 25px 0;\r\n}\r\n.flow-engine-btn {\r\n  text-align: right;\r\n  padding: 25px 20px;\r\n}\r\n</style>\r\n","import { render } from \"./flow-engine-protection.vue?vue&type=template&id=5aa9589a\"\nimport script from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\nexport * from \"./flow-engine-protection.vue?vue&type=script&lang=js\"\n\nimport \"./flow-engine-protection.vue?vue&type=style&index=0&id=5aa9589a&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-2023\\\\jxwaf-base-2023\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./flow-engine-protection.vue?vue&type=style&index=0&id=5aa9589a&lang=css\""],"sourceRoot":""}