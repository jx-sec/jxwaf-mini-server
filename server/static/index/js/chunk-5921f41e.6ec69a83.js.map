{"version":3,"sources":["webpack:///./src/components/sys-custom-response.vue?e116","webpack:///./src/components/sys-custom-response.vue","webpack:///./src/components/sys-custom-response.vue?8080"],"names":["_createVNode","class","style","_createBlock","_component_el_row","_component_el_col","span","type","justify","_hoisted_1","_component_el_divider","_hoisted_2","_component_el_input","placeholder","prefix-icon","$data","domainSearch","$event","_component_el_button","onClick","_cache","$options","onClickCreateIdentity","_hoisted_4","_component_el_table","data","tableData","filter","name","toLowerCase","includes","_component_el_table_column","prop","label","default","_withCtx","scope","row","set_return_header_status","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","align","size","handleEdit","loading","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_12","_hoisted_13","handleDelete","_component_el_dialog","title","domainTitle","dialogIdentityFormVisible","close-on-click-modal","onClosed","dialogClose","footer","onClickIdentitySubmit","_component_el_form","model","identityForm","label-position","label-width","rules","ref","_component_el_form_item","key","domainType","disabled","detail","_component_el_switch","active-value","inactive-value","_hoisted_17","_Fragment","_renderList","ruleConfigMatchs","item","index","_hoisted_18","_hoisted_19","value","_withModifiers","removeConfigMatchs","_ctx","bigIndex","addConfigMatchs","plain","return_code","_component_el_radio_group","return_html","_component_el_radio","autosize","minRows","mixins","mixin","set_return_header_value","computed","required","message","trigger","validator","validateRuleName","validateReturnCode","mounted","this","getData","methods","t","JXAjax","response","forEach","$refs","resetFields","postUrl","length","$message","JSON","stringify","validate","valid","oGetData","header_value","parse","box","i","push","indexOf","splice","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-5921f41e.6ec69a83.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-custom-response.vue?vue&type=style&index=0&id=ea08b4f0&lang=css\"","<template>\r\n  <el-row>\r\n    <el-col :span=\"24\">\r\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n        <el-col :span=\"24\">\r\n          <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n            <el-col :span=\"12\">\r\n              <h3>自定义响应配置</h3>\r\n            </el-col>\r\n      \r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      <el-divider />\r\n      <el-row class=\"text-align-right\">\r\n        <div class=\"domain-search-input\">\r\n          <el-input placeholder=\"请输入名称进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"domainSearch\"></el-input>\r\n        </div>\r\n        <el-button type=\"primary\" @click=\"onClickCreateIdentity()\">新增</el-button>\r\n      </el-row>\r\n      <div class=\"demo-block\">\r\n        <el-table :data=\"\r\n          tableData.filter(\r\n            (data) =>\r\n              !domainSearch ||\r\n              data.name.toLowerCase().includes(domainSearch.toLowerCase())\r\n          )\r\n        \" style=\"width: 100%\">\r\n          <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n          <el-table-column prop=\"detail\" label=\"详情\"></el-table-column>\r\n          <el-table-column prop=\"status\" label=\"自定义响应头\">\r\n            <template #default=\"scope\">\r\n              <span v-if=\"scope.row.set_return_header_status == 'true'\">\r\n                <i class=\"el-icon-circle-check icon-success\"></i>已开启\r\n              </span>\r\n              <span v-if=\"scope.row.set_return_header_status == 'false'\">\r\n                <i class=\"el-icon-circle-close icon-error\"></i>已关闭\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\"\r\n                :loading=\"scope.row.loading\">编辑</el-button>\r\n              \r\n              <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                <p>确定删除吗？</p>\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                  </el-button>\r\n                </div>\r\n                <template #reference>\r\n                  <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                </template>\r\n\r\n              </el-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-dialog :title=\"domainTitle\" v-model=\"dialogIdentityFormVisible\" width=\"520px\" :close-on-click-modal=\"false\"\r\n      @closed=\"dialogClose\">\r\n      <el-form class=\"form-tag-dialog identity-edit-form \" :model=\"identityForm\" size=\"mini\" label-position=\"left\" label-width=\"130px\"\r\n        :rules=\"rules\" ref=\"identityForm\">\r\n        <el-form-item label=\"名称\" prop=\"name\" key=\"1\">\r\n          <el-input v-model=\"identityForm.name\" v-if=\"domainType == 'new'\" placeholder=\"请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”\">\r\n          </el-input>\r\n          <el-input v-model=\"identityForm.name\" v-if=\"domainType == 'edit'\" disabled=\"disabled\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"详情\" key=\"2\">\r\n          <el-input v-model=\"identityForm.detail\" placeholder=\"请输入详情\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"自定义header头\" key=\"3\">\r\n          <el-switch v-model=\"identityForm.set_return_header_status\" active-value=\"true\" inactive-value=\"false\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <div v-if=\"identityForm.set_return_header_status == 'true'\">\r\n          <el-form-item label=\"响应头配置\" class=\"longer-cascader\">\r\n            <div class=\"match-box\" v-for=\"(item, index) in ruleConfigMatchs\" :key=\"'matchs' + index\">\r\n              <div class=\"match_key_title\">\r\n                <el-input v-model=\"item.key\" placeholder=\"key\"> </el-input>\r\n              </div>\r\n              <div class=\"match-box-content\">\r\n                <el-input v-model=\"item.value\" placeholder=\"value\"> </el-input>\r\n              </div>\r\n          \r\n              <el-button @click.prevent=\"removeConfigMatchs(item, bigIndex)\">删除</el-button>\r\n            </div>\r\n            <el-button @click=\"addConfigMatchs(bigIndex)\" plain type=\"primary\" class=\"button-new\">新增</el-button>\r\n          </el-form-item>\r\n        </div>\r\n        \r\n\r\n        <el-form-item label=\"HTTP响应码\" key=\"4\" prop=\"return_code\">\r\n          <el-input v-model=\"identityForm.return_code\" placeholder=\"请输入\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"HTTP响应内容\" key=\"5\">\r\n          <el-radio-group v-model=\"return_html\">\r\n            <el-radio :label=\"0\">无响应内容</el-radio>\r\n            <el-radio :label=\"1\">HTML响应内容</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item v-show=\"return_html == 1\" key=\"6\">\r\n          <el-input v-model=\"identityForm.return_html\" type=\"textarea\" :autosize=\"{ minRows: 10 }\" />\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogIdentityFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClickIdentitySubmit('identityForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { validateReturnCode, validateRuleName, mixin, JXAjax } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      domainTitle: \"新增\",\r\n      domainType: \"new\",\r\n      domainSearch: \"\",\r\n      dialogIdentityFormVisible: false,\r\n      loading: false,\r\n      identityForm: {\r\n        name: \"\",\r\n        detail: \"\",\r\n        set_return_header_status: \"false\",\r\n        set_return_header_value: \"\",\r\n        return_code: \"200\",\r\n        return_html:\"\",\r\n      },\r\n      return_html: 0,\r\n      tableData: [],\r\n      ruleConfigMatchs: [{\r\n        key: \"\",\r\n        value: \"\",\r\n      }],\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '请输入字母开头，只包含字母、数字、下划线“_”、中横线“-”',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validateRuleName,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        return_code: [\r\n          {\r\n            required: true,\r\n            message: '请输入HTTP响应码',\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validateReturnCode,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_sys_custom_response_list\",\r\n        {},\r\n        function (response) {\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n\r\n        }\r\n      );\r\n    },\r\n\r\n    dialogClose() {\r\n      this.identityForm = {\r\n        name: \"\",\r\n        detail: \"\",\r\n        set_return_header_status: \"false\",\r\n        set_return_header_value: \"\",\r\n        return_code: \"200\",\r\n        return_html: \"\",\r\n      };\r\n      this.return_html = 0; \r\n      this.ruleConfigMatchs = [{\r\n        key: \"\",\r\n        value: \"\",\r\n      }];\r\n      this.$refs[\"identityForm\"].resetFields();\r\n    },\r\n\r\n\r\n    onClickIdentitySubmit(identityForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_create_sys_custom_response\";\r\n      if (t.domainType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_sys_custom_response\";\r\n      }\r\n\r\n      if (t.return_html == 0) {\r\n        t.identityForm.return_html = \"\"\r\n      }\r\n\r\n      if (t.identityForm.set_return_header_status == 'true') { \r\n        if (t.ruleConfigMatchs.length == 0) {\r\n          t.$message({\r\n            message: '请对自定义header头进行配置',\r\n            type: \"error\",\r\n          });\r\n          return false;\r\n        }\r\n      }\r\n\r\n      t.identityForm.set_return_header_value = JSON.stringify(t.ruleConfigMatchs);\r\n      this.$refs[identityForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.identityForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogIdentityFormVisible = false;\r\n              t.getData();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    \r\n    onClickCreateIdentity() {\r\n      var t = this;\r\n      t.domainTitle = \"新增\";\r\n      t.domainType = \"new\";\r\n      t.dialogIdentityFormVisible = true;\r\n    },\r\n\r\n    handleEdit(data) {\r\n      var t = this;\r\n      data.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_custom_response\",\r\n        { name: data.name },\r\n        function (response) {\r\n          data.loading = false;\r\n          var oGetData = response.data.message;\r\n          t.identityForm.name = oGetData.name;\r\n          t.identityForm.detail = oGetData.detail;\r\n          t.identityForm.set_return_header_status = oGetData.set_return_header_status;\r\n          t.identityForm.set_return_header_value = oGetData.set_return_header_value;\r\n          t.identityForm.return_code = oGetData.return_code;\r\n          t.identityForm.return_html = oGetData.return_html;\r\n\r\n          if (t.identityForm.return_html == \"\") {\r\n            t.return_html = 0\r\n          } else {\r\n            t.return_html = 1\r\n          }\r\n\r\n          if (t.identityForm.set_return_header_status == \"true\") { \r\n            var header_value = JSON.parse(t.identityForm.set_return_header_value)\r\n            var box = []\r\n            for (var i in header_value) {\r\n              var item = header_value[i]\r\n              box.push({\r\n                \"key\": item.key,\r\n                \"value\": item.value\r\n              })\r\n            }\r\n            t.ruleConfigMatchs = box;\r\n          }\r\n          \r\n          \r\n          t.domainTitle = '编辑';\r\n          t.domainType = \"edit\";\r\n          t.dialogIdentityFormVisible = true;\r\n        },\r\n        function () {\r\n          data.loading = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_sys_custom_response\",\r\n        { name: data.name },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    removeConfigMatchs(item) {\r\n      var index = this.ruleConfigMatchs.indexOf(item);\r\n      if (index > 0) {\r\n        this.ruleConfigMatchs.splice(index, 1);\r\n      }\r\n    },\r\n\r\n    addConfigMatchs() {\r\n      this.ruleConfigMatchs.push({ \"key\": \"\", \"value\": \"\" })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.icon-success {\r\n  color: #67c23a;\r\n  margin-right: 5px;\r\n}\r\n.icon-error {\r\n  color: #f56c6c;\r\n  margin-right: 5px;\r\n}\r\n.icon-warning {\r\n  color: #e6a23c;\r\n  margin-right: 5px;\r\n}\r\n.domain-setting {\r\n  float: right;\r\n}\r\n.domain-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n.domain-search-input {\r\n  display: block;\r\n  float: left;\r\n  text-align: left;\r\n}\r\n.domain-search-input .el-input {\r\n  width: 100%;\r\n}\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n.domain-tabs {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.identity-edit-form .el-button {\r\n  margin-left: 10px;\r\n}\r\n\r\n.identity-edit-form .button-new {\r\n  margin-left: 0px;\r\n}\r\n\r\n.identity-edit-form .match-box-content {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.identity-edit-form .match_key_input {\r\n  position: absolute;\r\n  display: inline-block;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n\r\n.identity-edit-form .match_key_title {\r\n  width: 100px;\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n}\r\n.identity-edit-form .longer-cascader .match-box {\r\n  width: calc(100% - 74px);\r\n}\r\n\r\n.longer-cascader .match_key_cascader {\r\n  width: 100%;\r\n}\r\n\r\n.longer-cascader .el-cascader {\r\n  width: 100%;\r\n}\r\n\r\n\r\n.identity-edit-form .longer-cascader .match-box-content {\r\n  width: calc(100% - 176px);\r\n}\r\n\r\n\r\n.identity-edit-form .match-box {\r\n  display: inline-block;\r\n  margin-bottom: 10px;\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./sys-custom-response.vue?vue&type=template&id=ea08b4f0\"\nimport script from \"./sys-custom-response.vue?vue&type=script&lang=js\"\nexport * from \"./sys-custom-response.vue?vue&type=script&lang=js\"\n\nimport \"./sys-custom-response.vue?vue&type=style&index=0&id=ea08b4f0&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-mini\\\\jxwaf-mini-index\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}