{"version":3,"sources":["webpack:///./src/components/sys-name-list-item.vue?0557","webpack:///./src/components/sys-name-list-item.vue","webpack:///./src/components/sys-name-list-item.vue?a849"],"names":["class","href","style","span","type","justify","placeholder","prefix-icon","dataSearch","onChangeSearch","onClickCreateNameListItem","data","tableData","prop","label","align","default","placement","width","visible","scope","row","isVisiblePopover","reference","size","handleDelete","loading","background","layout","total","count","page-size","onCurrentChange","currentPage","now_page","title","dialogNameListItemFormVisible","close-on-click-modal","dialogClose","footer","onClickNameListItemSubmit","model","listItemForm","label-position","label-width","rules","ref","key","name_list_item","loadingPage","mixins","name_list_uuid","computed","mounted","route","this","uuid","params","getData","methods","nowPage","t","page","response","message","forEach","item","$refs","resetFields","postUrl","validate","valid","search_value","render"],"mappings":"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","file":"static/index/js/chunk-24877440.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-name-list-item.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-name-list-item.vue?vue&type=style&index=0&lang=css\"","<template>\r\n  <el-row v-loading.fullscreen.lock=\"loadingPage\">\r\n    <el-col :span=\"24\">\r\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n        <el-col :span=\"24\">\r\n          <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n            <el-col :span=\"12\">\r\n              <h3>名单配置管理</h3>\r\n            </el-col>\r\n            <el-col :span=\"12\" class=\"text-align-right\">\r\n\r\n            </el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"margin-4x\"></div>\r\n      <el-row class=\"text-align-right\">\r\n        <div class=\"domain-search-input\">\r\n          <el-input placeholder=\"请输入网站名进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"dataSearch\" @input=\"onChangeSearch\">\r\n          </el-input>\r\n        </div>\r\n        <el-button type=\"primary\" @click=\"onClickCreateNameListItem()\">添加条目</el-button>\r\n        <a class=\"el-button el-button--primary is-plain\" :href=\"'/#/sys-name-list'\">返回</a>\r\n      </el-row>\r\n      <div class=\"demo-block\">\r\n        <el-table :data=\"tableData\" style=\" width: 100%\">\r\n          <el-table-column prop=\"name_list_item\" label=\"条目名称\"></el-table-column>\r\n          <el-table-column prop=\"name_list_item_create_time\" label=\"创建时间\"></el-table-column>\r\n          <el-table-column prop=\"name_list_item_expire_time\" label=\"过期时间\"></el-table-column>\r\n\r\n          <el-table-column label=\"操作\" align=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                <p>确定删除吗？</p>\r\n                <div style=\"text-align: right; margin: 0\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                  <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                  </el-button>\r\n                </div>\r\n                <template #reference>\r\n                  <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                </template>\r\n\r\n              </el-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination background layout=\"prev, pager, next\" :total=\"count\" :page-size=\"50\"\r\n          @current-change=\"onCurrentChange\" v-model:currentPage=\"now_page\" />\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-dialog title=\"新增条目\" v-model=\"dialogNameListItemFormVisible\" width=\"520px\" :close-on-click-modal=\"false\"\r\n      @closed=\"dialogClose\">\r\n      <el-form class=\"form-tag-dialog\" :model=\"listItemForm\" size=\"mini\" label-position=\"right\" label-width=\"80px\"\r\n        :rules=\"rules\" ref=\"listItemForm\">\r\n        <el-form-item label=\"条目名称\" prop=\"name_list_item\" key=\"1\">\r\n          <el-input placeholder=\"请输入名单条目的名称\" v-model=\"listItemForm.name_list_item\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogNameListItemFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClickNameListItemSubmit('listItemForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { validatePort, mixin, JXAjax } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loadingPage: true,\r\n      dialogNameListItemFormVisible: false,\r\n      loading: false,\r\n      listItemForm: {\r\n        name_list_uuid: \"\",\r\n        name_list_item: \"\",\r\n      },\r\n      tableData: [],\r\n      count: 0,\r\n      now_page: 1,\r\n      dataSearch: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        \r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    const route = useRoute()\r\n    this.uuid = route.params.uuid;\r\n    this.getData(1);\r\n  },\r\n  methods: {\r\n    getData(nowPage) {\r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_name_list_item_list\",\r\n        { name_list_uuid: t.uuid, page: nowPage },\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableData = response.data.message;\r\n          t.count = response.data.count;\r\n          t.now_page = response.data.now_page;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onCurrentChange() { \r\n      if (this.dataSearch == \"\") {\r\n        this.getData(this.now_page)\r\n      } else { \r\n        this.onChangeSearch()\r\n      }\r\n      \r\n    },\r\n    dialogClose() {\r\n      this.listItemForm = {\r\n        name_list_uuid: this.uuid,\r\n        name_list_item: \"\"\r\n      };\r\n      this.$refs[\"listItemForm\"].resetFields();\r\n    },\r\n\r\n    onClickCreateNameListItem() { \r\n      this.dialogNameListItemFormVisible = true;\r\n    },\r\n    onClickNameListItemSubmit(listItemForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_create_sys_name_list_item\";\r\n      t.listItemForm.name_list_uuid = t.uuid;\r\n      this.$refs[listItemForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.listItemForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogNameListItemFormVisible = false;\r\n              t.getData(1);\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    onChangeSearch() { \r\n      var t = this;\r\n      if (t.dataSearch) {\r\n        JXAjax(\r\n          \"post\",\r\n          \"/waf/waf_search_sys_name_list_item\",\r\n          { name_list_uuid: t.uuid, page: t.now_page, search_value: t.dataSearch },\r\n          function (response) {\r\n            t.loadingPage = false;\r\n            t.tableData = response.data.message;\r\n            t.count = response.data.count;\r\n            t.now_page = response.data.now_page;\r\n            t.tableData.forEach(item => {\r\n              item.isVisiblePopover = false;\r\n            })\r\n          },\r\n          function () {\r\n            t.loadingPage = false;\r\n          },\r\n          \"no-message\"\r\n        );\r\n      } else { \r\n        t.getData(1)\r\n      }\r\n      \r\n    },\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_sys_name_list_item\",\r\n        { name_list_uuid: data.name_list_uuid, name_list_item: data.name_list_item },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData(1);\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n.icon-success {\r\n  color: #67c23a;\r\n  margin-right: 5px;\r\n}\r\n.icon-error {\r\n  color: #f56c6c;\r\n  margin-right: 5px;\r\n}\r\n.icon-warning {\r\n  color: #e6a23c;\r\n  margin-right: 5px;\r\n}\r\n.domain-setting {\r\n  float: right;\r\n}\r\n.domain-redirect {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px !important;\r\n}\r\n\r\n.el-form-item.is-required .redirect-box .el-form-item__label:before {\r\n  content: \"\";\r\n}\r\n.domain-search-input {\r\n  display: block;\r\n  float: left;\r\n  text-align: left;\r\n}\r\n.domain-search-input .el-input {\r\n  width: 100%;\r\n}\r\n.no-padding {\r\n  padding: 0;\r\n}\r\n.node-detail span {\r\n  font-size: 12px;\r\n}\r\n.domain-tabs {\r\n  margin-bottom: 18px;\r\n}\r\n</style>\r\n","import { render } from \"./sys-name-list-item.vue?vue&type=template&id=2e86ff47\"\nimport script from \"./sys-name-list-item.vue?vue&type=script&lang=js\"\nexport * from \"./sys-name-list-item.vue?vue&type=script&lang=js\"\n\nimport \"./sys-name-list-item.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}