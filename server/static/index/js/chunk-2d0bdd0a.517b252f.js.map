{"version":3,"sources":["webpack:///./src/components/node-monitor.vue","webpack:///./src/components/node-monitor.vue?252b"],"names":["style","class","_createVNode","_createBlock","_component_el_row","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_component_el_col","span","_hoisted_3","_hoisted_4","_component_el_input","placeholder","prefix-icon","$data","dataSearch","$event","_component_el_button","icon","onClick","$options","onChangeSearch","_hoisted_5","_component_el_table","data","tableData","filter","node_hostname","toLowerCase","includes","_component_el_table_column","prop","label","width","default","_withCtx","scope","row","node_status","_hoisted_6","_hoisted_7","align","_component_el_popover","placement","visible","isVisiblePopover","reference","type","size","_hoisted_8","_hoisted_9","handleDelete","loading","loadingPage","mixins","mixin","computed","rules","mounted","this","getData","methods","t","JXAjax","response","message","forEach","item","setTimeout","node_uuid","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-2d0bdd0a.517b252f.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-row class=\"breadcrumb-style\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/node-monitor' }\">运营中心</el-breadcrumb-item>\r\n        <el-breadcrumb-item>节点状态</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <el-row class=\"container-style\">\r\n      <el-col :span=\"24\" v-loading.fullscreen.lock=\"loadingPage\">\r\n        <el-row class=\"text-align-right\">\r\n          <div style=\"display:flex;\">\r\n            <div class=\"data-search-input\">\r\n              <el-input placeholder=\"请输入主机名称进行搜索\" prefix-icon=\"el-icon-search\" v-model=\"dataSearch\">\r\n              </el-input>\r\n              <el-button icon=\"el-icon-search\" @click=\"onChangeSearch\" class=\"search-icon-btn\" />\r\n            </div>\r\n          </div>\r\n        </el-row>\r\n        <div class=\"demo-block\">\r\n          <el-table\r\n            :data=\"tableData.filter((data) => !dataSearch || data.node_hostname.toLowerCase().includes(dataSearch.toLowerCase()))\"\r\n            style=\"width: 100%\">\r\n            <el-table-column prop=\"node_uuid\" label=\"节点\" width=\"300\"></el-table-column>\r\n            <el-table-column prop=\"node_hostname\" label=\"主机名称\"></el-table-column>\r\n            <el-table-column prop=\"node_ip\" label=\"IP地址\"></el-table-column>\r\n            <el-table-column prop=\"node_status_update_time\" label=\"心跳时间\"></el-table-column>\r\n            <el-table-column label=\"健康状态\">\r\n              <template #default=\"scope\">\r\n                <p v-if=\"scope.row.node_status == 'true'\">正常</p>\r\n                <p v-if=\"scope.row.node_status == 'false'\">异常</p>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" align=\"right\">\r\n              <template #default=\"scope\">\r\n                <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                  <p>确定删除吗？</p>\r\n                  <div style=\"text-align: right; margin: 0\">\r\n                    <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                    </el-button>\r\n                  </div>\r\n                  <template #reference>\r\n                    <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                  </template>\r\n                </el-popover>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { mixin, JXAjax } from \"../assets/scripts/common\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      dataSearch: \"\",\r\n      loadingPage: false,\r\n      loading: false,\r\n      tableData: [],\r\n      \r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"get\",\r\n        \"/waf/waf_get_node_monitor_list\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        }\r\n      );\r\n    },\r\n    onChangeSearch() {\r\n      var t = this;\r\n      t.loadingPage = true;\r\n      setTimeout(function () {\r\n        t.loadingPage = false;\r\n      }, 300)\r\n\r\n    },\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_node_monitor\",\r\n        { node_uuid: data.node_uuid },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n","import { render } from \"./node-monitor.vue?vue&type=template&id=845d8ad2\"\nimport script from \"./node-monitor.vue?vue&type=script&lang=js\"\nexport * from \"./node-monitor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-2023\\\\jxwaf-base-2023\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}