(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6213e6fd"],{"1f59":function(e,t,l){},2500:function(e,t,l){"use strict";l("1f59")},e7fd:function(e,t,l){"use strict";l.r(t);var a=l("7a23");const o=Object(a["createTextVNode"])("系统配置"),c=Object(a["createTextVNode"])("SSL证书管理"),i={class:"data-search-input"},s=Object(a["createTextVNode"])("添加SSL证书"),d={class:"demo-block"},r={key:0},n={key:1},b=Object(a["createTextVNode"])("编辑"),m=Object(a["createVNode"])("p",null,"确定删除吗？",-1),u={style:{"text-align":"right",margin:"0"}},j=Object(a["createTextVNode"])("取消"),p=Object(a["createTextVNode"])("确定 "),O=Object(a["createTextVNode"])("删除"),V=Object(a["createTextVNode"])("取消"),g=Object(a["createTextVNode"])("确定");function h(e,t,l,h,C,f){const w=Object(a["resolveComponent"])("el-breadcrumb-item"),_=Object(a["resolveComponent"])("el-breadcrumb"),k=Object(a["resolveComponent"])("el-row"),N=Object(a["resolveComponent"])("el-input"),v=Object(a["resolveComponent"])("el-button"),x=Object(a["resolveComponent"])("el-table-column"),y=Object(a["resolveComponent"])("el-popover"),S=Object(a["resolveComponent"])("el-table"),F=Object(a["resolveComponent"])("el-col"),T=Object(a["resolveComponent"])("el-form-item"),P=Object(a["resolveComponent"])("el-form"),D=Object(a["resolveComponent"])("el-dialog"),B=Object(a["resolveDirective"])("loading");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(k,{class:"breadcrumb-style"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(_,{separator:"/"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{to:{path:"/ssl-manage"}},{default:Object(a["withCtx"])(()=>[o]),_:1}),Object(a["createVNode"])(w,null,{default:Object(a["withCtx"])(()=>[c]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(k,{class:"container-style"},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(F,{span:24},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(k,{class:"text-align-right"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])("div",i,[Object(a["createVNode"])(N,{placeholder:"请输入证书域名进行搜索","prefix-icon":"el-icon-search",modelValue:C.dataSearch,"onUpdate:modelValue":t[1]||(t[1]=e=>C.dataSearch=e)},null,8,["modelValue"]),Object(a["createVNode"])(v,{icon:"el-icon-search",onClick:f.onChangeSearch,class:"search-icon-btn"},null,8,["onClick"])]),Object(a["createVNode"])(v,{type:"primary",onClick:t[2]||(t[2]=e=>f.onClickCreateSSL())},{default:Object(a["withCtx"])(()=>[s]),_:1})]),_:1}),Object(a["createVNode"])("div",d,[Object(a["createVNode"])(S,{data:C.tableData.filter(e=>!C.dataSearch||e.ssl_domain.toLowerCase().includes(C.dataSearch.toLowerCase())),style:{width:"100%"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(x,{prop:"ssl_domain",label:"SSL证书域名"}),Object(a["createVNode"])(x,{prop:"detail",label:"描述"}),Object(a["createVNode"])(x,{label:"状态"},{default:Object(a["withCtx"])(e=>["true"==e.row.status?(Object(a["openBlock"])(),Object(a["createBlock"])("p",r,"已加载")):Object(a["createCommentVNode"])("",!0),"false"==e.row.status?(Object(a["openBlock"])(),Object(a["createBlock"])("p",n,"未加载")):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(x,{prop:"update_time",label:"更新时间"}),Object(a["createVNode"])(x,{label:"操作",align:"right"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])(v,{size:"mini",onClick:t=>f.handleEdit(e.row),class:"button-block",type:"text"},{default:Object(a["withCtx"])(()=>[b]),_:2},1032,["onClick"]),Object(a["createVNode"])(y,{placement:"top",width:"160",visible:e.row.isVisiblePopover,"onUpdate:visible":t=>e.row.isVisiblePopover=t},{reference:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{type:"text",size:"mini",onClick:t=>e.row.isVisiblePopover=!0},{default:Object(a["withCtx"])(()=>[O]),_:2},1032,["onClick"])]),default:Object(a["withCtx"])(()=>[m,Object(a["createVNode"])("div",u,[Object(a["createVNode"])(v,{size:"mini",type:"text",onClick:t=>e.row.isVisiblePopover=!1},{default:Object(a["withCtx"])(()=>[j]),_:2},1032,["onClick"]),Object(a["createVNode"])(v,{type:"primary",size:"mini",onClick:t=>f.handleDelete(e.row),loading:C.loading},{default:Object(a["withCtx"])(()=>[p]),_:2},1032,["onClick","loading"])])]),_:2},1032,["visible","onUpdate:visible"])]),_:1})]),_:1},8,["data"])])]),_:1},512),[[B,C.loadingPage,void 0,{fullscreen:!0,lock:!0}]])]),_:1}),Object(a["createVNode"])(D,{title:C.sslTitle,modelValue:C.dialogSslFormVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>C.dialogSslFormVisible=e),width:"520px","close-on-click-modal":!1,onClose:f.dialogClose},{footer:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{onClick:t[8]||(t[8]=e=>C.dialogSslFormVisible=!1)},{default:Object(a["withCtx"])(()=>[V]),_:1}),Object(a["createVNode"])(v,{type:"primary",onClick:t[9]||(t[9]=e=>f.onClicksslSubmit("sslForm")),loading:C.loading},{default:Object(a["withCtx"])(()=>[g]),_:1},8,["loading"])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(P,{class:"form-tag-dialog",model:C.sslForm,size:"mini","label-position":"left","label-width":"130px",rules:f.rules,ref:"sslForm"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(T,{label:"SSL证书域名",prop:"ssl_domain",key:"1"},{default:Object(a["withCtx"])(()=>["new"==C.sslType?(Object(a["openBlock"])(),Object(a["createBlock"])(N,{key:0,modelValue:C.sslForm.ssl_domain,"onUpdate:modelValue":t[3]||(t[3]=e=>C.sslForm.ssl_domain=e),placeholder:"支持通配符，且为小写，例如 www.jxwaf.com"},null,8,["modelValue"])):Object(a["createCommentVNode"])("",!0),"edit"==C.sslType?(Object(a["openBlock"])(),Object(a["createBlock"])(N,{key:1,modelValue:C.sslForm.ssl_domain,"onUpdate:modelValue":t[4]||(t[4]=e=>C.sslForm.ssl_domain=e),disabled:"disabled"},null,8,["modelValue"])):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(T,{label:"描述",key:"2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N,{modelValue:C.sslForm.detail,"onUpdate:modelValue":t[5]||(t[5]=e=>C.sslForm.detail=e),placeholder:"SSL证书详情描述"},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(T,{label:"公钥",prop:"public_key",key:"3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N,{modelValue:C.sslForm.public_key,"onUpdate:modelValue":t[6]||(t[6]=e=>C.sslForm.public_key=e),placeholder:"需包含证书链",type:"textarea",rows:4},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(T,{label:"私钥",prop:"private_key",key:"4"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N,{modelValue:C.sslForm.private_key,"onUpdate:modelValue":t[7]||(t[7]=e=>C.sslForm.private_key=e),type:"textarea",rows:4},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue","onClose"])])}var C=l("362c"),f={mixins:[C["c"]],data(){return{sslTitle:"添加证书",sslType:"new",dataSearch:"",loadingPage:!1,dialogSslFormVisible:!1,loading:!1,sslForm:{detail:"",ssl_domain:"",private_key:"",public_key:""},tableData:[]}},computed:{rules(){return{ssl_domain:[{required:!0,message:"请输入证书名",trigger:["blur","change"]}],public_key:[{required:!0,message:"请输入公钥",trigger:"blur"}],private_key:[{required:!0,message:"请输入私钥",trigger:"blur"}]}}},mounted(){this.getData()},methods:{getData(){var e=this;Object(C["a"])("get","/waf/waf_get_ssl_manage_list",{},(function(t){e.loadingPage=!1,e.tableData=t.data.message,e.tableData.forEach(e=>{e.isVisiblePopover=!1})}),(function(){e.loadingPage=!1}))},onChangeSearch(){var e=this;e.loadingPage=!0,setTimeout((function(){e.loadingPage=!1}),300)},dialogClose(){this.sslForm={detail:"",ssl_domain:"",public_key:"",private_key:""},this.$refs["sslForm"].resetFields()},onClicksslSubmit(e){var t=this,l="/waf/waf_create_ssl_manage";"edit"==t.sslType&&(l="/waf/waf_edit_ssl_manage"),this.$refs[e].validate(e=>{e&&(t.loading=!0,Object(C["a"])("post",l,t.sslForm,(function(e){t.loading=!1,t.dialogSslFormVisible=!1,t.getData()}),(function(){t.loading=!1})))})},onClickCreateSSL(){var e=this;e.sslTitle="添加证书",e.sslType="new",e.dialogSslFormVisible=!0},handleEdit(e){var t=this;t.loadingPage=!0;var l="/waf/waf_get_ssl_manage",a={ssl_domain:e.ssl_domain};t.sslTitle="编辑证书",t.sslType="edit",t.dialogSslFormVisible=!0,Object(C["a"])("post",l,a,(function(e){t.loadingPage=!1,t.sslForm=e.data.message}),(function(){t.loadingPage=!1}),"no-message")},handleDelete(e){var t=this;t.loading=!0,Object(C["a"])("post","/waf/waf_del_ssl_manage",{ssl_domain:e.ssl_domain},(function(l){e.isVisiblePopover=!1,t.loading=!1,t.getData()}),(function(){t.loading=!1}))}}},w=(l("2500"),l("d959")),_=l.n(w);const k=_()(f,[["render",h]]);t["default"]=k}}]);
//# sourceMappingURL=chunk-6213e6fd.79c16724.js.map