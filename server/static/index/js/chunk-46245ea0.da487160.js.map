{"version":3,"sources":["webpack:///./src/components/sys-flow-white-rule.vue","webpack:///./src/components/sys-flow-white-rule.vue?9268","webpack:///./src/components/sys-flow-white-rule.vue?2c72"],"names":["class","_createVNode","style","_createBlock","_hoisted_1","_component_el_row","type","justify","_component_el_col","span","_hoisted_2","_hoisted_3","_component_el_tabs","onTabClick","$options","handleTabClick","$data","tabIndex","$event","_component_el_tab_pane","label","name","href","rule_uuid","_hoisted_4","_component_el_table","data","tableData","_component_el_table_column","prop","default","_withCtx","scope","_toDisplayString","row","waf_domain_count","waf_group_domain_count","align","_component_el_button","size","onClick","handleEdit","_component_el_popover","placement","width","visible","isVisiblePopover","reference","_hoisted_6","_hoisted_7","handleDelete","loading","_cache","onClickCreateGroup","loadingCreateGroup","_hoisted_12","tableDataGroup","scopeGroup","rule_group_uuid","handleEditGroup","rule_count","_hoisted_14","_hoisted_15","_hoisted_16","handleDeleteGroup","_hoisted_19","_hoisted_20","_hoisted_21","loadingPage","_component_el_dialog","title","groupTitle","dialogGroupFormVisible","close-on-click-modal","onClose","dialogClose","footer","onClickgroupSubmit","_component_el_form","model","groupForm","label-position","label-width","rules","ref","_component_el_form_item","key","_component_el_input","rule_group_name","placeholder","_hoisted_24","rule_group_detail","rows","mixins","mixin","domain","ruleType","groupType","computed","required","message","trigger","validator","validateRuleName","mounted","this","route","useRoute","params","getData","getDataGroup","methods","t","JXAjax","rule_type","response","forEach","item","window","location","tab","length","index","$refs","resetFields","postUrl","validate","valid","__exports__","render"],"mappings":"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","file":"static/index/js/chunk-46245ea0.da487160.js","sourcesContent":["<template>\r\n  <div class=\"custom-wrap\">\r\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n      <el-col :span=\"24\">\r\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n          <el-col :span=\"12\">\r\n            <h3>流量白名单规则管理</h3>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"text-align-right\">\r\n\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"margin-4x\"></div>\r\n    <el-tabs v-loading.fullscreen.lock=\"loadingPage\" class=\"tabs-no-bottom\" @tab-click=\"handleTabClick\"\r\n      v-model=\"tabIndex\">\r\n      <el-tab-pane label=\"规则\" name=\"0\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-row class=\"text-align-right\">\r\n              <a class=\"el-button el-button--primary\"\r\n                :href=\"'/#/sys-flow-white-rule-edit/' + rule_uuid+ '/single_rule/new'\">新建规则</a>\r\n            </el-row>\r\n            <div class=\" demo-block\">\r\n              <el-table :data=\"tableData\" style=\"width: 100%\">\r\n                <el-table-column prop=\"rule_name\" label=\"规则名称\"></el-table-column>\r\n                <el-table-column prop=\"rule_detail\" label=\"描述\"></el-table-column>\r\n                <el-table-column label=\"关联网站\">\r\n                  <template #default=\"scope\">\r\n                    <p>\r\n                      关联网站数量：{{scope.row.waf_domain_count}}\r\n                    </p>\r\n                    <p>\r\n                      网站分组关联数量：{{scope.row.waf_group_domain_count}} \r\n                    </p>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"update_time\" label=\"更新时间\"></el-table-column>\r\n\r\n                <el-table-column label=\"操作\" align=\"right\">\r\n                  <template #default=\"scope\">\r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" class=\"button-block\" type=\"text\">编辑\r\n                    </el-button>\r\n\r\n                    <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scope.row.isVisiblePopover\">\r\n                      <p>确定删除吗？</p>\r\n                      <div style=\"text-align: right; margin: 0\">\r\n                        <el-button size=\"mini\" type=\"text\" @click=\"scope.row.isVisiblePopover = false\">取消</el-button>\r\n                        <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\" :loading=\"loading\">确定\r\n                        </el-button>\r\n                      </div>\r\n                      <template #reference>\r\n                        <el-button type=\"text\" size=\"mini\" @click=\"scope.row.isVisiblePopover = true\">删除</el-button>\r\n                      </template>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"规则组\" name=\"1\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-row class=\"text-align-right\">\r\n              <el-button type=\"primary\" @click=\"onClickCreateGroup()\" :loading=\"loadingCreateGroup\">新建规则组</el-button>\r\n            </el-row>\r\n            <div class=\"demo-block\">\r\n              <el-table :data=\"tableDataGroup\" style=\"width: 100%\">\r\n\r\n                <el-table-column prop=\"rule_group_name\" label=\"规则组名称\"></el-table-column>\r\n               \r\n                <el-table-column prop=\"rule_group_detail\" label=\"描述\"></el-table-column>\r\n                <el-table-column label=\"关联网站\">\r\n                  <template #default=\"scope\">\r\n                    <p>\r\n                      关联网站数量：{{scope.row.waf_domain_count}}\r\n                    </p>\r\n                    <p>\r\n                      网站分组关联数量：{{scope.row.waf_group_domain_count}} \r\n                    </p>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"rule_count\" label=\"规则数量\"></el-table-column>\r\n\r\n                <el-table-column label=\"操作\" align=\"right\">\r\n                  <template #default=\"scopeGroup\">\r\n                    <a class=\"el-button el-button--text el-button--mini button-block\"\r\n                      :href=\"'/#/group-rule/' + scopeGroup.row.rule_group_uuid + '/sys-flow-white-rule'\">查看规则</a>\r\n                    <el-button size=\"mini\" @click=\"handleEditGroup(scopeGroup.row)\" class=\"button-block\" type=\"text\">编辑\r\n                    </el-button>\r\n                    <el-popover placement=\"top\" width=\"160\" v-model:visible=\"scopeGroup.row.isVisiblePopover\">\r\n                      <div v-if=\"scopeGroup.row.rule_count == 0\">\r\n                      <p>确定删除吗？</p>\r\n                      <div style=\"text-align: right; margin: 0\">\r\n                        <el-button size=\"mini\" type=\"text\" @click=\"scopeGroup.row.isVisiblePopover = false\">取消\r\n                        </el-button>\r\n                        <el-button type=\"primary\" size=\"mini\" @click=\"handleDeleteGroup(scopeGroup.row)\"\r\n                          :loading=\"loading\">\r\n                          确定\r\n                        </el-button>\r\n                      </div>\r\n                      </div>\r\n                      <div v-else>\r\n                        <p>请先删除规则组内规则</p>\r\n                        <div style=\"text-align: right; margin-top: 10px;\">\r\n                          <el-button type=\"primary\" size=\"mini\" @click=\"scopeGroup.row.isVisiblePopover = false\">好的\r\n                          </el-button>\r\n                        </div>\r\n                      </div>\r\n                      <template #reference>\r\n                        <el-button type=\"text\" size=\"mini\" @click=\"scopeGroup.row.isVisiblePopover = true\">删除\r\n                        </el-button>\r\n                      </template>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <el-dialog :title=\"groupTitle\" v-model=\"dialogGroupFormVisible\" width=\"520px\" :close-on-click-modal=\"false\"\r\n      @close=\"dialogClose\">\r\n      <el-form :model=\"groupForm\" size=\"mini\" label-position=\"left\" label-width=\"120px\" :rules=\"rules\" ref=\"groupForm\"\r\n        class=\"form-tag-dialog\">\r\n        <el-form-item label=\"规则组名称\" prop=\"rule_group_name\" key=\"1\">\r\n          <el-input v-model=\"groupForm.rule_group_name\" placeholder=\"请输入字母或数字，如group_1\"></el-input>\r\n          <p class=\"form-info-color\">\r\n            （请输入以字母开头，仅支持下划线“_”及中横线“-”两种特殊字符）\r\n          </p>\r\n        </el-form-item>\r\n        <el-form-item label=\"规则组描述\" key=\"2\">\r\n          <el-input v-model=\"groupForm.rule_group_detail\" placeholder=\"请输入规则组描述\" :rows=\"2\" type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer class=\"dialog-footer\">\r\n        <el-button @click=\"dialogGroupFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"onClickgroupSubmit('groupForm')\" :loading=\"loading\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mixin, JXAjax,validateRuleName } from \"../assets/scripts/common\";\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loadingPage: false,\r\n      loadingCreateGroup: false,\r\n      rule_uuid: 'new',\r\n      tableData: [],\r\n      tableDataGroup: [],\r\n      domain: \"\",\r\n      ruleType: \"single_rule\",\r\n      tabIndex: \"0\",\r\n      groupTitle: \"新建规则组\",\r\n      groupType: \"new\",\r\n      dialogGroupFormVisible: false,\r\n      groupForm: {\r\n        rule_group_name: \"\",\r\n        rule_group_detail: \"\"\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        rule_group_name: [\r\n          {\r\n            required: true,\r\n            message: \"请输入以字母开头的字符串，仅支持“_”及“-”两种特殊字符\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            validator: validateRuleName,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n      };\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadingPage = false;\r\n    const route = useRoute()\r\n    this.ruleType = route.params.ruleType;\r\n    if (this.ruleType == \"single_rule\") {\r\n      this.tabIndex = \"0\";\r\n      this.getData();\r\n    } else { \r\n      this.tabIndex = \"1\";\r\n      this.getDataGroup();\r\n    }\r\n    \r\n    \r\n  },\r\n  methods: {\r\n    getData() {\r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_flow_white_rule_list\",\r\n        { rule_type: 'single_rule'},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableData = response.data.message;\r\n          t.tableData.forEach(item => { \r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    onClickCreateGroup() { \r\n      var t = this;\r\n      t.groupTitle = \"新建规则组\";\r\n      t.groupType = \"new\";\r\n      t.dialogGroupFormVisible = true;\r\n    },\r\n    handleEdit(data) {\r\n      window.location.href = \"/#/sys-flow-white-rule-edit/\" + data.rule_uuid + \"/single_rule/edit\";\r\n    },\r\n    handleTabClick(tab) { \r\n      if (this.tableDataGroup.length == 0 && tab.index == 1) { \r\n        this.getDataGroup();\r\n      }\r\n      if (this.tableData.length == 0 && tab.index == 0) { \r\n        this.getData();\r\n      }\r\n    },\r\n    getDataGroup() { \r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_flow_white_rule_group_list\",\r\n        {},\r\n        function (response) {\r\n          t.loadingPage = false;\r\n          t.tableDataGroup = response.data.message;\r\n          t.tableDataGroup.forEach(item => {\r\n            item.isVisiblePopover = false;\r\n          })\r\n        },\r\n        function () {\r\n          t.loadingPage = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n    },\r\n    handleDelete(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_sys_flow_white_rule\",\r\n        {\r\n          rule_uuid: data.rule_uuid\r\n        },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getData()\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n    handleDeleteGroup(data) {\r\n      var t = this;\r\n      t.loading = true;\r\n\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_del_sys_flow_white_rule_group\",\r\n        {\r\n          rule_group_uuid: data.rule_group_uuid\r\n        },\r\n        function (response) {\r\n          data.isVisiblePopover = false;\r\n          t.loading = false;\r\n          t.getDataGroup();\r\n        },\r\n        function () {\r\n          t.loading = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    dialogClose() {\r\n      this.groupForm = {\r\n        rule_group_name: \"\",\r\n        rule_group_detail: \"\"\r\n      };\r\n      this.$refs[\"groupForm\"].resetFields();\r\n    },\r\n\r\n    onClickgroupSubmit(groupForm) {\r\n      var t = this;\r\n      var postUrl = \"/waf/waf_create_sys_flow_white_rule_group\";\r\n      if (t.groupType == \"edit\") {\r\n        postUrl = \"/waf/waf_edit_sys_flow_white_rule_group\";\r\n      }\r\n\r\n      this.$refs[groupForm].validate((valid) => {\r\n        if (valid) {\r\n          t.loading = true;\r\n          JXAjax(\r\n            \"post\",\r\n            postUrl,\r\n            t.groupForm,\r\n            function (response) {\r\n              t.loading = false;\r\n              t.dialogGroupFormVisible = false;\r\n              t.getDataGroup();\r\n            },\r\n            function () {\r\n              t.loading = false;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    handleEditGroup(data) {\r\n      var t = this;\r\n      JXAjax(\r\n        \"post\",\r\n        \"/waf/waf_get_sys_flow_white_rule_group\",\r\n        { rule_group_uuid: data.rule_group_uuid },\r\n        function (response) {\r\n          data.loading = false;\r\n          t.groupForm = response.data.message;\r\n          t.groupTitle = \"编辑规则组\";\r\n          t.groupType = \"edit\";\r\n          t.dialogGroupFormVisible = true;\r\n        },\r\n        function () {\r\n          data.loading = false;\r\n        },\r\n        \"no-message\"\r\n      );\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n\r\n.custom-wrap {\r\n  /* max-width: 800px;\r\n  min-width: 400px; */\r\n}\r\n.el-button.button-block {\r\n  display: block;\r\n  margin-left: 0px;\r\n  text-align: right;\r\n  width: 100%;\r\n}\r\n\r\n.custom-wrap .rule-matchs-content .match-box-title {\r\n  display: inline-block;\r\n  text-align: left;\r\n  font-size: 14px;\r\n  color: #909399;\r\n  padding: 0 5px;\r\n  box-sizing: border-box;\r\n}\r\n.custom-wrap .rule-matchs-content .match-box-title:before {\r\n  content: \"*\";\r\n  color: #f56c6c;\r\n  margin-right: 4px;\r\n}\r\n.custom-wrap .match-inline-block {\r\n  width: 192px;\r\n}\r\n.custom-wrap .match-inline-block-small {\r\n  width: 150px;\r\n}\r\n.tabs-no-bottom {\r\n\r\n}\r\n</style>\r\n","import { render } from \"./sys-flow-white-rule.vue?vue&type=template&id=20a99f12\"\nimport script from \"./sys-flow-white-rule.vue?vue&type=script&lang=js\"\nexport * from \"./sys-flow-white-rule.vue?vue&type=script&lang=js\"\n\nimport \"./sys-flow-white-rule.vue?vue&type=style&index=0&id=20a99f12&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\jxwaf-mini\\\\jxwaf-mini-index\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sys-flow-white-rule.vue?vue&type=style&index=0&id=20a99f12&lang=css\""],"sourceRoot":""}