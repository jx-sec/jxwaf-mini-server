(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a76ac364"],{"001b":function(e,o,t){"use strict";t.r(o);var l=t("7a23");const a={class:"page-owasp-wrap"},c=Object(l["createTextVNode"])("系统配置"),r=Object(l["createTextVNode"])("日志传输配置"),n=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：临时调试时开启，仅记录部分关键数据 ",-1),i=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：数据格式为syslog，仅支持TCP协议传输 ",-1),d={key:0},g=Object(l["createTextVNode"])("保存 ");function u(e,o,t,u,b,s){const f=Object(l["resolveComponent"])("el-breadcrumb-item"),m=Object(l["resolveComponent"])("el-breadcrumb"),O=Object(l["resolveComponent"])("el-row"),j=Object(l["resolveComponent"])("el-switch"),p=Object(l["resolveComponent"])("el-form-item"),C=Object(l["resolveComponent"])("el-input"),_=Object(l["resolveComponent"])("el-form"),V=Object(l["resolveComponent"])("el-col"),v=Object(l["resolveComponent"])("el-button"),h=Object(l["resolveDirective"])("loading");return Object(l["openBlock"])(),Object(l["createBlock"])("div",a,[Object(l["createVNode"])(O,{class:"breadcrumb-style"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(m,{separator:"/"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(f,{to:{path:"/sys-log-conf"}},{default:Object(l["withCtx"])(()=>[c]),_:1}),Object(l["createVNode"])(f,null,{default:Object(l["withCtx"])(()=>[r]),_:1})]),_:1})]),_:1}),Object(l["createVNode"])(O,{class:"container-style"},{default:Object(l["withCtx"])(()=>[Object(l["withDirectives"])(Object(l["createVNode"])(V,{span:24},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{model:b.logConfigForm,rules:s.rules,ref:"logConfigForm","label-width":"180px"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(p,{label:"本地调试记录",key:"1"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(j,{modelValue:b.logConfigForm.log_conf_local_debug,"onUpdate:modelValue":o[1]||(o[1]=e=>b.logConfigForm.log_conf_local_debug=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),n]),_:1}),Object(l["createVNode"])(p,{label:"远程日志记录",key:"2"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(j,{modelValue:b.logConfigForm.log_conf_remote,"onUpdate:modelValue":o[2]||(o[2]=e=>b.logConfigForm.log_conf_remote=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),i]),_:1}),"true"==b.logConfigForm.log_conf_remote?(Object(l["openBlock"])(),Object(l["createBlock"])("div",d,[Object(l["createVNode"])(p,{label:"日志服务器IP",prop:"log_ip",key:"3"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(C,{modelValue:b.logConfigForm.log_ip,"onUpdate:modelValue":o[3]||(o[3]=e=>b.logConfigForm.log_ip=e),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(p,{label:"日志服务器端口",prop:"log_port",key:"4"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(C,{modelValue:b.logConfigForm.log_port,"onUpdate:modelValue":o[4]||(o[4]=e=>b.logConfigForm.log_port=e),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(p,{label:"全流量日志记录",key:"5"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(j,{modelValue:b.logConfigForm.log_all,"onUpdate:modelValue":o[5]||(o[5]=e=>b.logConfigForm.log_all=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(p,{label:"记录请求返回内容",key:"6"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(j,{modelValue:b.logConfigForm.log_response,"onUpdate:modelValue":o[6]||(o[6]=e=>b.logConfigForm.log_response=e),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1})])):Object(l["createCommentVNode"])("",!0)]),_:1},8,["model","rules"]),Object(l["createVNode"])(O,{type:"flex",class:"margin-border",justify:"space-between"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(V,{span:12}),Object(l["createVNode"])(V,{span:12,class:"text-align-right"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{type:"primary",onClick:o[7]||(o[7]=e=>s.onClickLogConfigSubmit("logConfigForm")),loading:b.loading},{default:Object(l["withCtx"])(()=>[g]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512),[[h,b.loadingPage,void 0,{fullscreen:!0,lock:!0}]])]),_:1})])}var b=t("362c"),s={mixins:[b["c"]],data(){return{loadingPage:!1,loading:!1,logConfigForm:{}}},computed:{rules(){return{log_ip:[{required:!0,message:"请输入日志服务器IP",trigger:["blur","change"]},{validator:b["f"],trigger:["blur","change"]}],log_port:[{required:!0,message:"请输入日志服务器端口",trigger:["blur","change"]},{validator:b["g"],trigger:["blur","change"]}]}}},mounted(){this.getData()},methods:{getData(){var e=this,o="/waf/waf_get_sys_log_conf";Object(b["a"])("post",o,{},(function(o){e.loadingPage=!1,e.logConfigForm=o.data.message}),(function(){e.loadingPage=!1}),"no-message")},onClickLogConfigSubmit(e){var o=this,t="/waf/waf_edit_sys_log_conf";this.$refs[e].validate(e=>{e&&(o.loading=!0,Object(b["a"])("post",t,o.logConfigForm,(function(e){o.loading=!1,o.getData()}),(function(){o.loading=!1})))})}}},f=(t("d782"),t("d959")),m=t.n(f);const O=m()(s,[["render",u]]);o["default"]=O},ac96:function(e,o,t){},d782:function(e,o,t){"use strict";t("ac96")}}]);
//# sourceMappingURL=chunk-a76ac364.99dbdb7b.js.map