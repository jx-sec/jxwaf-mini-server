(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3703de6d"],{"001b":function(e,t,o){"use strict";o.r(t);var l=o("7a23"),r={class:"page-owasp-wrap"},a=Object(l["createVNode"])("h3",null,"日志配置",-1),n=Object(l["createVNode"])("div",{class:"margin-4x"},null,-1),c=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：临时调试时开启，仅记录部分关键数据 ",-1),i=Object(l["createVNode"])("p",{class:"form-info-color"}," 说明：数据格式为syslog，仅支持TCP协议传输 ",-1),u={key:0},d=Object(l["createTextVNode"])("syslog"),g=Object(l["createTextVNode"])("kafka"),f={class:"form-info-color"},b={key:0},s=Object(l["createVNode"])("div",{class:"margin-4x"},null,-1),m=Object(l["createTextVNode"])("保存 ");function p(e,t){var o=Object(l["resolveComponent"])("el-col"),p=Object(l["resolveComponent"])("el-row"),j=Object(l["resolveComponent"])("el-divider"),O=Object(l["resolveComponent"])("el-switch"),_=Object(l["resolveComponent"])("el-form-item"),V=Object(l["resolveComponent"])("el-radio"),C=Object(l["resolveComponent"])("el-input"),k=Object(l["resolveComponent"])("el-form"),w=Object(l["resolveComponent"])("el-button"),h=Object(l["resolveDirective"])("loading");return Object(l["openBlock"])(),Object(l["createBlock"])("div",r,[Object(l["createVNode"])(p,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(o,{span:24},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(p,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(o,{span:12},{default:Object(l["withCtx"])((function(){return[a]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(l["createVNode"])(j),n,Object(l["withDirectives"])(Object(l["createVNode"])(p,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(o,{span:24},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(k,{model:e.logConfigForm,rules:e.rules,ref:"logConfigForm","label-width":"180px"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(_,{label:"本地调试记录",key:"1"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(O,{modelValue:e.logConfigForm.log_local_debug,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.logConfigForm.log_local_debug=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),c]})),_:1}),Object(l["createVNode"])(_,{label:"远程日志记录",key:"2"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(O,{modelValue:e.logConfigForm.log_remote,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.logConfigForm.log_remote=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"]),i]})),_:1}),"true"==e.logConfigForm.log_remote?(Object(l["openBlock"])(),Object(l["createBlock"])("div",u,[Object(l["createVNode"])(_,{label:"日志传输协议",key:"6"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(V,{modelValue:e.logConfigForm.log_remote_type,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.logConfigForm.log_remote_type=t}),label:"syslog"},{default:Object(l["withCtx"])((function(){return[d]})),_:1},8,["modelValue"]),Object(l["createVNode"])(V,{modelValue:e.logConfigForm.log_remote_type,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.logConfigForm.log_remote_type=t}),label:"kafka"},{default:Object(l["withCtx"])((function(){return[g]})),_:1},8,["modelValue"]),Object(l["withDirectives"])(Object(l["createVNode"])("p",f," 说明：仅支持TCP协议传输 ",512),[[l["vShow"],"syslog"==e.logConfigForm.log_remote_type]])]})),_:1}),"kafka"==e.logConfigForm.log_remote_type?(Object(l["openBlock"])(),Object(l["createBlock"])("div",b,[Object(l["createVNode"])(_,{label:"kafka_bootstrap_servers",prop:"kafka_bootstrap_servers",key:"7"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(C,{modelValue:e.logConfigForm.kafka_bootstrap_servers,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.logConfigForm.kafka_bootstrap_servers=t}),placeholder:"参考格式：192.168.1.1:9000,192.6168.1.2:9000,192.168.1.3:9000"},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(_,{label:"kafka_topic",prop:"kafka_topic",key:"8"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(C,{modelValue:e.logConfigForm.kafka_topic,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.logConfigForm.kafka_topic=t}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1})])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(_,{label:"日志服务器IP",prop:"log_ip",key:"3"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(C,{modelValue:e.logConfigForm.log_ip,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.logConfigForm.log_ip=t}),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(_,{label:"日志服务器端口",prop:"log_port",key:"4"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(C,{modelValue:e.logConfigForm.log_port,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.logConfigForm.log_port=t}),placeholder:"请输入JXWAF账号TOKEN"},null,8,["modelValue"])]})),_:1})])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(_,{label:"全流量日志记录",key:"5"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(O,{modelValue:e.logConfigForm.log_all,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.logConfigForm.log_all=t}),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),s,Object(l["createVNode"])(p,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(o,{span:24},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(p,{type:"flex",class:"row-bg",justify:"space-between"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(o,{span:12}),Object(l["createVNode"])(o,{span:12,class:"text-align-right"},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(w,{type:"primary",onClick:t[10]||(t[10]=function(t){return e.onClickLogConfigSubmit("logConfigForm")}),loading:e.loading},{default:Object(l["withCtx"])((function(){return[m]})),_:1},8,["loading"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},512),[[h,e.loadingPage,void 0,{fullscreen:!0,lock:!0}]])])}var j=o("362c"),O={mixins:[j["b"]],data:function(){return{loadingPage:!1,loading:!1,logConfigForm:{log_remote_type:"syslog"}}},computed:{rules:function(){return{log_ip:[{required:!0,message:"请输入日志服务器IP",trigger:["blur","change"]},{validator:j["d"],trigger:["blur","change"]}],log_port:[{required:!0,message:"请输入日志服务器端口",trigger:["blur","change"]},{validator:j["e"],trigger:["blur","change"]}],kafka_bootstrap_servers:[{required:!0,message:"参考格式：192.168.1.1:9000,192.6168.1.2:9000,192.168.1.3:9000",trigger:["blur","change"]}],kafka_topic:[{required:!0,message:"请输入",trigger:["blur","change"]}]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t="/waf/waf_get_sys_log_conf";Object(j["a"])("post",t,{},(function(t){e.loadingPage=!1,e.logConfigForm=t.data.message}),(function(){e.loadingPage=!1}),"no-message")},onClickLogConfigSubmit:function(e){var t=this,o="/waf/waf_edit_sys_log_conf";this.$refs[e].validate((function(e){e&&(t.loading=!0,Object(j["a"])("post",o,t.logConfigForm,(function(e){t.loading=!1,t.getData()}),(function(){t.loading=!1})))}))}}};o("6289");O.render=p;t["default"]=O},6289:function(e,t,o){"use strict";o("ae3a")},ae3a:function(e,t,o){}}]);
//# sourceMappingURL=chunk-3703de6d.0b9c671f.js.map